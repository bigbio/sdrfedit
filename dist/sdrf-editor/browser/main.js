import{a as O,b as re,c as Kp,d as Xp,e as j}from"./chunk-FDERIQAA.js";var Rp=Kp((fc,pc)=>{"use strict";((t,e)=>{typeof define=="function"&&define.amd?define([],e):typeof pc=="object"&&typeof fc<"u"?pc.exports=e():t.Papa=e()})(fc,function t(){var e=typeof self<"u"?self:typeof window<"u"?window:e!==void 0?e:{},n,r=!e.document&&!!e.postMessage,o=e.IS_PAPA_WORKER||!1,i={},s=0,a={};function l(y){this._handle=null,this._finished=!1,this._completed=!1,this._halted=!1,this._input=null,this._baseIndex=0,this._partialLine="",this._rowCount=0,this._start=0,this._nextChunk=null,this.isFirstChunk=!0,this._completeResults={data:[],errors:[],meta:{}},function(v){var D=kn(v);D.chunkSize=parseInt(D.chunkSize),v.step||v.chunk||(D.chunkSize=null),this._handle=new p(D),(this._handle.streamer=this)._config=D}.call(this,y),this.parseChunk=function(v,D){var T=parseInt(this._config.skipFirstNLines)||0;if(this.isFirstChunk&&0<T){let q=this._config.newline;q||(S=this._config.quoteChar||'"',q=this._handle.guessLineEndings(v,S)),v=[...v.split(q).slice(T)].join(q)}this.isFirstChunk&&ae(this._config.beforeFirstChunk)&&(S=this._config.beforeFirstChunk(v))!==void 0&&(v=S),this.isFirstChunk=!1,this._halted=!1;var T=this._partialLine+v,S=(this._partialLine="",this._handle.parse(T,this._baseIndex,!this._finished));if(!this._handle.paused()&&!this._handle.aborted()){if(v=S.meta.cursor,T=(this._finished||(this._partialLine=T.substring(v-this._baseIndex),this._baseIndex=v),S&&S.data&&(this._rowCount+=S.data.length),this._finished||this._config.preview&&this._rowCount>=this._config.preview),o)e.postMessage({results:S,workerId:a.WORKER_ID,finished:T});else if(ae(this._config.chunk)&&!D){if(this._config.chunk(S,this._handle),this._handle.paused()||this._handle.aborted())return void(this._halted=!0);this._completeResults=S=void 0}return this._config.step||this._config.chunk||(this._completeResults.data=this._completeResults.data.concat(S.data),this._completeResults.errors=this._completeResults.errors.concat(S.errors),this._completeResults.meta=S.meta),this._completed||!T||!ae(this._config.complete)||S&&S.meta.aborted||(this._config.complete(this._completeResults,this._input),this._completed=!0),T||S&&S.meta.paused||this._nextChunk(),S}this._halted=!0},this._sendError=function(v){ae(this._config.error)?this._config.error(v):o&&this._config.error&&e.postMessage({workerId:a.WORKER_ID,error:v,finished:!1})}}function c(y){var v;(y=y||{}).chunkSize||(y.chunkSize=a.RemoteChunkSize),l.call(this,y),this._nextChunk=r?function(){this._readChunk(),this._chunkLoaded()}:function(){this._readChunk()},this.stream=function(D){this._input=D,this._nextChunk()},this._readChunk=function(){if(this._finished)this._chunkLoaded();else{if(v=new XMLHttpRequest,this._config.withCredentials&&(v.withCredentials=this._config.withCredentials),r||(v.onload=lt(this._chunkLoaded,this),v.onerror=lt(this._chunkError,this)),v.open(this._config.downloadRequestBody?"POST":"GET",this._input,!r),this._config.downloadRequestHeaders){var D,T=this._config.downloadRequestHeaders;for(D in T)v.setRequestHeader(D,T[D])}var S;this._config.chunkSize&&(S=this._start+this._config.chunkSize-1,v.setRequestHeader("Range","bytes="+this._start+"-"+S));try{v.send(this._config.downloadRequestBody)}catch(q){this._chunkError(q.message)}r&&v.status===0&&this._chunkError()}},this._chunkLoaded=function(){v.readyState===4&&(v.status<200||400<=v.status?this._chunkError():(this._start+=this._config.chunkSize||v.responseText.length,this._finished=!this._config.chunkSize||this._start>=(D=>(D=D.getResponseHeader("Content-Range"))!==null?parseInt(D.substring(D.lastIndexOf("/")+1)):-1)(v),this.parseChunk(v.responseText)))},this._chunkError=function(D){D=v.statusText||D,this._sendError(new Error(D))}}function u(y){(y=y||{}).chunkSize||(y.chunkSize=a.LocalChunkSize),l.call(this,y);var v,D,T=typeof FileReader<"u";this.stream=function(S){this._input=S,D=S.slice||S.webkitSlice||S.mozSlice,T?((v=new FileReader).onload=lt(this._chunkLoaded,this),v.onerror=lt(this._chunkError,this)):v=new FileReaderSync,this._nextChunk()},this._nextChunk=function(){this._finished||this._config.preview&&!(this._rowCount<this._config.preview)||this._readChunk()},this._readChunk=function(){var S=this._input,q=(this._config.chunkSize&&(q=Math.min(this._start+this._config.chunkSize,this._input.size),S=D.call(S,this._start,q)),v.readAsText(S,this._config.encoding));T||this._chunkLoaded({target:{result:q}})},this._chunkLoaded=function(S){this._start+=this._config.chunkSize,this._finished=!this._config.chunkSize||this._start>=this._input.size,this.parseChunk(S.target.result)},this._chunkError=function(){this._sendError(v.error)}}function h(y){var v;l.call(this,y=y||{}),this.stream=function(D){return v=D,this._nextChunk()},this._nextChunk=function(){var D,T;if(!this._finished)return D=this._config.chunkSize,v=D?(T=v.substring(0,D),v.substring(D)):(T=v,""),this._finished=!v,this.parseChunk(T)}}function C(y){l.call(this,y=y||{});var v=[],D=!0,T=!1;this.pause=function(){l.prototype.pause.apply(this,arguments),this._input.pause()},this.resume=function(){l.prototype.resume.apply(this,arguments),this._input.resume()},this.stream=function(S){this._input=S,this._input.on("data",this._streamData),this._input.on("end",this._streamEnd),this._input.on("error",this._streamError)},this._checkIsFinished=function(){T&&v.length===1&&(this._finished=!0)},this._nextChunk=function(){this._checkIsFinished(),v.length?this.parseChunk(v.shift()):D=!0},this._streamData=lt(function(S){try{v.push(typeof S=="string"?S:S.toString(this._config.encoding)),D&&(D=!1,this._checkIsFinished(),this.parseChunk(v.shift()))}catch(q){this._streamError(q)}},this),this._streamError=lt(function(S){this._streamCleanUp(),this._sendError(S)},this),this._streamEnd=lt(function(){this._streamCleanUp(),T=!0,this._streamData("")},this),this._streamCleanUp=lt(function(){this._input.removeListener("data",this._streamData),this._input.removeListener("end",this._streamEnd),this._input.removeListener("error",this._streamError)},this)}function p(y){var v,D,T,S,q=Math.pow(2,53),Pe=-q,ct=/^\s*-?(\d+\.?|\.\d+|\d+\.\d+)([eE][-+]?\d+)?\s*$/,ut=/^((\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z)))$/,K=this,we=0,R=0,ze=!1,B=!1,J=[],A={data:[],errors:[],meta:{}};function ke(ee){return y.skipEmptyLines==="greedy"?ee.join("").trim()==="":ee.length===1&&ee[0].length===0}function Se(){if(A&&T&&(dt("Delimiter","UndetectableDelimiter","Unable to auto-detect delimiting character; defaulted to '"+a.DefaultDelimiter+"'"),T=!1),y.skipEmptyLines&&(A.data=A.data.filter(function(_e){return!ke(_e)})),$e()){let _e=function(Le,Ce){ae(y.transformHeader)&&(Le=y.transformHeader(Le,Ce)),J.push(Le)};var Z=_e;if(A)if(Array.isArray(A.data[0])){for(var ee=0;$e()&&ee<A.data.length;ee++)A.data[ee].forEach(_e);A.data.splice(0,1)}else A.data.forEach(_e)}function oe(_e,Le){for(var Ce=y.header?{}:[],ue=0;ue<_e.length;ue++){var Y=ue,Ge=_e[ue],Ge=((ie,be)=>(Re=>(y.dynamicTypingFunction&&y.dynamicTyping[Re]===void 0&&(y.dynamicTyping[Re]=y.dynamicTypingFunction(Re)),(y.dynamicTyping[Re]||y.dynamicTyping)===!0))(ie)?be==="true"||be==="TRUE"||be!=="false"&&be!=="FALSE"&&((Re=>{if(ct.test(Re)&&(Re=parseFloat(Re),Pe<Re&&Re<q))return 1})(be)?parseFloat(be):ut.test(be)?new Date(be):be===""?null:be):be)(Y=y.header?ue>=J.length?"__parsed_extra":J[ue]:Y,Ge=y.transform?y.transform(Ge,Y):Ge);Y==="__parsed_extra"?(Ce[Y]=Ce[Y]||[],Ce[Y].push(Ge)):Ce[Y]=Ge}return y.header&&(ue>J.length?dt("FieldMismatch","TooManyFields","Too many fields: expected "+J.length+" fields but parsed "+ue,R+Le):ue<J.length&&dt("FieldMismatch","TooFewFields","Too few fields: expected "+J.length+" fields but parsed "+ue,R+Le)),Ce}var De;A&&(y.header||y.dynamicTyping||y.transform)&&(De=1,!A.data.length||Array.isArray(A.data[0])?(A.data=A.data.map(oe),De=A.data.length):A.data=oe(A.data,0),y.header&&A.meta&&(A.meta.fields=J),R+=De)}function $e(){return y.header&&J.length===0}function dt(ee,oe,De,Z){ee={type:ee,code:oe,message:De},Z!==void 0&&(ee.row=Z),A.errors.push(ee)}ae(y.step)&&(S=y.step,y.step=function(ee){A=ee,$e()?Se():(Se(),A.data.length!==0&&(we+=ee.data.length,y.preview&&we>y.preview?D.abort():(A.data=A.data[0],S(A,K))))}),this.parse=function(ee,oe,De){var Z=y.quoteChar||'"',Z=(y.newline||(y.newline=this.guessLineEndings(ee,Z)),T=!1,y.delimiter?ae(y.delimiter)&&(y.delimiter=y.delimiter(ee),A.meta.delimiter=y.delimiter):((Z=((_e,Le,Ce,ue,Y)=>{var Ge,ie,be,Re;Y=Y||[",","	","|",";",a.RECORD_SEP,a.UNIT_SEP];for(var Rn=0;Rn<Y.length;Rn++){for(var Ot,mr=Y[Rn],We=0,Pt=0,je=0,tt=(be=void 0,new I({comments:ue,delimiter:mr,newline:Le,preview:10}).parse(_e)),Zt=0;Zt<tt.data.length;Zt++)Ce&&ke(tt.data[Zt])?je++:(Ot=tt.data[Zt].length,Pt+=Ot,be===void 0?be=Ot:0<Ot&&(We+=Math.abs(Ot-be),be=Ot));0<tt.data.length&&(Pt/=tt.data.length-je),(ie===void 0||We<=ie)&&(Re===void 0||Re<Pt)&&1.99<Pt&&(ie=We,Ge=mr,Re=Pt)}return{successful:!!(y.delimiter=Ge),bestDelimiter:Ge}})(ee,y.newline,y.skipEmptyLines,y.comments,y.delimitersToGuess)).successful?y.delimiter=Z.bestDelimiter:(T=!0,y.delimiter=a.DefaultDelimiter),A.meta.delimiter=y.delimiter),kn(y));return y.preview&&y.header&&Z.preview++,v=ee,D=new I(Z),A=D.parse(v,oe,De),Se(),ze?{meta:{paused:!0}}:A||{meta:{paused:!1}}},this.paused=function(){return ze},this.pause=function(){ze=!0,D.abort(),v=ae(y.chunk)?"":v.substring(D.getCharIndex())},this.resume=function(){K.streamer._halted?(ze=!1,K.streamer.parseChunk(v,!0)):setTimeout(K.resume,3)},this.aborted=function(){return B},this.abort=function(){B=!0,D.abort(),A.meta.aborted=!0,ae(y.complete)&&y.complete(A),v=""},this.guessLineEndings=function(_e,Z){_e=_e.substring(0,1048576);var Z=new RegExp(b(Z)+"([^]*?)"+b(Z),"gm"),De=(_e=_e.replace(Z,"")).split("\r"),Z=_e.split(`
`),_e=1<Z.length&&Z[0].length<De[0].length;if(De.length===1||_e)return`
`;for(var Le=0,Ce=0;Ce<De.length;Ce++)De[Ce][0]===`
`&&Le++;return Le>=De.length/2?`\r
`:"\r"}}function b(y){return y.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function I(y){var v=(y=y||{}).delimiter,D=y.newline,T=y.comments,S=y.step,q=y.preview,Pe=y.fastMode,ct=null,ut=!1,K=y.quoteChar==null?'"':y.quoteChar,we=K;if(y.escapeChar!==void 0&&(we=y.escapeChar),(typeof v!="string"||-1<a.BAD_DELIMITERS.indexOf(v))&&(v=","),T===v)throw new Error("Comment character same as delimiter");T===!0?T="#":(typeof T!="string"||-1<a.BAD_DELIMITERS.indexOf(T))&&(T=!1),D!==`
`&&D!=="\r"&&D!==`\r
`&&(D=`
`);var R=0,ze=!1;this.parse=function(B,J,A){if(typeof B!="string")throw new Error("Input must be a string");var ke=B.length,Se=v.length,$e=D.length,dt=T.length,ee=ae(S),oe=[],De=[],Z=[],_e=R=0;if(!B)return We();if(Pe||Pe!==!1&&B.indexOf(K)===-1){for(var Le=B.split(D),Ce=0;Ce<Le.length;Ce++){if(Z=Le[Ce],R+=Z.length,Ce!==Le.length-1)R+=D.length;else if(A)return We();if(!T||Z.substring(0,dt)!==T){if(ee){if(oe=[],Re(Z.split(v)),Pt(),ze)return We()}else Re(Z.split(v));if(q&&q<=Ce)return oe=oe.slice(0,q),We(!0)}}return We()}for(var ue=B.indexOf(v,R),Y=B.indexOf(D,R),Ge=new RegExp(b(we)+b(K),"g"),ie=B.indexOf(K,R);;)if(B[R]===K)for(ie=R,R++;;){if((ie=B.indexOf(K,ie+1))===-1)return A||De.push({type:"Quotes",code:"MissingQuotes",message:"Quoted field unterminated",row:oe.length,index:R}),Ot();if(ie===ke-1)return Ot(B.substring(R,ie).replace(Ge,K));if(K===we&&B[ie+1]===we)ie++;else if(K===we||ie===0||B[ie-1]!==we){ue!==-1&&ue<ie+1&&(ue=B.indexOf(v,ie+1));var be=Rn((Y=Y!==-1&&Y<ie+1?B.indexOf(D,ie+1):Y)===-1?ue:Math.min(ue,Y));if(B.substr(ie+1+be,Se)===v){Z.push(B.substring(R,ie).replace(Ge,K)),B[R=ie+1+be+Se]!==K&&(ie=B.indexOf(K,R)),ue=B.indexOf(v,R),Y=B.indexOf(D,R);break}if(be=Rn(Y),B.substring(ie+1+be,ie+1+be+$e)===D){if(Z.push(B.substring(R,ie).replace(Ge,K)),mr(ie+1+be+$e),ue=B.indexOf(v,R),ie=B.indexOf(K,R),ee&&(Pt(),ze))return We();if(q&&oe.length>=q)return We(!0);break}De.push({type:"Quotes",code:"InvalidQuotes",message:"Trailing quote on quoted field is malformed",row:oe.length,index:R}),ie++}}else if(T&&Z.length===0&&B.substring(R,R+dt)===T){if(Y===-1)return We();R=Y+$e,Y=B.indexOf(D,R),ue=B.indexOf(v,R)}else if(ue!==-1&&(ue<Y||Y===-1))Z.push(B.substring(R,ue)),R=ue+Se,ue=B.indexOf(v,R);else{if(Y===-1)break;if(Z.push(B.substring(R,Y)),mr(Y+$e),ee&&(Pt(),ze))return We();if(q&&oe.length>=q)return We(!0)}return Ot();function Re(je){oe.push(je),_e=R}function Rn(je){var tt=0;return tt=je!==-1&&(je=B.substring(ie+1,je))&&je.trim()===""?je.length:tt}function Ot(je){return A||(je===void 0&&(je=B.substring(R)),Z.push(je),R=ke,Re(Z),ee&&Pt()),We()}function mr(je){R=je,Re(Z),Z=[],Y=B.indexOf(D,R)}function We(je){if(y.header&&!J&&oe.length&&!ut){var tt=oe[0],Zt=Object.create(null),ds=new Set(tt);let gc=!1;for(let Fn=0;Fn<tt.length;Fn++){let kt=tt[Fn];if(Zt[kt=ae(y.transformHeader)?y.transformHeader(kt,Fn):kt]){let yr,mc=Zt[kt];for(;yr=kt+"_"+mc,mc++,ds.has(yr););ds.add(yr),tt[Fn]=yr,Zt[kt]++,gc=!0,(ct=ct===null?{}:ct)[yr]=kt}else Zt[kt]=1,tt[Fn]=kt;ds.add(kt)}gc&&console.warn("Duplicate headers found and renamed."),ut=!0}return{data:oe,errors:De,meta:{delimiter:v,linebreak:D,aborted:ze,truncated:!!je,cursor:_e+(J||0),renamedHeaders:ct}}}function Pt(){S(We()),oe=[],De=[]}},this.abort=function(){ze=!0},this.getCharIndex=function(){return R}}function U(y){var v=y.data,D=i[v.workerId],T=!1;if(v.error)D.userError(v.error,v.file);else if(v.results&&v.results.data){var S={abort:function(){T=!0,ne(v.workerId,{data:[],errors:[],meta:{aborted:!0}})},pause:Xe,resume:Xe};if(ae(D.userStep)){for(var q=0;q<v.results.data.length&&(D.userStep({data:v.results.data[q],errors:v.results.errors,meta:v.results.meta},S),!T);q++);delete v.results}else ae(D.userChunk)&&(D.userChunk(v.results,S,v.file),delete v.results)}v.finished&&!T&&ne(v.workerId,v.results)}function ne(y,v){var D=i[y];ae(D.userComplete)&&D.userComplete(v),D.terminate(),delete i[y]}function Xe(){throw new Error("Not implemented.")}function kn(y){if(typeof y!="object"||y===null)return y;var v,D=Array.isArray(y)?[]:{};for(v in y)D[v]=kn(y[v]);return D}function lt(y,v){return function(){y.apply(v,arguments)}}function ae(y){return typeof y=="function"}return a.parse=function(y,v){var D=(v=v||{}).dynamicTyping||!1;if(ae(D)&&(v.dynamicTypingFunction=D,D={}),v.dynamicTyping=D,v.transform=!!ae(v.transform)&&v.transform,!v.worker||!a.WORKERS_SUPPORTED)return D=null,a.NODE_STREAM_INPUT,typeof y=="string"?(y=(T=>T.charCodeAt(0)!==65279?T:T.slice(1))(y),D=new(v.download?c:h)(v)):y.readable===!0&&ae(y.read)&&ae(y.on)?D=new C(v):(e.File&&y instanceof File||y instanceof Object)&&(D=new u(v)),D.stream(y);(D=(()=>{var T;return!!a.WORKERS_SUPPORTED&&(T=(()=>{var S=e.URL||e.webkitURL||null,q=t.toString();return a.BLOB_URL||(a.BLOB_URL=S.createObjectURL(new Blob(["var global = (function() { if (typeof self !== 'undefined') { return self; } if (typeof window !== 'undefined') { return window; } if (typeof global !== 'undefined') { return global; } return {}; })(); global.IS_PAPA_WORKER=true; ","(",q,")();"],{type:"text/javascript"})))})(),(T=new e.Worker(T)).onmessage=U,T.id=s++,i[T.id]=T)})()).userStep=v.step,D.userChunk=v.chunk,D.userComplete=v.complete,D.userError=v.error,v.step=ae(v.step),v.chunk=ae(v.chunk),v.complete=ae(v.complete),v.error=ae(v.error),delete v.worker,D.postMessage({input:y,config:v,workerId:D.id})},a.unparse=function(y,v){var D=!1,T=!0,S=",",q=`\r
`,Pe='"',ct=Pe+Pe,ut=!1,K=null,we=!1,R=((()=>{if(typeof v=="object"){if(typeof v.delimiter!="string"||a.BAD_DELIMITERS.filter(function(J){return v.delimiter.indexOf(J)!==-1}).length||(S=v.delimiter),typeof v.quotes!="boolean"&&typeof v.quotes!="function"&&!Array.isArray(v.quotes)||(D=v.quotes),typeof v.skipEmptyLines!="boolean"&&typeof v.skipEmptyLines!="string"||(ut=v.skipEmptyLines),typeof v.newline=="string"&&(q=v.newline),typeof v.quoteChar=="string"&&(Pe=v.quoteChar),typeof v.header=="boolean"&&(T=v.header),Array.isArray(v.columns)){if(v.columns.length===0)throw new Error("Option columns is empty");K=v.columns}v.escapeChar!==void 0&&(ct=v.escapeChar+Pe),v.escapeFormulae instanceof RegExp?we=v.escapeFormulae:typeof v.escapeFormulae=="boolean"&&v.escapeFormulae&&(we=/^[=+\-@\t\r].*$/)}})(),new RegExp(b(Pe),"g"));if(typeof y=="string"&&(y=JSON.parse(y)),Array.isArray(y)){if(!y.length||Array.isArray(y[0]))return ze(null,y,ut);if(typeof y[0]=="object")return ze(K||Object.keys(y[0]),y,ut)}else if(typeof y=="object")return typeof y.data=="string"&&(y.data=JSON.parse(y.data)),Array.isArray(y.data)&&(y.fields||(y.fields=y.meta&&y.meta.fields||K),y.fields||(y.fields=Array.isArray(y.data[0])?y.fields:typeof y.data[0]=="object"?Object.keys(y.data[0]):[]),Array.isArray(y.data[0])||typeof y.data[0]=="object"||(y.data=[y.data])),ze(y.fields||[],y.data||[],ut);throw new Error("Unable to serialize unrecognized input");function ze(J,A,ke){var Se="",$e=(typeof J=="string"&&(J=JSON.parse(J)),typeof A=="string"&&(A=JSON.parse(A)),Array.isArray(J)&&0<J.length),dt=!Array.isArray(A[0]);if($e&&T){for(var ee=0;ee<J.length;ee++)0<ee&&(Se+=S),Se+=B(J[ee],ee);0<A.length&&(Se+=q)}for(var oe=0;oe<A.length;oe++){var De=($e?J:A[oe]).length,Z=!1,_e=$e?Object.keys(A[oe]).length===0:A[oe].length===0;if(ke&&!$e&&(Z=ke==="greedy"?A[oe].join("").trim()==="":A[oe].length===1&&A[oe][0].length===0),ke==="greedy"&&$e){for(var Le=[],Ce=0;Ce<De;Ce++){var ue=dt?J[Ce]:Ce;Le.push(A[oe][ue])}Z=Le.join("").trim()===""}if(!Z){for(var Y=0;Y<De;Y++){0<Y&&!_e&&(Se+=S);var Ge=$e&&dt?J[Y]:Y;Se+=B(A[oe][Ge],Y)}oe<A.length-1&&(!ke||0<De&&!_e)&&(Se+=q)}}return Se}function B(J,A){var ke,Se;return J==null?"":J.constructor===Date?JSON.stringify(J).slice(1,25):(Se=!1,we&&typeof J=="string"&&we.test(J)&&(J="'"+J,Se=!0),ke=J.toString().replace(R,ct),(Se=Se||D===!0||typeof D=="function"&&D(J,A)||Array.isArray(D)&&D[A]||(($e,dt)=>{for(var ee=0;ee<dt.length;ee++)if(-1<$e.indexOf(dt[ee]))return!0;return!1})(ke,a.BAD_DELIMITERS)||-1<ke.indexOf(S)||ke.charAt(0)===" "||ke.charAt(ke.length-1)===" ")?Pe+ke+Pe:ke)}},a.RECORD_SEP="",a.UNIT_SEP="",a.BYTE_ORDER_MARK="\uFEFF",a.BAD_DELIMITERS=["\r",`
`,'"',a.BYTE_ORDER_MARK],a.WORKERS_SUPPORTED=!r&&!!e.Worker,a.NODE_STREAM_INPUT=1,a.LocalChunkSize=10485760,a.RemoteChunkSize=5242880,a.DefaultDelimiter=",",a.Parser=I,a.ParserHandle=p,a.NetworkStreamer=c,a.FileStreamer=u,a.StringStreamer=h,a.ReadableStreamStreamer=C,e.jQuery&&((n=e.jQuery).fn.parse=function(y){var v=y.config||{},D=[];return this.each(function(q){if(!(n(this).prop("tagName").toUpperCase()==="INPUT"&&n(this).attr("type").toLowerCase()==="file"&&e.FileReader)||!this.files||this.files.length===0)return!0;for(var Pe=0;Pe<this.files.length;Pe++)D.push({file:this.files[Pe],inputElem:this,instanceConfig:n.extend({},v)})}),T(),this;function T(){if(D.length===0)ae(y.complete)&&y.complete();else{var q,Pe,ct,ut,K=D[0];if(ae(y.before)){var we=y.before(K.file,K.inputElem);if(typeof we=="object"){if(we.action==="abort")return q="AbortError",Pe=K.file,ct=K.inputElem,ut=we.reason,void(ae(y.error)&&y.error({name:q},Pe,ct,ut));if(we.action==="skip")return void S();typeof we.config=="object"&&(K.instanceConfig=n.extend(K.instanceConfig,we.config))}else if(we==="skip")return void S()}var R=K.instanceConfig.complete;K.instanceConfig.complete=function(ze){ae(R)&&R(ze,K.file,K.inputElem),S()},a.parse(K.file,K.instanceConfig)}}function S(){D.splice(0,1),T()}}),o&&(e.onmessage=function(y){y=y.data,a.WORKER_ID===void 0&&y&&(a.WORKER_ID=y.workerId),typeof y.input=="string"?e.postMessage({workerId:a.WORKER_ID,results:a.parse(y.input,y.config),finished:!0}):(e.File&&y.input instanceof File||y.input instanceof Object)&&(y=a.parse(y.input,y.config))&&e.postMessage({workerId:a.WORKER_ID,results:y,finished:!0})}),(c.prototype=Object.create(l.prototype)).constructor=c,(u.prototype=Object.create(l.prototype)).constructor=u,(h.prototype=Object.create(h.prototype)).constructor=h,(C.prototype=Object.create(l.prototype)).constructor=C,a})});function gs(t,e){return Object.is(t,e)}var Fe=null,mo=!1,ms=1,bt=Symbol("SIGNAL");function H(t){let e=Fe;return Fe=t,e}function ys(){return Fe}var _r={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,kind:"unknown",producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function vo(t){if(mo)throw new Error("");if(Fe===null)return;Fe.consumerOnSignalRead(t);let e=Fe.nextProducerIndex++;if(bo(Fe),e<Fe.producerNode.length&&Fe.producerNode[e]!==t&&vr(Fe)){let n=Fe.producerNode[e];Co(n,Fe.producerIndexOfThis[e])}Fe.producerNode[e]!==t&&(Fe.producerNode[e]=t,Fe.producerIndexOfThis[e]=vr(Fe)?vc(t,Fe,e):0),Fe.producerLastReadVersion[e]=t.version}function yc(){ms++}function vs(t){if(!(vr(t)&&!t.dirty)&&!(!t.dirty&&t.lastCleanEpoch===ms)){if(!t.producerMustRecompute(t)&&!ws(t)){hs(t);return}t.producerRecomputeValue(t),hs(t)}}function _s(t){if(t.liveConsumerNode===void 0)return;let e=mo;mo=!0;try{for(let n of t.liveConsumerNode)n.dirty||Jp(n)}finally{mo=e}}function Cs(){return Fe?.consumerAllowSignalWrites!==!1}function Jp(t){t.dirty=!0,_s(t),t.consumerMarkedDirty?.(t)}function hs(t){t.dirty=!1,t.lastCleanEpoch=ms}function _o(t){return t&&(t.nextProducerIndex=0),H(t)}function bs(t,e){if(H(e),!(!t||t.producerNode===void 0||t.producerIndexOfThis===void 0||t.producerLastReadVersion===void 0)){if(vr(t))for(let n=t.nextProducerIndex;n<t.producerNode.length;n++)Co(t.producerNode[n],t.producerIndexOfThis[n]);for(;t.producerNode.length>t.nextProducerIndex;)t.producerNode.pop(),t.producerLastReadVersion.pop(),t.producerIndexOfThis.pop()}}function ws(t){bo(t);for(let e=0;e<t.producerNode.length;e++){let n=t.producerNode[e],r=t.producerLastReadVersion[e];if(r!==n.version||(vs(n),r!==n.version))return!0}return!1}function Ds(t){if(bo(t),vr(t))for(let e=0;e<t.producerNode.length;e++)Co(t.producerNode[e],t.producerIndexOfThis[e]);t.producerNode.length=t.producerLastReadVersion.length=t.producerIndexOfThis.length=0,t.liveConsumerNode&&(t.liveConsumerNode.length=t.liveConsumerIndexOfThis.length=0)}function vc(t,e,n){if(_c(t),t.liveConsumerNode.length===0&&Cc(t))for(let r=0;r<t.producerNode.length;r++)t.producerIndexOfThis[r]=vc(t.producerNode[r],t,r);return t.liveConsumerIndexOfThis.push(n),t.liveConsumerNode.push(e)-1}function Co(t,e){if(_c(t),t.liveConsumerNode.length===1&&Cc(t))for(let r=0;r<t.producerNode.length;r++)Co(t.producerNode[r],t.producerIndexOfThis[r]);let n=t.liveConsumerNode.length-1;if(t.liveConsumerNode[e]=t.liveConsumerNode[n],t.liveConsumerIndexOfThis[e]=t.liveConsumerIndexOfThis[n],t.liveConsumerNode.length--,t.liveConsumerIndexOfThis.length--,e<t.liveConsumerNode.length){let r=t.liveConsumerIndexOfThis[e],o=t.liveConsumerNode[e];bo(o),o.producerIndexOfThis[r]=e}}function vr(t){return t.consumerIsAlwaysLive||(t?.liveConsumerNode?.length??0)>0}function bo(t){t.producerNode??=[],t.producerIndexOfThis??=[],t.producerLastReadVersion??=[]}function _c(t){t.liveConsumerNode??=[],t.liveConsumerIndexOfThis??=[]}function Cc(t){return t.producerNode!==void 0}function Es(t,e){let n=Object.create(eh);n.computation=t,e!==void 0&&(n.equal=e);let r=()=>{if(vs(n),vo(n),n.value===yo)throw n.error;return n.value};return r[bt]=n,r}var fs=Symbol("UNSET"),ps=Symbol("COMPUTING"),yo=Symbol("ERRORED"),eh=re(O({},_r),{value:fs,dirty:!0,error:null,equal:gs,kind:"computed",producerMustRecompute(t){return t.value===fs||t.value===ps},producerRecomputeValue(t){if(t.value===ps)throw new Error("Detected cycle in computations.");let e=t.value;t.value=ps;let n=_o(t),r,o=!1;try{r=t.computation(),H(null),o=e!==fs&&e!==yo&&r!==yo&&t.equal(e,r)}catch(i){r=yo,t.error=i}finally{bs(t,n)}if(o){t.value=e;return}t.value=r,t.version++}});function th(){throw new Error}var bc=th;function wc(t){bc(t)}function Ms(t){bc=t}var nh=null;function xs(t,e){let n=Object.create(Is);n.value=t,e!==void 0&&(n.equal=e);let r=()=>(vo(n),n.value);return r[bt]=n,r}function wo(t,e){Cs()||wc(t),t.equal(t.value,e)||(t.value=e,rh(t))}function Ss(t,e){Cs()||wc(t),wo(t,e(t.value))}var Is=re(O({},_r),{equal:gs,value:void 0,kind:"signal"});function rh(t){t.version++,yc(),_s(t),nh?.()}function Ts(t){let e=H(null);try{return t()}finally{H(e)}}var Ns;function Cr(){return Ns}function Yt(t){let e=Ns;return Ns=t,e}var Do=Symbol("NotFound");function se(t){return typeof t=="function"}function Eo(t){let n=t(r=>{Error.call(r),r.stack=new Error().stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}var Mo=Eo(t=>function(n){t(this),this.message=n?`${n.length} errors occurred during unsubscription:
${n.map((r,o)=>`${o+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=n});function br(t,e){if(t){let n=t.indexOf(e);0<=n&&t.splice(n,1)}}var Je=class t{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(let i of n)i.remove(this);else n.remove(this);let{initialTeardown:r}=this;if(se(r))try{r()}catch(i){e=i instanceof Mo?i.errors:[i]}let{_finalizers:o}=this;if(o){this._finalizers=null;for(let i of o)try{Dc(i)}catch(s){e=e??[],s instanceof Mo?e=[...e,...s.errors]:e.push(s)}}if(e)throw new Mo(e)}}add(e){var n;if(e&&e!==this)if(this.closed)Dc(e);else{if(e instanceof t){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(n=this._finalizers)!==null&&n!==void 0?n:[]).push(e)}}_hasParent(e){let{_parentage:n}=this;return n===e||Array.isArray(n)&&n.includes(e)}_addParent(e){let{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e}_removeParent(e){let{_parentage:n}=this;n===e?this._parentage=null:Array.isArray(n)&&br(n,e)}remove(e){let{_finalizers:n}=this;n&&br(n,e),e instanceof t&&e._removeParent(this)}};Je.EMPTY=(()=>{let t=new Je;return t.closed=!0,t})();var As=Je.EMPTY;function xo(t){return t instanceof Je||t&&"closed"in t&&se(t.remove)&&se(t.add)&&se(t.unsubscribe)}function Dc(t){se(t)?t():t.unsubscribe()}var wt={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var Vn={setTimeout(t,e,...n){let{delegate:r}=Vn;return r?.setTimeout?r.setTimeout(t,e,...n):setTimeout(t,e,...n)},clearTimeout(t){let{delegate:e}=Vn;return(e?.clearTimeout||clearTimeout)(t)},delegate:void 0};function So(t){Vn.setTimeout(()=>{let{onUnhandledError:e}=wt;if(e)e(t);else throw t})}function Os(){}var Ec=Ps("C",void 0,void 0);function Mc(t){return Ps("E",void 0,t)}function xc(t){return Ps("N",t,void 0)}function Ps(t,e,n){return{kind:t,value:e,error:n}}var yn=null;function Ln(t){if(wt.useDeprecatedSynchronousErrorHandling){let e=!yn;if(e&&(yn={errorThrown:!1,error:null}),t(),e){let{errorThrown:n,error:r}=yn;if(yn=null,n)throw r}}else t()}function Sc(t){wt.useDeprecatedSynchronousErrorHandling&&yn&&(yn.errorThrown=!0,yn.error=t)}var vn=class extends Je{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,xo(e)&&e.add(this)):this.destination=ch}static create(e,n,r){return new jn(e,n,r)}next(e){this.isStopped?Rs(xc(e),this):this._next(e)}error(e){this.isStopped?Rs(Mc(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?Rs(Ec,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},ah=Function.prototype.bind;function ks(t,e){return ah.call(t,e)}var Fs=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:n}=this;if(n.next)try{n.next(e)}catch(r){Io(r)}}error(e){let{partialObserver:n}=this;if(n.error)try{n.error(e)}catch(r){Io(r)}else Io(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(n){Io(n)}}},jn=class extends vn{constructor(e,n,r){super();let o;if(se(e)||!e)o={next:e??void 0,error:n??void 0,complete:r??void 0};else{let i;this&&wt.useDeprecatedNextContext?(i=Object.create(e),i.unsubscribe=()=>this.unsubscribe(),o={next:e.next&&ks(e.next,i),error:e.error&&ks(e.error,i),complete:e.complete&&ks(e.complete,i)}):o=e}this.destination=new Fs(o)}};function Io(t){wt.useDeprecatedSynchronousErrorHandling?Sc(t):So(t)}function lh(t){throw t}function Rs(t,e){let{onStoppedNotification:n}=wt;n&&Vn.setTimeout(()=>n(t,e))}var ch={closed:!0,next:Os,error:lh,complete:Os};var Bn=typeof Symbol=="function"&&Symbol.observable||"@@observable";function Ic(t){return t}function Tc(t){return t.length===0?Ic:t.length===1?t[0]:function(n){return t.reduce((r,o)=>o(r),n)}}var Be=(()=>{class t{constructor(n){n&&(this._subscribe=n)}lift(n){let r=new t;return r.source=this,r.operator=n,r}subscribe(n,r,o){let i=dh(n)?n:new jn(n,r,o);return Ln(()=>{let{operator:s,source:a}=this;i.add(s?s.call(i,a):a?this._subscribe(i):this._trySubscribe(i))}),i}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return r=Nc(r),new r((o,i)=>{let s=new jn({next:a=>{try{n(a)}catch(l){i(l),s.unsubscribe()}},error:i,complete:o});this.subscribe(s)})}_subscribe(n){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(n)}[Bn](){return this}pipe(...n){return Tc(n)(this)}toPromise(n){return n=Nc(n),new n((r,o)=>{let i;this.subscribe(s=>i=s,s=>o(s),()=>r(i))})}}return t.create=e=>new t(e),t})();function Nc(t){var e;return(e=t??wt.Promise)!==null&&e!==void 0?e:Promise}function uh(t){return t&&se(t.next)&&se(t.error)&&se(t.complete)}function dh(t){return t&&t instanceof vn||uh(t)&&xo(t)}function fh(t){return se(t?.lift)}function Hn(t){return e=>{if(fh(e))return e.lift(function(n){try{return t(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function $n(t,e,n,r,o){return new Vs(t,e,n,r,o)}var Vs=class extends vn{constructor(e,n,r,o,i,s){super(e),this.onFinalize=i,this.shouldUnsubscribe=s,this._next=n?function(a){try{n(a)}catch(l){e.error(l)}}:super._next,this._error=o?function(a){try{o(a)}catch(l){e.error(l)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:n}=this;super.unsubscribe(),!n&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};var Ac=Eo(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var Rt=(()=>{class t extends Be{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){let r=new To(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new Ac}next(n){Ln(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(n)}})}error(n){Ln(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;let{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){Ln(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return((n=this.observers)===null||n===void 0?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){let{hasError:r,isStopped:o,observers:i}=this;return r||o?As:(this.currentObservers=null,i.push(n),new Je(()=>{this.currentObservers=null,br(i,n)}))}_checkFinalizedStatuses(n){let{hasError:r,thrownError:o,isStopped:i}=this;r?n.error(o):i&&n.complete()}asObservable(){let n=new Be;return n.source=this,n}}return t.create=(e,n)=>new To(e,n),t})(),To=class extends Rt{constructor(e,n){super(),this.destination=e,this.source=n}next(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.next)===null||r===void 0||r.call(n,e)}error(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.error)===null||r===void 0||r.call(n,e)}complete(){var e,n;(n=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||n===void 0||n.call(e)}_subscribe(e){var n,r;return(r=(n=this.source)===null||n===void 0?void 0:n.subscribe(e))!==null&&r!==void 0?r:As}};var wr=class extends Rt{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let n=super._subscribe(e);return!n.closed&&e.next(this._value),n}getValue(){let{hasError:e,thrownError:n,_value:r}=this;if(e)throw n;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}};function ph(t){return t[t.length-1]}function Oc(t){return se(ph(t))?t.pop():void 0}function kc(t,e,n,r){function o(i){return i instanceof n?i:new n(function(s){s(i)})}return new(n||(n=Promise))(function(i,s){function a(u){try{c(r.next(u))}catch(h){s(h)}}function l(u){try{c(r.throw(u))}catch(h){s(h)}}function c(u){u.done?i(u.value):o(u.value).then(a,l)}c((r=r.apply(t,e||[])).next())})}function Pc(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function _n(t){return this instanceof _n?(this.v=t,this):new _n(t)}function Rc(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),o,i=[];return o=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",s),o[Symbol.asyncIterator]=function(){return this},o;function s(p){return function(b){return Promise.resolve(b).then(p,h)}}function a(p,b){r[p]&&(o[p]=function(I){return new Promise(function(U,ne){i.push([p,I,U,ne])>1||l(p,I)})},b&&(o[p]=b(o[p])))}function l(p,b){try{c(r[p](b))}catch(I){C(i[0][3],I)}}function c(p){p.value instanceof _n?Promise.resolve(p.value.v).then(u,h):C(i[0][2],p)}function u(p){l("next",p)}function h(p){l("throw",p)}function C(p,b){p(b),i.shift(),i.length&&l(i[0][0],i[0][1])}}function Fc(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof Pc=="function"?Pc(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(i){n[i]=t[i]&&function(s){return new Promise(function(a,l){s=t[i](s),o(a,l,s.done,s.value)})}}function o(i,s,a,l){Promise.resolve(l).then(function(c){i({value:c,done:a})},s)}}var No=t=>t&&typeof t.length=="number"&&typeof t!="function";function Ao(t){return se(t?.then)}function Oo(t){return se(t[Bn])}function Po(t){return Symbol.asyncIterator&&se(t?.[Symbol.asyncIterator])}function ko(t){return new TypeError(`You provided ${t!==null&&typeof t=="object"?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function hh(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var Ro=hh();function Fo(t){return se(t?.[Ro])}function Vo(t){return Rc(this,arguments,function*(){let n=t.getReader();try{for(;;){let{value:r,done:o}=yield _n(n.read());if(o)return yield _n(void 0);yield yield _n(r)}}finally{n.releaseLock()}})}function Lo(t){return se(t?.getReader)}function sn(t){if(t instanceof Be)return t;if(t!=null){if(Oo(t))return gh(t);if(No(t))return mh(t);if(Ao(t))return yh(t);if(Po(t))return Vc(t);if(Fo(t))return vh(t);if(Lo(t))return _h(t)}throw ko(t)}function gh(t){return new Be(e=>{let n=t[Bn]();if(se(n.subscribe))return n.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function mh(t){return new Be(e=>{for(let n=0;n<t.length&&!e.closed;n++)e.next(t[n]);e.complete()})}function yh(t){return new Be(e=>{t.then(n=>{e.closed||(e.next(n),e.complete())},n=>e.error(n)).then(null,So)})}function vh(t){return new Be(e=>{for(let n of t)if(e.next(n),e.closed)return;e.complete()})}function Vc(t){return new Be(e=>{Ch(t,e).catch(n=>e.error(n))})}function _h(t){return Vc(Vo(t))}function Ch(t,e){var n,r,o,i;return kc(this,void 0,void 0,function*(){try{for(n=Fc(t);r=yield n.next(),!r.done;){let s=r.value;if(e.next(s),e.closed)return}}catch(s){o={error:s}}finally{try{r&&!r.done&&(i=n.return)&&(yield i.call(n))}finally{if(o)throw o.error}}e.complete()})}function Ft(t,e,n,r=0,o=!1){let i=e.schedule(function(){n(),o?t.add(this.schedule(null,r)):this.unsubscribe()},r);if(t.add(i),!o)return i}function jo(t,e=0){return Hn((n,r)=>{n.subscribe($n(r,o=>Ft(r,t,()=>r.next(o),e),()=>Ft(r,t,()=>r.complete(),e),o=>Ft(r,t,()=>r.error(o),e)))})}function Bo(t,e=0){return Hn((n,r)=>{r.add(t.schedule(()=>n.subscribe(r),e))})}function Lc(t,e){return sn(t).pipe(Bo(e),jo(e))}function jc(t,e){return sn(t).pipe(Bo(e),jo(e))}function Bc(t,e){return new Be(n=>{let r=0;return e.schedule(function(){r===t.length?n.complete():(n.next(t[r++]),n.closed||this.schedule())})})}function Hc(t,e){return new Be(n=>{let r;return Ft(n,e,()=>{r=t[Ro](),Ft(n,e,()=>{let o,i;try{({value:o,done:i}=r.next())}catch(s){n.error(s);return}i?n.complete():n.next(o)},0,!0)}),()=>se(r?.return)&&r.return()})}function Ho(t,e){if(!t)throw new Error("Iterable cannot be null");return new Be(n=>{Ft(n,e,()=>{let r=t[Symbol.asyncIterator]();Ft(n,e,()=>{r.next().then(o=>{o.done?n.complete():n.next(o.value)})},0,!0)})})}function $c(t,e){return Ho(Vo(t),e)}function Uc(t,e){if(t!=null){if(Oo(t))return Lc(t,e);if(No(t))return Bc(t,e);if(Ao(t))return jc(t,e);if(Po(t))return Ho(t,e);if(Fo(t))return Hc(t,e);if(Lo(t))return $c(t,e)}throw ko(t)}function Ls(t,e){return e?Uc(t,e):sn(t)}function Cn(t,e){return Hn((n,r)=>{let o=0;n.subscribe($n(r,i=>{r.next(t.call(e,i,o++))}))})}var{isArray:bh}=Array;function wh(t,e){return bh(e)?t(...e):t(e)}function zc(t){return Cn(e=>wh(t,e))}var{isArray:Dh}=Array,{getPrototypeOf:Eh,prototype:Mh,keys:xh}=Object;function Gc(t){if(t.length===1){let e=t[0];if(Dh(e))return{args:e,keys:null};if(Sh(e)){let n=xh(e);return{args:n.map(r=>e[r]),keys:n}}}return{args:t,keys:null}}function Sh(t){return t&&typeof t=="object"&&Eh(t)===Mh}function Wc(t,e){return t.reduce((n,r,o)=>(n[r]=e[o],n),{})}function js(...t){let e=Oc(t),{args:n,keys:r}=Gc(t),o=new Be(i=>{let{length:s}=n;if(!s){i.complete();return}let a=new Array(s),l=s,c=s;for(let u=0;u<s;u++){let h=!1;sn(n[u]).subscribe($n(i,C=>{h||(h=!0,c--),a[u]=C},()=>l--,void 0,()=>{(!l||!h)&&(c||i.next(r?Wc(r,a):a),i.complete())}))}});return e?o.pipe(zc(e)):o}var Ih="https://angular.dev/best-practices/security#preventing-cross-site-scripting-xss",Q=class extends Error{code;constructor(e,n){super(Nh(e,n)),this.code=e}};function Th(t){return`NG0${Math.abs(t)}`}function Nh(t,e){return`${Th(t)}${e?": "+e:""}`}function Ci(t){return{toString:t}.toString()}var Er=globalThis;function ye(t){for(let e in t)if(t[e]===ye)return e;throw Error("Could not find renamed property on target object.")}function Ah(t,e){for(let n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function ft(t){if(typeof t=="string")return t;if(Array.isArray(t))return`[${t.map(ft).join(", ")}]`;if(t==null)return""+t;let e=t.overriddenName||t.name;if(e)return`${e}`;let n=t.toString();if(n==null)return""+n;let r=n.indexOf(`
`);return r>=0?n.slice(0,r):n}function na(t,e){return t?e?`${t} ${e}`:t:e||""}var Oh=ye({__forward_ref__:ye});function It(t){return t.__forward_ref__=It,t.toString=function(){return ft(this())},t}function et(t){return Nu(t)?t():t}function Nu(t){return typeof t=="function"&&t.hasOwnProperty(Oh)&&t.__forward_ref__===It}function Ee(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function er(t){return{providers:t.providers||[],imports:t.imports||[]}}function Ka(t){return qc(t,Au)||qc(t,Ou)}function qc(t,e){return t.hasOwnProperty(e)?t[e]:null}function Ph(t){let e=t&&(t[Au]||t[Ou]);return e||null}function Zc(t){return t&&(t.hasOwnProperty(Yc)||t.hasOwnProperty(kh))?t[Yc]:null}var Au=ye({\u0275prov:ye}),Yc=ye({\u0275inj:ye}),Ou=ye({ngInjectableDef:ye}),kh=ye({ngInjectorDef:ye}),W=class{_desc;ngMetadataName="InjectionToken";\u0275prov;constructor(e,n){this._desc=e,this.\u0275prov=void 0,typeof n=="number"?this.__NG_ELEMENT_ID__=n:n!==void 0&&(this.\u0275prov=Ee({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function Pu(t){return t&&!!t.\u0275providers}var Rh=ye({\u0275cmp:ye}),Fh=ye({\u0275dir:ye}),Vh=ye({\u0275pipe:ye});var Yo=ye({\u0275fac:ye}),Sr=ye({__NG_ELEMENT_ID__:ye}),Qc=ye({__NG_ENV_ID__:ye});function Ir(t){return typeof t=="string"?t:t==null?"":String(t)}function Lh(t){return typeof t=="function"?t.name||t.toString():typeof t=="object"&&t!=null&&typeof t.type=="function"?t.type.name||t.type.toString():Ir(t)}function ku(t,e){throw new Q(-200,t)}function Xa(t,e){throw new Q(-201,!1)}var z=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(z||{}),ra;function Ru(){return ra}function nt(t){let e=ra;return ra=t,e}function Fu(t,e,n){let r=Ka(t);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(n&z.Optional)return null;if(e!==void 0)return e;Xa(t,"Injector")}var jh={},wn=jh,Bh="__NG_DI_FLAG__",Qo=class{injector;constructor(e){this.injector=e}retrieve(e,n){let r=n;return this.injector.get(e,r.optional?Do:wn,r)}},Ko="ngTempTokenPath",Hh="ngTokenPath",$h=/\n/gm,Uh="\u0275",Kc="__source";function zh(t,e=z.Default){if(Cr()===void 0)throw new Q(-203,!1);if(Cr()===null)return Fu(t,void 0,e);{let n=Cr(),r;return n instanceof Qo?r=n.injector:r=n,r.get(t,e&z.Optional?null:void 0,e)}}function de(t,e=z.Default){return(Ru()||zh)(et(t),e)}function le(t,e=z.Default){return de(t,bi(e))}function bi(t){return typeof t>"u"||typeof t=="number"?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function oa(t){let e=[];for(let n=0;n<t.length;n++){let r=et(t[n]);if(Array.isArray(r)){if(r.length===0)throw new Q(900,!1);let o,i=z.Default;for(let s=0;s<r.length;s++){let a=r[s],l=Gh(a);typeof l=="number"?l===-1?o=a.token:i|=l:o=a}e.push(de(o,i))}else e.push(de(r))}return e}function Gh(t){return t[Bh]}function Wh(t,e,n,r){let o=t[Ko];throw e[Kc]&&o.unshift(e[Kc]),t.message=qh(`
`+t.message,o,n,r),t[Hh]=o,t[Ko]=null,t}function qh(t,e,n,r=null){t=t&&t.charAt(0)===`
`&&t.charAt(1)==Uh?t.slice(2):t;let o=ft(e);if(Array.isArray(e))o=e.map(ft).join(" -> ");else if(typeof e=="object"){let i=[];for(let s in e)if(e.hasOwnProperty(s)){let a=e[s];i.push(s+":"+(typeof a=="string"?JSON.stringify(a):ft(a)))}o=`{${i.join(", ")}}`}return`${n}${r?"("+r+")":""}[${o}]: ${t.replace($h,`
  `)}`}function En(t,e){let n=t.hasOwnProperty(Yo);return n?t[Yo]:null}function Zh(t,e,n){if(t.length!==e.length)return!1;for(let r=0;r<t.length;r++){let o=t[r],i=e[r];if(n&&(o=n(o),i=n(i)),i!==o)return!1}return!0}function Yh(t){return t.flat(Number.POSITIVE_INFINITY)}function Ja(t,e){t.forEach(n=>Array.isArray(n)?Ja(n,e):e(n))}function Vu(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function Xo(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function Qh(t,e,n,r){let o=t.length;if(o==e)t.push(n,r);else if(o===1)t.push(r,t[0]),t[0]=n;else{for(o--,t.push(t[o-1],t[o]);o>e;){let i=o-2;t[o]=t[i],o--}t[e]=n,t[e+1]=r}}function el(t,e,n){let r=Ur(t,e);return r>=0?t[r|1]=n:(r=~r,Qh(t,r,e,n)),r}function Bs(t,e){let n=Ur(t,e);if(n>=0)return t[n|1]}function Ur(t,e){return Kh(t,e,1)}function Kh(t,e,n){let r=0,o=t.length>>n;for(;o!==r;){let i=r+(o-r>>1),s=t[i<<n];if(e===s)return i<<n;s>e?o=i:r=i+1}return~(o<<n)}var Mn={},rt=[],Jo=new W(""),Lu=new W("",-1),ju=new W(""),ei=class{get(e,n=wn){if(n===wn){let r=new Error(`NullInjectorError: No provider for ${ft(e)}!`);throw r.name="NullInjectorError",r}return n}};function Tr(t){return t[Rh]||null}function Xh(t){return t[Fh]||null}function Jh(t){return t[Vh]||null}function eg(...t){return{\u0275providers:Bu(!0,t),\u0275fromNgModule:!0}}function Bu(t,...e){let n=[],r=new Set,o,i=s=>{n.push(s)};return Ja(e,s=>{let a=s;ia(a,i,[],r)&&(o||=[],o.push(a))}),o!==void 0&&Hu(o,i),n}function Hu(t,e){for(let n=0;n<t.length;n++){let{ngModule:r,providers:o}=t[n];tl(o,i=>{e(i,r)})}}function ia(t,e,n,r){if(t=et(t),!t)return!1;let o=null,i=Zc(t),s=!i&&Tr(t);if(!i&&!s){let l=t.ngModule;if(i=Zc(l),i)o=l;else return!1}else{if(s&&!s.standalone)return!1;o=t}let a=r.has(o);if(s){if(a)return!1;if(r.add(o),s.dependencies){let l=typeof s.dependencies=="function"?s.dependencies():s.dependencies;for(let c of l)ia(c,e,n,r)}}else if(i){if(i.imports!=null&&!a){r.add(o);let c;try{Ja(i.imports,u=>{ia(u,e,n,r)&&(c||=[],c.push(u))})}finally{}c!==void 0&&Hu(c,e)}if(!a){let c=En(o)||(()=>new o);e({provide:o,useFactory:c,deps:rt},o),e({provide:ju,useValue:o,multi:!0},o),e({provide:Jo,useValue:()=>de(o),multi:!0},o)}let l=i.providers;if(l!=null&&!a){let c=t;tl(l,u=>{e(u,c)})}}else return!1;return o!==t&&t.providers!==void 0}function tl(t,e){for(let n of t)Pu(n)&&(n=n.\u0275providers),Array.isArray(n)?tl(n,e):e(n)}var tg=ye({provide:String,useValue:ye});function $u(t){return t!==null&&typeof t=="object"&&tg in t}function ng(t){return!!(t&&t.useExisting)}function rg(t){return!!(t&&t.useFactory)}function qn(t){return typeof t=="function"}function og(t){return!!t.useClass}var wi=new W(""),Uo={},Xc={},Hs;function nl(){return Hs===void 0&&(Hs=new ei),Hs}var cn=class{},Nr=class extends cn{parent;source;scopes;records=new Map;_ngOnDestroyHooks=new Set;_onDestroyHooks=[];get destroyed(){return this._destroyed}_destroyed=!1;injectorDefTypes;constructor(e,n,r,o){super(),this.parent=n,this.source=r,this.scopes=o,aa(e,s=>this.processProvider(s)),this.records.set(Lu,Un(void 0,this)),o.has("environment")&&this.records.set(cn,Un(void 0,this));let i=this.records.get(wi);i!=null&&typeof i.value=="string"&&this.scopes.add(i.value),this.injectorDefTypes=new Set(this.get(ju,rt,z.Self))}retrieve(e,n){let r=n;return this.get(e,r.optional?Do:wn,r)}destroy(){Mr(this),this._destroyed=!0;let e=H(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let n=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of n)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),H(e)}}onDestroy(e){return Mr(this),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){Mr(this);let n=Yt(this),r=nt(void 0),o;try{return e()}finally{Yt(n),nt(r)}}get(e,n=wn,r=z.Default){if(Mr(this),e.hasOwnProperty(Qc))return e[Qc](this);r=bi(r);let o,i=Yt(this),s=nt(void 0);try{if(!(r&z.SkipSelf)){let l=this.records.get(e);if(l===void 0){let c=cg(e)&&Ka(e);c&&this.injectableDefInScope(c)?l=Un(sa(e),Uo):l=null,this.records.set(e,l)}if(l!=null)return this.hydrate(e,l,r)}let a=r&z.Self?nl():this.parent;return n=r&z.Optional&&n===wn?null:n,a.get(e,n)}catch(a){if(a.name==="NullInjectorError"){if((a[Ko]=a[Ko]||[]).unshift(ft(e)),i)throw a;return Wh(a,e,"R3InjectorError",this.source)}else throw a}finally{nt(s),Yt(i)}}resolveInjectorInitializers(){let e=H(null),n=Yt(this),r=nt(void 0),o;try{let i=this.get(Jo,rt,z.Self);for(let s of i)s()}finally{Yt(n),nt(r),H(e)}}toString(){let e=[],n=this.records;for(let r of n.keys())e.push(ft(r));return`R3Injector[${e.join(", ")}]`}processProvider(e){e=et(e);let n=qn(e)?e:et(e&&e.provide),r=sg(e);if(!qn(e)&&e.multi===!0){let o=this.records.get(n);o||(o=Un(void 0,Uo,!0),o.factory=()=>oa(o.multi),this.records.set(n,o)),n=e,o.multi.push(e)}this.records.set(n,r)}hydrate(e,n,r){let o=H(null);try{return n.value===Xc?ku(ft(e)):n.value===Uo&&(n.value=Xc,n.value=n.factory(void 0,r)),typeof n.value=="object"&&n.value&&lg(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}finally{H(o)}}injectableDefInScope(e){if(!e.providedIn)return!1;let n=et(e.providedIn);return typeof n=="string"?n==="any"||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(e){let n=this._onDestroyHooks.indexOf(e);n!==-1&&this._onDestroyHooks.splice(n,1)}};function sa(t){let e=Ka(t),n=e!==null?e.factory:En(t);if(n!==null)return n;if(t instanceof W)throw new Q(204,!1);if(t instanceof Function)return ig(t);throw new Q(204,!1)}function ig(t){if(t.length>0)throw new Q(204,!1);let n=Ph(t);return n!==null?()=>n.factory(t):()=>new t}function sg(t){if($u(t))return Un(void 0,t.useValue);{let e=Uu(t);return Un(e,Uo)}}function Uu(t,e,n){let r;if(qn(t)){let o=et(t);return En(o)||sa(o)}else if($u(t))r=()=>et(t.useValue);else if(rg(t))r=()=>t.useFactory(...oa(t.deps||[]));else if(ng(t))r=(o,i)=>de(et(t.useExisting),i!==void 0&&i&z.Optional?z.Optional:void 0);else{let o=et(t&&(t.useClass||t.provide));if(ag(t))r=()=>new o(...oa(t.deps));else return En(o)||sa(o)}return r}function Mr(t){if(t.destroyed)throw new Q(205,!1)}function Un(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function ag(t){return!!t.deps}function lg(t){return t!==null&&typeof t=="object"&&typeof t.ngOnDestroy=="function"}function cg(t){return typeof t=="function"||typeof t=="object"&&t instanceof W}function aa(t,e){for(let n of t)Array.isArray(n)?aa(n,e):n&&Pu(n)?aa(n.\u0275providers,e):e(n)}function zu(t,e){let n;t instanceof Nr?(Mr(t),n=t):n=new Qo(t);let r,o=Yt(n),i=nt(void 0);try{return e()}finally{Yt(o),nt(i)}}function ug(){return Ru()!==void 0||Cr()!=null}function dg(t){return typeof t=="function"}var Jt=0,V=1,L=2,Ze=3,Mt=4,Tt=5,Ar=6,ti=7,Ve=8,Zn=9,un=10,Ie=11,Or=12,Jc=13,tr=14,xt=15,xn=16,zn=17,Qt=18,Di=19,Gu=20,an=21,$s=22,ni=23,pt=24,Us=25,Ye=26,Wu=1;var Sn=7,ri=8,Yn=9,qe=10;function ln(t){return Array.isArray(t)&&typeof t[Wu]=="object"}function en(t){return Array.isArray(t)&&t[Wu]===!0}function qu(t){return(t.flags&4)!==0}function nr(t){return t.componentOffset>-1}function rl(t){return(t.flags&1)===1}function Lt(t){return!!t.template}function oi(t){return(t[L]&512)!==0}function rr(t){return(t[L]&256)===256}var la=class{previousValue;currentValue;firstChange;constructor(e,n,r){this.previousValue=e,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}};function Zu(t,e,n,r){e!==null?e.applyValueToInputSignal(e,r):t[n]=r}var Qe=(()=>{let t=()=>Yu;return t.ngInherit=!0,t})();function Yu(t){return t.type.prototype.ngOnChanges&&(t.setInput=pg),fg}function fg(){let t=Ku(this),e=t?.current;if(e){let n=t.previous;if(n===Mn)t.previous=e;else for(let r in e)n[r]=e[r];t.current=null,this.ngOnChanges(e)}}function pg(t,e,n,r,o){let i=this.declaredInputs[r],s=Ku(t)||hg(t,{previous:Mn,current:null}),a=s.current||(s.current={}),l=s.previous,c=l[i];a[i]=new la(c&&c.currentValue,n,l===Mn),Zu(t,e,o,n)}var Qu="__ngSimpleChanges__";function Ku(t){return t[Qu]||null}function hg(t,e){return t[Qu]=e}var eu=null;var me=function(t,e=null,n){eu?.(t,e,n)},gg="svg",mg="math";function jt(t){for(;Array.isArray(t);)t=t[Jt];return t}function Xu(t,e){return jt(e[t])}function $t(t,e){return jt(e[t.index])}function ol(t,e){return t.data[e]}function il(t,e){return t[e]}function yg(t,e,n,r){n>=t.data.length&&(t.data[n]=null,t.blueprint[n]=null),e[n]=r}function Bt(t,e){let n=e[t];return ln(n)?n:n[Jt]}function vg(t){return(t[L]&4)===4}function sl(t){return(t[L]&128)===128}function _g(t){return en(t[Ze])}function Qn(t,e){return e==null?null:t[e]}function Ju(t){t[zn]=0}function ed(t){t[L]&1024||(t[L]|=1024,sl(t)&&Mi(t))}function Cg(t,e){for(;t>0;)e=e[tr],t--;return e}function Ei(t){return!!(t[L]&9216||t[pt]?.dirty)}function ca(t){t[un].changeDetectionScheduler?.notify(8),t[L]&64&&(t[L]|=1024),Ei(t)&&Mi(t)}function Mi(t){t[un].changeDetectionScheduler?.notify(0);let e=In(t);for(;e!==null&&!(e[L]&8192||(e[L]|=8192,!sl(e)));)e=In(e)}function td(t,e){if(rr(t))throw new Q(911,!1);t[an]===null&&(t[an]=[]),t[an].push(e)}function bg(t,e){if(t[an]===null)return;let n=t[an].indexOf(e);n!==-1&&t[an].splice(n,1)}function In(t){let e=t[Ze];return en(e)?e[Ze]:e}function al(t){return t[ti]??=[]}function ll(t){return t.cleanup??=[]}function wg(t,e,n,r){let o=al(e);o.push(n),t.firstCreatePass&&ll(t).push(r,o.length-1)}var $={lFrame:ud(null),bindingsEnabled:!0,skipHydrationRootTNode:null};var ua=!1;function Dg(){return $.lFrame.elementDepthCount}function Eg(){$.lFrame.elementDepthCount++}function Mg(){$.lFrame.elementDepthCount--}function nd(){return $.bindingsEnabled}function xg(){return $.skipHydrationRootTNode!==null}function Sg(t){return $.skipHydrationRootTNode===t}function Ig(){$.skipHydrationRootTNode=null}function te(){return $.lFrame.lView}function He(){return $.lFrame.tView}function E(t){return $.lFrame.contextLView=t,t[Ve]}function M(t){return $.lFrame.contextLView=null,t}function ht(){let t=rd();for(;t!==null&&t.type===64;)t=t.parent;return t}function rd(){return $.lFrame.currentTNode}function Tg(){let t=$.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}function zr(t,e){let n=$.lFrame;n.currentTNode=t,n.isParent=e}function od(){return $.lFrame.isParent}function Ng(){$.lFrame.isParent=!1}function Ag(){return $.lFrame.contextLView}function id(){return ua}function tu(t){let e=ua;return ua=t,e}function sd(){let t=$.lFrame,e=t.bindingRootIndex;return e===-1&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}function Og(){return $.lFrame.bindingIndex}function Pg(t){return $.lFrame.bindingIndex=t}function or(){return $.lFrame.bindingIndex++}function cl(t){let e=$.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}function kg(){return $.lFrame.inI18n}function Rg(t,e){let n=$.lFrame;n.bindingIndex=n.bindingRootIndex=t,da(e)}function Fg(){return $.lFrame.currentDirectiveIndex}function da(t){$.lFrame.currentDirectiveIndex=t}function Vg(t){let e=$.lFrame.currentDirectiveIndex;return e===-1?null:t[e]}function ad(){return $.lFrame.currentQueryIndex}function ul(t){$.lFrame.currentQueryIndex=t}function Lg(t){let e=t[V];return e.type===2?e.declTNode:e.type===1?t[Tt]:null}function ld(t,e,n){if(n&z.SkipSelf){let o=e,i=t;for(;o=o.parent,o===null&&!(n&z.Host);)if(o=Lg(i),o===null||(i=i[tr],o.type&10))break;if(o===null)return!1;e=o,t=i}let r=$.lFrame=cd();return r.currentTNode=e,r.lView=t,!0}function dl(t){let e=cd(),n=t[V];$.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function cd(){let t=$.lFrame,e=t===null?null:t.child;return e===null?ud(t):e}function ud(t){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return t!==null&&(t.child=e),e}function dd(){let t=$.lFrame;return $.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}var fd=dd;function fl(){let t=dd();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function jg(t){return($.lFrame.contextLView=Cg(t,$.lFrame.contextLView))[Ve]}function tn(){return $.lFrame.selectedIndex}function Tn(t){$.lFrame.selectedIndex=t}function pl(){let t=$.lFrame;return ol(t.tView,t.selectedIndex)}function Bg(){return $.lFrame.currentNamespace}var pd=!0;function hl(){return pd}function gl(t){pd=t}function Hg(t,e,n){let{ngOnChanges:r,ngOnInit:o,ngDoCheck:i}=e.type.prototype;if(r){let s=Yu(e);(n.preOrderHooks??=[]).push(t,s),(n.preOrderCheckHooks??=[]).push(t,s)}o&&(n.preOrderHooks??=[]).push(0-t,o),i&&((n.preOrderHooks??=[]).push(t,i),(n.preOrderCheckHooks??=[]).push(t,i))}function hd(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){let i=t.data[n].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:l,ngAfterViewChecked:c,ngOnDestroy:u}=i;s&&(t.contentHooks??=[]).push(-n,s),a&&((t.contentHooks??=[]).push(n,a),(t.contentCheckHooks??=[]).push(n,a)),l&&(t.viewHooks??=[]).push(-n,l),c&&((t.viewHooks??=[]).push(n,c),(t.viewCheckHooks??=[]).push(n,c)),u!=null&&(t.destroyHooks??=[]).push(n,u)}}function zo(t,e,n){gd(t,e,3,n)}function Go(t,e,n,r){(t[L]&3)===n&&gd(t,e,n,r)}function zs(t,e){let n=t[L];(n&3)===e&&(n&=16383,n+=1,t[L]=n)}function gd(t,e,n,r){let o=r!==void 0?t[zn]&65535:0,i=r??-1,s=e.length-1,a=0;for(let l=o;l<s;l++)if(typeof e[l+1]=="number"){if(a=e[l],r!=null&&a>=r)break}else e[l]<0&&(t[zn]+=65536),(a<i||i==-1)&&($g(t,n,e,l),t[zn]=(t[zn]&4294901760)+l+2),l++}function nu(t,e){me(4,t,e);let n=H(null);try{e.call(t)}finally{H(n),me(5,t,e)}}function $g(t,e,n,r){let o=n[r]<0,i=n[r+1],s=o?-n[r]:n[r],a=t[s];o?t[L]>>14<t[zn]>>16&&(t[L]&3)===e&&(t[L]+=16384,nu(a,i)):nu(a,i)}var Wn=-1,Nn=class{factory;injectImpl;resolving=!1;canSeeViewProviders;multi;componentProviders;index;providerFactory;constructor(e,n,r){this.factory=e,this.canSeeViewProviders=n,this.injectImpl=r}};function Ug(t){return(t.flags&8)!==0}function zg(t){return(t.flags&16)!==0}function Gg(t,e,n){let r=0;for(;r<n.length;){let o=n[r];if(typeof o=="number"){if(o!==0)break;r++;let i=n[r++],s=n[r++],a=n[r++];t.setAttribute(e,s,a,i)}else{let i=o,s=n[++r];qg(i)?t.setProperty(e,i,s):t.setAttribute(e,i,s),r++}}return r}function Wg(t){return t===3||t===4||t===6}function qg(t){return t.charCodeAt(0)===64}function Pr(t,e){if(!(e===null||e.length===0))if(t===null||t.length===0)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){let o=e[r];typeof o=="number"?n=o:n===0||(n===-1||n===2?ru(t,n,o,null,e[++r]):ru(t,n,o,null,null))}}return t}function ru(t,e,n,r,o){let i=0,s=t.length;if(e===-1)s=-1;else for(;i<t.length;){let a=t[i++];if(typeof a=="number"){if(a===e){s=-1;break}else if(a>e){s=i-1;break}}}for(;i<t.length;){let a=t[i];if(typeof a=="number")break;if(a===n){o!==null&&(t[i+1]=o);return}i++,o!==null&&i++}s!==-1&&(t.splice(s,0,e),i=s+1),t.splice(i++,0,n),o!==null&&t.splice(i++,0,o)}function md(t){return t!==Wn}function ii(t){return t&32767}function Zg(t){return t>>16}function si(t,e){let n=Zg(t),r=e;for(;n>0;)r=r[tr],n--;return r}var fa=!0;function ai(t){let e=fa;return fa=t,e}var Yg=256,yd=Yg-1,vd=5,Qg=0,Vt={};function Kg(t,e,n){let r;typeof n=="string"?r=n.charCodeAt(0)||0:n.hasOwnProperty(Sr)&&(r=n[Sr]),r==null&&(r=n[Sr]=Qg++);let o=r&yd,i=1<<o;e.data[t+(o>>vd)]|=i}function li(t,e){let n=_d(t,e);if(n!==-1)return n;let r=e[V];r.firstCreatePass&&(t.injectorIndex=e.length,Gs(r.data,t),Gs(e,null),Gs(r.blueprint,null));let o=ml(t,e),i=t.injectorIndex;if(md(o)){let s=ii(o),a=si(o,e),l=a[V].data;for(let c=0;c<8;c++)e[i+c]=a[s+c]|l[s+c]}return e[i+8]=o,i}function Gs(t,e){t.push(0,0,0,0,0,0,0,0,e)}function _d(t,e){return t.injectorIndex===-1||t.parent&&t.parent.injectorIndex===t.injectorIndex||e[t.injectorIndex+8]===null?-1:t.injectorIndex}function ml(t,e){if(t.parent&&t.parent.injectorIndex!==-1)return t.parent.injectorIndex;let n=0,r=null,o=e;for(;o!==null;){if(r=Ed(o),r===null)return Wn;if(n++,o=o[tr],r.injectorIndex!==-1)return r.injectorIndex|n<<16}return Wn}function pa(t,e,n){Kg(t,e,n)}function Cd(t,e,n){if(n&z.Optional||t!==void 0)return t;Xa(e,"NodeInjector")}function bd(t,e,n,r){if(n&z.Optional&&r===void 0&&(r=null),(n&(z.Self|z.Host))===0){let o=t[Zn],i=nt(void 0);try{return o?o.get(e,r,n&z.Optional):Fu(e,r,n&z.Optional)}finally{nt(i)}}return Cd(r,e,n)}function wd(t,e,n,r=z.Default,o){if(t!==null){if(e[L]&2048&&!(r&z.Self)){let s=tm(t,e,n,r,Vt);if(s!==Vt)return s}let i=Dd(t,e,n,r,Vt);if(i!==Vt)return i}return bd(e,n,r,o)}function Dd(t,e,n,r,o){let i=Jg(n);if(typeof i=="function"){if(!ld(e,t,r))return r&z.Host?Cd(o,n,r):bd(e,n,r,o);try{let s;if(s=i(r),s==null&&!(r&z.Optional))Xa(n);else return s}finally{fd()}}else if(typeof i=="number"){let s=null,a=_d(t,e),l=Wn,c=r&z.Host?e[xt][Tt]:null;for((a===-1||r&z.SkipSelf)&&(l=a===-1?ml(t,e):e[a+8],l===Wn||!iu(r,!1)?a=-1:(s=e[V],a=ii(l),e=si(l,e)));a!==-1;){let u=e[V];if(ou(i,a,u.data)){let h=Xg(a,e,n,s,r,c);if(h!==Vt)return h}l=e[a+8],l!==Wn&&iu(r,e[V].data[a+8]===c)&&ou(i,a,e)?(s=u,a=ii(l),e=si(l,e)):a=-1}}return o}function Xg(t,e,n,r,o,i){let s=e[V],a=s.data[t+8],l=r==null?nr(a)&&fa:r!=s&&(a.type&3)!==0,c=o&z.Host&&i===a,u=Wo(a,s,n,l,c);return u!==null?kr(e,s,u,a,o):Vt}function Wo(t,e,n,r,o){let i=t.providerIndexes,s=e.data,a=i&1048575,l=t.directiveStart,c=t.directiveEnd,u=i>>20,h=r?a:a+u,C=o?a+u:c;for(let p=h;p<C;p++){let b=s[p];if(p<l&&n===b||p>=l&&b.type===n)return p}if(o){let p=s[l];if(p&&Lt(p)&&p.type===n)return l}return null}function kr(t,e,n,r,o){let i=t[n],s=e.data;if(i instanceof Nn){let a=i;a.resolving&&ku(Lh(s[n]));let l=ai(a.canSeeViewProviders);a.resolving=!0;let c,u=a.injectImpl?nt(a.injectImpl):null,h=ld(t,r,z.Default);try{i=t[n]=a.factory(void 0,o,s,t,r),e.firstCreatePass&&n>=r.directiveStart&&Hg(n,s[n],e)}finally{u!==null&&nt(u),ai(l),a.resolving=!1,fd()}}return i}function Jg(t){if(typeof t=="string")return t.charCodeAt(0)||0;let e=t.hasOwnProperty(Sr)?t[Sr]:void 0;return typeof e=="number"?e>=0?e&yd:em:e}function ou(t,e,n){let r=1<<t;return!!(n[e+(t>>vd)]&r)}function iu(t,e){return!(t&z.Self)&&!(t&z.Host&&e)}var Dn=class{_tNode;_lView;constructor(e,n){this._tNode=e,this._lView=n}get(e,n,r){return wd(this._tNode,this._lView,e,bi(r),n)}};function em(){return new Dn(ht(),te())}function dn(t){return Ci(()=>{let e=t.prototype.constructor,n=e[Yo]||ha(e),r=Object.prototype,o=Object.getPrototypeOf(t.prototype).constructor;for(;o&&o!==r;){let i=o[Yo]||ha(o);if(i&&i!==n)return i;o=Object.getPrototypeOf(o)}return i=>new i})}function ha(t){return Nu(t)?()=>{let e=ha(et(t));return e&&e()}:En(t)}function tm(t,e,n,r,o){let i=t,s=e;for(;i!==null&&s!==null&&s[L]&2048&&!oi(s);){let a=Dd(i,s,n,r|z.Self,Vt);if(a!==Vt)return a;let l=i.parent;if(!l){let c=s[Gu];if(c){let u=c.get(n,Vt,r);if(u!==Vt)return u}l=Ed(s),s=s[tr]}i=l}return o}function Ed(t){let e=t[V],n=e.type;return n===2?e.declTNode:n===1?t[Tt]:null}function su(t,e=null,n=null,r){let o=nm(t,e,n,r);return o.resolveInjectorInitializers(),o}function nm(t,e=null,n=null,r,o=new Set){let i=[n||rt,eg(t)];return r=r||(typeof t=="object"?void 0:ft(t)),new Nr(i,e||nl(),r||null,o)}var Kn=class t{static THROW_IF_NOT_FOUND=wn;static NULL=new ei;static create(e,n){if(Array.isArray(e))return su({name:""},n,e,"");{let r=e.name??"";return su({name:r},e.parent,e.providers,r)}}static \u0275prov=Ee({token:t,providedIn:"any",factory:()=>de(Lu)});static __NG_ELEMENT_ID__=-1};var rm=new W("");rm.__NG_ELEMENT_ID__=t=>{let e=ht();if(e===null)throw new Q(204,!1);if(e.type&2)return e.value;if(t&z.Optional)return null;throw new Q(204,!1)};var Md=!1,xd=(()=>{class t{static __NG_ELEMENT_ID__=om;static __NG_ENV_ID__=n=>n}return t})(),ga=class extends xd{_lView;constructor(e){super(),this._lView=e}onDestroy(e){let n=this._lView;return rr(n)?(e(),()=>{}):(td(n,e),()=>bg(n,e))}};function om(){return new ga(te())}var Rr=class{},Sd=new W("",{providedIn:"root",factory:()=>!1});var Id=new W(""),Td=new W(""),xi=(()=>{class t{taskId=0;pendingTasks=new Set;get _hasPendingTasks(){return this.hasPendingTasks.value}hasPendingTasks=new wr(!1);add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let n=this.taskId++;return this.pendingTasks.add(n),n}has(n){return this.pendingTasks.has(n)}remove(n){this.pendingTasks.delete(n),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}static \u0275prov=Ee({token:t,providedIn:"root",factory:()=>new t})}return t})();var ma=class extends Rt{__isAsync;destroyRef=void 0;pendingTasks=void 0;constructor(e=!1){super(),this.__isAsync=e,ug()&&(this.destroyRef=le(xd,{optional:!0})??void 0,this.pendingTasks=le(xi,{optional:!0})??void 0)}emit(e){let n=H(null);try{super.next(e)}finally{H(n)}}subscribe(e,n,r){let o=e,i=n||(()=>null),s=r;if(e&&typeof e=="object"){let l=e;o=l.next?.bind(l),i=l.error?.bind(l),s=l.complete?.bind(l)}this.__isAsync&&(i=this.wrapInTimeout(i),o&&(o=this.wrapInTimeout(o)),s&&(s=this.wrapInTimeout(s)));let a=super.subscribe({next:o,error:i,complete:s});return e instanceof Je&&e.add(a),a}wrapInTimeout(e){return n=>{let r=this.pendingTasks?.add();setTimeout(()=>{try{e(n)}finally{r!==void 0&&this.pendingTasks?.remove(r)}})}}},G=ma;function ci(...t){}function Nd(t){let e,n;function r(){t=ci;try{n!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(n),e!==void 0&&clearTimeout(e)}catch{}}return e=setTimeout(()=>{t(),r()}),typeof requestAnimationFrame=="function"&&(n=requestAnimationFrame(()=>{t(),r()})),()=>r()}function au(t){return queueMicrotask(()=>t()),()=>{t=ci}}var yl="isAngularZone",ui=yl+"_ID",im=0,Ue=class t{hasPendingMacrotasks=!1;hasPendingMicrotasks=!1;isStable=!0;onUnstable=new G(!1);onMicrotaskEmpty=new G(!1);onStable=new G(!1);onError=new G(!1);constructor(e){let{enableLongStackTrace:n=!1,shouldCoalesceEventChangeDetection:r=!1,shouldCoalesceRunChangeDetection:o=!1,scheduleInRootZone:i=Md}=e;if(typeof Zone>"u")throw new Q(908,!1);Zone.assertZonePatched();let s=this;s._nesting=0,s._outer=s._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(s._inner=s._inner.fork(new Zone.TaskTrackingZoneSpec)),n&&Zone.longStackTraceZoneSpec&&(s._inner=s._inner.fork(Zone.longStackTraceZoneSpec)),s.shouldCoalesceEventChangeDetection=!o&&r,s.shouldCoalesceRunChangeDetection=o,s.callbackScheduled=!1,s.scheduleInRootZone=i,lm(s)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get(yl)===!0}static assertInAngularZone(){if(!t.isInAngularZone())throw new Q(909,!1)}static assertNotInAngularZone(){if(t.isInAngularZone())throw new Q(909,!1)}run(e,n,r){return this._inner.run(e,n,r)}runTask(e,n,r,o){let i=this._inner,s=i.scheduleEventTask("NgZoneEvent: "+o,e,sm,ci,ci);try{return i.runTask(s,n,r)}finally{i.cancelTask(s)}}runGuarded(e,n,r){return this._inner.runGuarded(e,n,r)}runOutsideAngular(e){return this._outer.run(e)}},sm={};function vl(t){if(t._nesting==0&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function am(t){if(t.isCheckStableRunning||t.callbackScheduled)return;t.callbackScheduled=!0;function e(){Nd(()=>{t.callbackScheduled=!1,ya(t),t.isCheckStableRunning=!0,vl(t),t.isCheckStableRunning=!1})}t.scheduleInRootZone?Zone.root.run(()=>{e()}):t._outer.run(()=>{e()}),ya(t)}function lm(t){let e=()=>{am(t)},n=im++;t._inner=t._inner.fork({name:"angular",properties:{[yl]:!0,[ui]:n,[ui+n]:!0},onInvokeTask:(r,o,i,s,a,l)=>{if(cm(l))return r.invokeTask(i,s,a,l);try{return lu(t),r.invokeTask(i,s,a,l)}finally{(t.shouldCoalesceEventChangeDetection&&s.type==="eventTask"||t.shouldCoalesceRunChangeDetection)&&e(),cu(t)}},onInvoke:(r,o,i,s,a,l,c)=>{try{return lu(t),r.invoke(i,s,a,l,c)}finally{t.shouldCoalesceRunChangeDetection&&!t.callbackScheduled&&!um(l)&&e(),cu(t)}},onHasTask:(r,o,i,s)=>{r.hasTask(i,s),o===i&&(s.change=="microTask"?(t._hasPendingMicrotasks=s.microTask,ya(t),vl(t)):s.change=="macroTask"&&(t.hasPendingMacrotasks=s.macroTask))},onHandleError:(r,o,i,s)=>(r.handleError(i,s),t.runOutsideAngular(()=>t.onError.emit(s)),!1)})}function ya(t){t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&t.callbackScheduled===!0?t.hasPendingMicrotasks=!0:t.hasPendingMicrotasks=!1}function lu(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function cu(t){t._nesting--,vl(t)}var va=class{hasPendingMicrotasks=!1;hasPendingMacrotasks=!1;isStable=!0;onUnstable=new G;onMicrotaskEmpty=new G;onStable=new G;onError=new G;run(e,n,r){return e.apply(n,r)}runGuarded(e,n,r){return e.apply(n,r)}runOutsideAngular(e){return e()}runTask(e,n,r,o){return e.apply(n,r)}};function cm(t){return Ad(t,"__ignore_ng_zone__")}function um(t){return Ad(t,"__scheduler_tick__")}function Ad(t,e){return!Array.isArray(t)||t.length!==1?!1:t[0]?.data?.[e]===!0}var Kt=class{_console=console;handleError(e){this._console.error("ERROR",e)}},dm=new W("",{providedIn:"root",factory:()=>{let t=le(Ue),e=le(Kt);return n=>t.runOutsideAngular(()=>e.handleError(n))}});function fm(){return ir(ht(),te())}function ir(t,e){return new gt($t(t,e))}var gt=(()=>{class t{nativeElement;constructor(n){this.nativeElement=n}static __NG_ELEMENT_ID__=fm}return t})();function pm(t){return t instanceof gt?t.nativeElement:t}function hm(t){return typeof t=="function"&&t[bt]!==void 0}function x(t,e){let n=xs(t,e?.equal),r=n[bt];return n.set=o=>wo(r,o),n.update=o=>Ss(r,o),n.asReadonly=gm.bind(n),n}function gm(){let t=this[bt];if(t.readonlyFn===void 0){let e=()=>this();e[bt]=t,t.readonlyFn=e}return t.readonlyFn}function Od(t){return hm(t)&&typeof t.set=="function"}function mm(){return this._results[Symbol.iterator]()}var _a=class{_emitDistinctChangesOnly;dirty=!0;_onDirty=void 0;_results=[];_changesDetected=!1;_changes=void 0;length=0;first=void 0;last=void 0;get changes(){return this._changes??=new Rt}constructor(e=!1){this._emitDistinctChangesOnly=e}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,n){return this._results.reduce(e,n)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,n){this.dirty=!1;let r=Yh(e);(this._changesDetected=!Zh(this._results,r,n))&&(this._results=r,this.length=r.length,this.last=r[this.length-1],this.first=r[0])}notifyOnChanges(){this._changes!==void 0&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.next(this)}onDirty(e){this._onDirty=e}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){this._changes!==void 0&&(this._changes.complete(),this._changes.unsubscribe())}[Symbol.iterator]=mm};function Pd(t){return(t.flags&128)===128}var kd=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(kd||{}),Rd=new Map,ym=0;function vm(){return ym++}function _m(t){Rd.set(t[Di],t)}function Ca(t){Rd.delete(t[Di])}var uu="__ngContext__";function Gr(t,e){ln(e)?(t[uu]=e[Di],_m(e)):t[uu]=e}function Fd(t){return Ld(t[Or])}function Vd(t){return Ld(t[Mt])}function Ld(t){for(;t!==null&&!en(t);)t=t[Mt];return t}var ba;function jd(t){ba=t}function Cm(){if(ba!==void 0)return ba;if(typeof document<"u")return document;throw new Q(210,!1)}var _l=new W("",{providedIn:"root",factory:()=>bm}),bm="ng",Cl=new W(""),Wr=new W("",{providedIn:"platform",factory:()=>"unknown"});var bl=new W("",{providedIn:"root",factory:()=>Cm().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var wm="h",Dm="b";var Bd=!1,Em=new W("",{providedIn:"root",factory:()=>Bd});var Hd=function(t){return t[t.CHANGE_DETECTION=0]="CHANGE_DETECTION",t[t.AFTER_NEXT_RENDER=1]="AFTER_NEXT_RENDER",t}(Hd||{}),Si=new W(""),du=new Set;function wl(t){du.has(t)||(du.add(t),performance?.mark?.("mark_feature_usage",{detail:{feature:t}}))}var Mm=(()=>{class t{impl=null;execute(){this.impl?.execute()}static \u0275prov=Ee({token:t,providedIn:"root",factory:()=>new t})}return t})();var xm=(t,e,n,r)=>{};function Sm(t,e,n,r){xm(t,e,n,r)}var Im=()=>null;function $d(t,e,n=!1){return Im(t,e,n)}function Ud(t,e){let n=t.contentQueries;if(n!==null){let r=H(null);try{for(let o=0;o<n.length;o+=2){let i=n[o],s=n[o+1];if(s!==-1){let a=t.data[s];ul(i),a.contentQueries(2,e[s],s)}}}finally{H(r)}}}function wa(t,e,n){ul(0);let r=H(null);try{e(t,n)}finally{H(r)}}function zd(t,e,n){if(qu(e)){let r=H(null);try{let o=e.directiveStart,i=e.directiveEnd;for(let s=o;s<i;s++){let a=t.data[s];if(a.contentQueries){let l=n[s];a.contentQueries(1,l,s)}}}finally{H(r)}}}var Ht=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(Ht||{});var Da=class{changingThisBreaksApplicationSecurity;constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${Ih})`}};function Gd(t){return t instanceof Da?t.changingThisBreaksApplicationSecurity:t}function Tm(t,e){return t.createText(e)}function Nm(t,e,n){t.setValue(e,n)}function Wd(t,e,n){return t.createElement(e,n)}function di(t,e,n,r,o){t.insertBefore(e,n,r,o)}function qd(t,e,n){t.appendChild(e,n)}function fu(t,e,n,r,o){r!==null?di(t,e,n,r,o):qd(t,e,n)}function Am(t,e,n){t.removeChild(null,e,n)}function Om(t,e,n){t.setAttribute(e,"style",n)}function Pm(t,e,n){n===""?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n)}function Zd(t,e,n){let{mergedAttrs:r,classes:o,styles:i}=n;r!==null&&Gg(t,e,r),o!==null&&Pm(t,e,o),i!==null&&Om(t,e,i)}function Yd(t){return t.ownerDocument}function km(t,e,n){let r=t.length;for(;;){let o=t.indexOf(e,n);if(o===-1)return o;if(o===0||t.charCodeAt(o-1)<=32){let i=e.length;if(o+i===r||t.charCodeAt(o+i)<=32)return o}n=o+1}}var Qd="ng-template";function Rm(t,e,n,r){let o=0;if(r){for(;o<e.length&&typeof e[o]=="string";o+=2)if(e[o]==="class"&&km(e[o+1].toLowerCase(),n,0)!==-1)return!0}else if(Dl(t))return!1;if(o=e.indexOf(1,o),o>-1){let i;for(;++o<e.length&&typeof(i=e[o])=="string";)if(i.toLowerCase()===n)return!0}return!1}function Dl(t){return t.type===4&&t.value!==Qd}function Fm(t,e,n){let r=t.type===4&&!n?Qd:t.value;return e===r}function Vm(t,e,n){let r=4,o=t.attrs,i=o!==null?Bm(o):0,s=!1;for(let a=0;a<e.length;a++){let l=e[a];if(typeof l=="number"){if(!s&&!Dt(r)&&!Dt(l))return!1;if(s&&Dt(l))continue;s=!1,r=l|r&1;continue}if(!s)if(r&4){if(r=2|r&1,l!==""&&!Fm(t,l,n)||l===""&&e.length===1){if(Dt(r))return!1;s=!0}}else if(r&8){if(o===null||!Rm(t,o,l,n)){if(Dt(r))return!1;s=!0}}else{let c=e[++a],u=Lm(l,o,Dl(t),n);if(u===-1){if(Dt(r))return!1;s=!0;continue}if(c!==""){let h;if(u>i?h="":h=o[u+1].toLowerCase(),r&2&&c!==h){if(Dt(r))return!1;s=!0}}}}return Dt(r)||s}function Dt(t){return(t&1)===0}function Lm(t,e,n,r){if(e===null)return-1;let o=0;if(r||!n){let i=!1;for(;o<e.length;){let s=e[o];if(s===t)return o;if(s===3||s===6)i=!0;else if(s===1||s===2){let a=e[++o];for(;typeof a=="string";)a=e[++o];continue}else{if(s===4)break;if(s===0){o+=4;continue}}o+=i?1:2}return-1}else return Hm(e,t)}function jm(t,e,n=!1){for(let r=0;r<e.length;r++)if(Vm(t,e[r],n))return!0;return!1}function Bm(t){for(let e=0;e<t.length;e++){let n=t[e];if(Wg(n))return e}return t.length}function Hm(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){let r=t[n];if(typeof r=="number")return-1;if(r===e)return n;n++}return-1}function pu(t,e){return t?":not("+e.trim()+")":e}function $m(t){let e=t[0],n=1,r=2,o="",i=!1;for(;n<t.length;){let s=t[n];if(typeof s=="string")if(r&2){let a=t[++n];o+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else r&8?o+="."+s:r&4&&(o+=" "+s);else o!==""&&!Dt(s)&&(e+=pu(i,o),o=""),r=s,i=i||!Dt(r);n++}return o!==""&&(e+=pu(i,o)),e}function Um(t){return t.map($m).join(",")}function zm(t){let e=[],n=[],r=1,o=2;for(;r<t.length;){let i=t[r];if(typeof i=="string")o===2?i!==""&&e.push(i,t[++r]):o===8&&n.push(i);else{if(!Dt(o))break;o=i}r++}return n.length&&e.push(1,...n),e}var mt={};function El(t,e,n,r,o,i,s,a,l,c,u){let h=Ye+r,C=h+o,p=Gm(h,C),b=typeof c=="function"?c():c;return p[V]={type:t,blueprint:p,template:n,queries:null,viewQuery:a,declTNode:e,data:p.slice().fill(null,h),bindingStartIndex:h,expandoStartIndex:C,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof i=="function"?i():i,pipeRegistry:typeof s=="function"?s():s,firstChild:null,schemas:l,consts:b,incompleteFirstPass:!1,ssrId:u}}function Gm(t,e){let n=[];for(let r=0;r<e;r++)n.push(r<t?null:mt);return n}function Wm(t){let e=t.tView;return e===null||e.incompleteFirstPass?t.tView=El(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):e}function Ml(t,e,n,r,o,i,s,a,l,c,u){let h=e.blueprint.slice();return h[Jt]=o,h[L]=r|4|128|8|64|1024,(c!==null||t&&t[L]&2048)&&(h[L]|=2048),Ju(h),h[Ze]=h[tr]=t,h[Ve]=n,h[un]=s||t&&t[un],h[Ie]=a||t&&t[Ie],h[Zn]=l||t&&t[Zn]||null,h[Tt]=i,h[Di]=vm(),h[Ar]=u,h[Gu]=c,h[xt]=e.type==2?t[xt]:h,h}function qm(t,e,n){let r=$t(e,t),o=Wm(n),i=t[un].rendererFactory,s=xl(t,Ml(t,o,null,Kd(n),r,e,null,i.createRenderer(r,n),null,null,null));return t[e.index]=s}function Kd(t){let e=16;return t.signals?e=4096:t.onPush&&(e=64),e}function Xd(t,e,n,r){if(n===0)return-1;let o=e.length;for(let i=0;i<n;i++)e.push(r),t.blueprint.push(r),t.data.push(null);return o}function xl(t,e){return t[Or]?t[Jc][Mt]=e:t[Or]=e,t[Jc]=e,e}function g(t=1){Jd(He(),te(),tn()+t,!1)}function Jd(t,e,n,r){if(!r)if((e[L]&3)===3){let i=t.preOrderCheckHooks;i!==null&&zo(e,i,n)}else{let i=t.preOrderHooks;i!==null&&Go(e,i,0,n)}Tn(n)}var Ii=function(t){return t[t.None=0]="None",t[t.SignalBased=1]="SignalBased",t[t.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",t}(Ii||{});function Ea(t,e,n,r){let o=H(null);try{let[i,s,a]=t.inputs[n],l=null;(s&Ii.SignalBased)!==0&&(l=e[i][bt]),l!==null&&l.transformFn!==void 0?r=l.transformFn(r):a!==null&&(r=a.call(e,r)),t.setInput!==null?t.setInput(e,l,r,n,i):Zu(e,l,i,r)}finally{H(o)}}function ef(t,e,n,r,o){let i=tn(),s=r&2;try{Tn(-1),s&&e.length>Ye&&Jd(t,e,Ye,!1),me(s?2:0,o),n(r,o)}finally{Tn(i),me(s?3:1,o)}}function Sl(t,e,n){Jm(t,e,n),(n.flags&64)===64&&ey(t,e,n)}function tf(t,e,n=$t){let r=e.localNames;if(r!==null){let o=e.index+1;for(let i=0;i<r.length;i+=2){let s=r[i+1],a=s===-1?n(e,t):t[s];t[o++]=a}}}function Zm(t,e,n,r){let i=r.get(Em,Bd)||n===Ht.ShadowDom,s=t.selectRootElement(e,i);return Ym(s),s}function Ym(t){Qm(t)}var Qm=()=>null;function Km(t){return t==="class"?"className":t==="for"?"htmlFor":t==="formaction"?"formAction":t==="innerHtml"?"innerHTML":t==="readonly"?"readOnly":t==="tabindex"?"tabIndex":t}function nf(t,e,n,r,o,i,s,a){if(!a&&Il(e,t,n,r,o)){nr(e)&&Xm(n,e.index);return}if(e.type&3){let l=$t(e,n);r=Km(r),o=s!=null?s(o,e.value||"",r):o,i.setProperty(l,r,o)}else e.type&12}function Xm(t,e){let n=Bt(e,t);n[L]&16||(n[L]|=64)}function Jm(t,e,n){let r=n.directiveStart,o=n.directiveEnd;nr(n)&&qm(e,n,t.data[r+n.componentOffset]),t.firstCreatePass||li(n,e);let i=n.initialInputs;for(let s=r;s<o;s++){let a=t.data[s],l=kr(e,t,s,n);if(Gr(l,e),i!==null&&oy(e,s-r,l,a,n,i),Lt(a)){let c=Bt(n.index,e);c[Ve]=kr(e,t,s,n)}}}function ey(t,e,n){let r=n.directiveStart,o=n.directiveEnd,i=n.index,s=Fg();try{Tn(i);for(let a=r;a<o;a++){let l=t.data[a],c=e[a];da(a),(l.hostBindings!==null||l.hostVars!==0||l.hostAttrs!==null)&&ty(l,c)}}finally{Tn(-1),da(s)}}function ty(t,e){t.hostBindings!==null&&t.hostBindings(1,e)}function rf(t,e){let n=t.directiveRegistry,r=null;if(n)for(let o=0;o<n.length;o++){let i=n[o];jm(e,i.selectors,!1)&&(r??=[],Lt(i)?r.unshift(i):r.push(i))}return r}function ny(t,e,n,r,o,i){let s=$t(t,e);ry(e[Ie],s,i,t.value,n,r,o)}function ry(t,e,n,r,o,i,s){if(i==null)t.removeAttribute(e,o,n);else{let a=s==null?Ir(i):s(i,r||"",o);t.setAttribute(e,o,a,n)}}function oy(t,e,n,r,o,i){let s=i[e];if(s!==null)for(let a=0;a<s.length;a+=2){let l=s[a],c=s[a+1];Ea(r,n,l,c)}}function iy(t,e){let n=t[Zn],r=n?n.get(Kt,null):null;r&&r.handleError(e)}function Il(t,e,n,r,o){let i=t.inputs?.[r],s=t.hostDirectiveInputs?.[r],a=!1;if(s)for(let l=0;l<s.length;l+=2){let c=s[l],u=s[l+1],h=e.data[c];Ea(h,n[c],u,o),a=!0}if(i)for(let l of i){let c=n[l],u=e.data[l];Ea(u,c,r,o),a=!0}return a}function sy(t,e){let n=Bt(e,t),r=n[V];ay(r,n);let o=n[Jt];o!==null&&n[Ar]===null&&(n[Ar]=$d(o,n[Zn])),me(18),Tl(r,n,n[Ve]),me(19,n[Ve])}function ay(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}function Tl(t,e,n){dl(e);try{let r=t.viewQuery;r!==null&&wa(1,r,n);let o=t.template;o!==null&&ef(t,e,o,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),e[Qt]?.finishViewCreation(t),t.staticContentQueries&&Ud(t,e),t.staticViewQueries&&wa(2,t.viewQuery,n);let i=t.components;i!==null&&ly(e,i)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),r}finally{e[L]&=-5,fl()}}function ly(t,e){for(let n=0;n<e.length;n++)sy(t,e[n])}function Ti(t,e,n,r){let o=H(null);try{let i=e.tView,a=t[L]&4096?4096:16,l=Ml(t,i,n,a,null,e,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null),c=t[e.index];l[xn]=c;let u=t[Qt];return u!==null&&(l[Qt]=u.createEmbeddedView(i)),Tl(i,l,n),l}finally{H(o)}}function Fr(t,e){return!e||e.firstChild===null||Pd(t)}var cy;function Nl(t,e){return cy(t,e)}var Xt=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(Xt||{});function of(t){return(t.flags&32)===32}function Gn(t,e,n,r,o){if(r!=null){let i,s=!1;en(r)?i=r:ln(r)&&(s=!0,r=r[Jt]);let a=jt(r);t===0&&n!==null?o==null?qd(e,n,a):di(e,n,a,o||null,!0):t===1&&n!==null?di(e,n,a,o||null,!0):t===2?Am(e,a,s):t===3&&e.destroyNode(a),i!=null&&by(e,t,i,n,o)}}function uy(t,e){sf(t,e),e[Jt]=null,e[Tt]=null}function dy(t,e,n,r,o,i){r[Jt]=o,r[Tt]=e,Ai(t,r,n,1,o,i)}function sf(t,e){e[un].changeDetectionScheduler?.notify(9),Ai(t,e,e[Ie],2,null,null)}function fy(t){let e=t[Or];if(!e)return Ws(t[V],t);for(;e;){let n=null;if(ln(e))n=e[Or];else{let r=e[qe];r&&(n=r)}if(!n){for(;e&&!e[Mt]&&e!==t;)ln(e)&&Ws(e[V],e),e=e[Ze];e===null&&(e=t),ln(e)&&Ws(e[V],e),n=e&&e[Mt]}e=n}}function Al(t,e){let n=t[Yn],r=n.indexOf(e);n.splice(r,1)}function Ni(t,e){if(rr(e))return;let n=e[Ie];n.destroyNode&&Ai(t,e,n,3,null,null),fy(e)}function Ws(t,e){if(rr(e))return;let n=H(null);try{e[L]&=-129,e[L]|=256,e[pt]&&Ds(e[pt]),hy(t,e),py(t,e),e[V].type===1&&e[Ie].destroy();let r=e[xn];if(r!==null&&en(e[Ze])){r!==e[Ze]&&Al(r,e);let o=e[Qt];o!==null&&o.detachView(t)}Ca(e)}finally{H(n)}}function py(t,e){let n=t.cleanup,r=e[ti];if(n!==null)for(let s=0;s<n.length-1;s+=2)if(typeof n[s]=="string"){let a=n[s+3];a>=0?r[a]():r[-a].unsubscribe(),s+=2}else{let a=r[n[s+1]];n[s].call(a)}r!==null&&(e[ti]=null);let o=e[an];if(o!==null){e[an]=null;for(let s=0;s<o.length;s++){let a=o[s];a()}}let i=e[ni];if(i!==null){e[ni]=null;for(let s of i)s.destroy()}}function hy(t,e){let n;if(t!=null&&(n=t.destroyHooks)!=null)for(let r=0;r<n.length;r+=2){let o=e[n[r]];if(!(o instanceof Nn)){let i=n[r+1];if(Array.isArray(i))for(let s=0;s<i.length;s+=2){let a=o[i[s]],l=i[s+1];me(4,a,l);try{l.call(a)}finally{me(5,a,l)}}else{me(4,o,i);try{i.call(o)}finally{me(5,o,i)}}}}}function gy(t,e,n){return my(t,e.parent,n)}function my(t,e,n){let r=e;for(;r!==null&&r.type&168;)e=r,r=e.parent;if(r===null)return n[Jt];if(nr(r)){let{encapsulation:o}=t.data[r.directiveStart+r.componentOffset];if(o===Ht.None||o===Ht.Emulated)return null}return $t(r,n)}function yy(t,e,n){return _y(t,e,n)}function vy(t,e,n){return t.type&40?$t(t,n):null}var _y=vy,hu;function Ol(t,e,n,r){let o=gy(t,r,e),i=e[Ie],s=r.parent||e[Tt],a=yy(s,r,e);if(o!=null)if(Array.isArray(n))for(let l=0;l<n.length;l++)fu(i,o,n[l],a,!1);else fu(i,o,n,a,!1);hu!==void 0&&hu(i,r,e,n,o)}function xr(t,e){if(e!==null){let n=e.type;if(n&3)return $t(e,t);if(n&4)return Ma(-1,t[e.index]);if(n&8){let r=e.child;if(r!==null)return xr(t,r);{let o=t[e.index];return en(o)?Ma(-1,o):jt(o)}}else{if(n&128)return xr(t,e.next);if(n&32)return Nl(e,t)()||jt(t[e.index]);{let r=af(t,e);if(r!==null){if(Array.isArray(r))return r[0];let o=In(t[xt]);return xr(o,r)}else return xr(t,e.next)}}}return null}function af(t,e){if(e!==null){let r=t[xt][Tt],o=e.projection;return r.projection[o]}return null}function Ma(t,e){let n=qe+t+1;if(n<e.length){let r=e[n],o=r[V].firstChild;if(o!==null)return xr(r,o)}return e[Sn]}function Pl(t,e,n,r,o,i,s){for(;n!=null;){if(n.type===128){n=n.next;continue}let a=r[n.index],l=n.type;if(s&&e===0&&(a&&Gr(jt(a),r),n.flags|=2),!of(n))if(l&8)Pl(t,e,n.child,r,o,i,!1),Gn(e,t,o,a,i);else if(l&32){let c=Nl(n,r),u;for(;u=c();)Gn(e,t,o,u,i);Gn(e,t,o,a,i)}else l&16?Cy(t,e,r,n,o,i):Gn(e,t,o,a,i);n=s?n.projectionNext:n.next}}function Ai(t,e,n,r,o,i){Pl(n,r,t.firstChild,e,o,i,!1)}function Cy(t,e,n,r,o,i){let s=n[xt],l=s[Tt].projection[r.projection];if(Array.isArray(l))for(let c=0;c<l.length;c++){let u=l[c];Gn(e,t,o,u,i)}else{let c=l,u=s[Ze];Pd(r)&&(c.flags|=128),Pl(t,e,c,u,o,i,!0)}}function by(t,e,n,r,o){let i=n[Sn],s=jt(n);i!==s&&Gn(e,t,r,i,o);for(let a=qe;a<n.length;a++){let l=n[a];Ai(l[V],l,t,e,r,i)}}function wy(t,e,n,r,o){if(e)o?t.addClass(n,r):t.removeClass(n,r);else{let i=r.indexOf("-")===-1?void 0:Xt.DashCase;o==null?t.removeStyle(n,r,i):(typeof o=="string"&&o.endsWith("!important")&&(o=o.slice(0,-10),i|=Xt.Important),t.setStyle(n,r,o,i))}}function fi(t,e,n,r,o=!1){for(;n!==null;){if(n.type===128){n=o?n.projectionNext:n.next;continue}let i=e[n.index];i!==null&&r.push(jt(i)),en(i)&&Dy(i,r);let s=n.type;if(s&8)fi(t,e,n.child,r);else if(s&32){let a=Nl(n,e),l;for(;l=a();)r.push(l)}else if(s&16){let a=af(e,n);if(Array.isArray(a))r.push(...a);else{let l=In(e[xt]);fi(l[V],l,a,r,!0)}}n=o?n.projectionNext:n.next}return r}function Dy(t,e){for(let n=qe;n<t.length;n++){let r=t[n],o=r[V].firstChild;o!==null&&fi(r[V],r,o,e)}t[Sn]!==t[Jt]&&e.push(t[Sn])}function lf(t){if(t[Us]!==null){for(let e of t[Us])e.impl.addSequence(e);t[Us].length=0}}var cf=[];function Ey(t){return t[pt]??My(t)}function My(t){let e=cf.pop()??Object.create(Sy);return e.lView=t,e}function xy(t){t.lView[pt]!==t&&(t.lView=null,cf.push(t))}var Sy=re(O({},_r),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:t=>{Mi(t.lView)},consumerOnSignalRead(){this.lView[pt]=this}});function Iy(t){let e=t[pt]??Object.create(Ty);return e.lView=t,e}var Ty=re(O({},_r),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:t=>{let e=In(t.lView);for(;e&&!uf(e[V]);)e=In(e);e&&ed(e)},consumerOnSignalRead(){this.lView[pt]=this}});function uf(t){return t.type!==2}function df(t){if(t[ni]===null)return;let e=!0;for(;e;){let n=!1;for(let r of t[ni])r.dirty&&(n=!0,r.zone===null||Zone.current===r.zone?r.run():r.zone.run(()=>r.run()));e=n&&!!(t[L]&8192)}}var Ny=100;function ff(t,e=!0,n=0){let o=t[un].rendererFactory,i=!1;i||o.begin?.();try{Ay(t,n)}catch(s){throw e&&iy(t,s),s}finally{i||o.end?.()}}function Ay(t,e){let n=id();try{tu(!0),xa(t,e);let r=0;for(;Ei(t);){if(r===Ny)throw new Q(103,!1);r++,xa(t,1)}}finally{tu(n)}}function Oy(t,e,n,r){if(rr(e))return;let o=e[L],i=!1,s=!1;dl(e);let a=!0,l=null,c=null;i||(uf(t)?(c=Ey(e),l=_o(c)):ys()===null?(a=!1,c=Iy(e),l=_o(c)):e[pt]&&(Ds(e[pt]),e[pt]=null));try{Ju(e),Pg(t.bindingStartIndex),n!==null&&ef(t,e,n,2,r);let u=(o&3)===3;if(!i)if(u){let p=t.preOrderCheckHooks;p!==null&&zo(e,p,null)}else{let p=t.preOrderHooks;p!==null&&Go(e,p,0,null),zs(e,0)}if(s||Py(e),df(e),pf(e,0),t.contentQueries!==null&&Ud(t,e),!i)if(u){let p=t.contentCheckHooks;p!==null&&zo(e,p)}else{let p=t.contentHooks;p!==null&&Go(e,p,1),zs(e,1)}Ry(t,e);let h=t.components;h!==null&&gf(e,h,0);let C=t.viewQuery;if(C!==null&&wa(2,C,r),!i)if(u){let p=t.viewCheckHooks;p!==null&&zo(e,p)}else{let p=t.viewHooks;p!==null&&Go(e,p,2),zs(e,2)}if(t.firstUpdatePass===!0&&(t.firstUpdatePass=!1),e[$s]){for(let p of e[$s])p();e[$s]=null}i||(lf(e),e[L]&=-73)}catch(u){throw i||Mi(e),u}finally{c!==null&&(bs(c,l),a&&xy(c)),fl()}}function pf(t,e){for(let n=Fd(t);n!==null;n=Vd(n))for(let r=qe;r<n.length;r++){let o=n[r];hf(o,e)}}function Py(t){for(let e=Fd(t);e!==null;e=Vd(e)){if(!(e[L]&2))continue;let n=e[Yn];for(let r=0;r<n.length;r++){let o=n[r];ed(o)}}}function ky(t,e,n){me(18);let r=Bt(e,t);hf(r,n),me(19,r[Ve])}function hf(t,e){sl(t)&&xa(t,e)}function xa(t,e){let r=t[V],o=t[L],i=t[pt],s=!!(e===0&&o&16);if(s||=!!(o&64&&e===0),s||=!!(o&1024),s||=!!(i?.dirty&&ws(i)),s||=!1,i&&(i.dirty=!1),t[L]&=-9217,s)Oy(r,t,r.template,t[Ve]);else if(o&8192){df(t),pf(t,1);let a=r.components;a!==null&&gf(t,a,1),lf(t)}}function gf(t,e,n){for(let r=0;r<e.length;r++)ky(t,e[r],n)}function Ry(t,e){let n=t.hostBindingOpCodes;if(n!==null)try{for(let r=0;r<n.length;r++){let o=n[r];if(o<0)Tn(~o);else{let i=o,s=n[++r],a=n[++r];Rg(s,i);let l=e[i];me(24,l),a(2,l),me(25,l)}}}finally{Tn(-1)}}function kl(t,e){let n=id()?64:1088;for(t[un].changeDetectionScheduler?.notify(e);t;){t[L]|=n;let r=In(t);if(oi(t)&&!r)return t;t=r}return null}function mf(t,e,n,r){return[t,!0,0,e,null,r,null,n,null,null]}function yf(t,e){let n=qe+e;if(n<t.length)return t[n]}function Oi(t,e,n,r=!0){let o=e[V];if(Fy(o,e,t,n),r){let s=Ma(n,t),a=e[Ie],l=a.parentNode(t[Sn]);l!==null&&dy(o,t[Tt],a,e,l,s)}let i=e[Ar];i!==null&&i.firstChild!==null&&(i.firstChild=null)}function vf(t,e){let n=Vr(t,e);return n!==void 0&&Ni(n[V],n),n}function Vr(t,e){if(t.length<=qe)return;let n=qe+e,r=t[n];if(r){let o=r[xn];o!==null&&o!==t&&Al(o,r),e>0&&(t[n-1][Mt]=r[Mt]);let i=Xo(t,qe+e);uy(r[V],r);let s=i[Qt];s!==null&&s.detachView(i[V]),r[Ze]=null,r[Mt]=null,r[L]&=-129}return r}function Fy(t,e,n,r){let o=qe+r,i=n.length;r>0&&(n[o-1][Mt]=e),r<i-qe?(e[Mt]=n[o],Vu(n,qe+r,e)):(n.push(e),e[Mt]=null),e[Ze]=n;let s=e[xn];s!==null&&n!==s&&_f(s,e);let a=e[Qt];a!==null&&a.insertView(t),ca(e),e[L]|=128}function _f(t,e){let n=t[Yn],r=e[Ze];if(ln(r))t[L]|=2;else{let o=r[Ze][xt];e[xt]!==o&&(t[L]|=2)}n===null?t[Yn]=[e]:n.push(e)}var Lr=class{_lView;_cdRefInjectingView;notifyErrorHandler;_appRef=null;_attachedToViewContainer=!1;get rootNodes(){let e=this._lView,n=e[V];return fi(n,e,n.firstChild,[])}constructor(e,n,r=!0){this._lView=e,this._cdRefInjectingView=n,this.notifyErrorHandler=r}get context(){return this._lView[Ve]}set context(e){this._lView[Ve]=e}get destroyed(){return rr(this._lView)}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[Ze];if(en(e)){let n=e[ri],r=n?n.indexOf(this):-1;r>-1&&(Vr(e,r),Xo(n,r))}this._attachedToViewContainer=!1}Ni(this._lView[V],this._lView)}onDestroy(e){td(this._lView,e)}markForCheck(){kl(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[L]&=-129}reattach(){ca(this._lView),this._lView[L]|=128}detectChanges(){this._lView[L]|=1024,ff(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new Q(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let e=oi(this._lView),n=this._lView[xn];n!==null&&!e&&Al(n,this._lView),sf(this._lView[V],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new Q(902,!1);this._appRef=e;let n=oi(this._lView),r=this._lView[xn];r!==null&&!n&&_f(r,this._lView),ca(this._lView)}};var jr=(()=>{class t{static __NG_ELEMENT_ID__=jy}return t})(),Vy=jr,Ly=class extends Vy{_declarationLView;_declarationTContainer;elementRef;constructor(e,n,r){super(),this._declarationLView=e,this._declarationTContainer=n,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,n){return this.createEmbeddedViewImpl(e,n)}createEmbeddedViewImpl(e,n,r){let o=Ti(this._declarationLView,this._declarationTContainer,e,{embeddedViewInjector:n,dehydratedView:r});return new Lr(o)}};function jy(){return Rl(ht(),te())}function Rl(t,e){return t.type&4?new Ly(e,t,ir(t,e)):null}function Fl(t,e,n,r,o){let i=t.data[e];if(i===null)i=By(t,e,n,r,o),kg()&&(i.flags|=32);else if(i.type&64){i.type=n,i.value=r,i.attrs=o;let s=Tg();i.injectorIndex=s===null?-1:s.injectorIndex}return zr(i,!0),i}function By(t,e,n,r,o){let i=rd(),s=od(),a=s?i:i&&i.parent,l=t.data[e]=$y(t,a,n,e,r,o);return Hy(t,l,i,s),l}function Hy(t,e,n,r){t.firstChild===null&&(t.firstChild=e),n!==null&&(r?n.child==null&&e.parent!==null&&(n.child=e):n.next===null&&(n.next=e,e.prev=n))}function $y(t,e,n,r,o,i){let s=e?e.injectorIndex:-1,a=0;return xg()&&(a|=128),{type:n,index:r,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:o,attrs:i,mergedAttrs:null,localNames:null,initialInputs:null,inputs:null,hostDirectiveInputs:null,outputs:null,hostDirectiveOutputs:null,directiveToIndex:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}var uM=new RegExp(`^(\\d+)*(${Dm}|${wm})*(.*)`);var Uy=()=>null;function Br(t,e){return Uy(t,e)}var zy=class{},Cf=class{},Sa=class{resolveComponentFactory(e){throw Error(`No component factory found for ${ft(e)}.`)}},Vl=class{static NULL=new Sa},Xn=class{},sr=(()=>{class t{destroyNode=null;static __NG_ELEMENT_ID__=()=>Gy()}return t})();function Gy(){let t=te(),e=ht(),n=Bt(e.index,t);return(ln(n)?n:t)[Ie]}var Wy=(()=>{class t{static \u0275prov=Ee({token:t,providedIn:"root",factory:()=>null})}return t})();var qs={},Ia=class{injector;parentInjector;constructor(e,n){this.injector=e,this.parentInjector=n}get(e,n,r){r=bi(r);let o=this.injector.get(e,qs,r);return o!==qs||n===qs?o:this.parentInjector.get(e,n,r)}};function gu(t,e,n){let r=n?t.styles:null,o=n?t.classes:null,i=0;if(e!==null)for(let s=0;s<e.length;s++){let a=e[s];if(typeof a=="number")i=a;else if(i==1)o=na(o,a);else if(i==2){let l=a,c=e[++s];r=na(r,l+": "+c+";")}}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=o:t.classesWithoutHost=o}function ce(t,e=z.Default){let n=te();if(n===null)return de(t,e);let r=ht();return wd(r,n,et(t),e)}function bf(t,e,n,r,o){let i=r===null?null:{"":-1},s=o(t,n);if(s!==null){let a,l=null,c=null,u=Zy(s);u===null?a=s:[a,l,c]=u,Ky(t,e,n,a,i,l,c)}i!==null&&r!==null&&qy(n,r,i)}function qy(t,e,n){let r=t.localNames=[];for(let o=0;o<e.length;o+=2){let i=n[e[o+1]];if(i==null)throw new Q(-301,!1);r.push(e[o],i)}}function Zy(t){let e=null,n=!1;for(let s=0;s<t.length;s++){let a=t[s];if(s===0&&Lt(a)&&(e=a),a.findHostDirectiveDefs!==null){n=!0;break}}if(!n)return null;let r=null,o=null,i=null;for(let s of t)s.findHostDirectiveDefs!==null&&(r??=[],o??=new Map,i??=new Map,Yy(s,r,i,o)),s===e&&(r??=[],r.push(s));return r!==null?(r.push(...e===null?t:t.slice(1)),[r,o,i]):null}function Yy(t,e,n,r){let o=e.length;t.findHostDirectiveDefs(t,e,r),n.set(t,[o,e.length-1])}function Qy(t,e,n){e.componentOffset=n,(t.components??=[]).push(e.index)}function Ky(t,e,n,r,o,i,s){let a=r.length,l=!1;for(let C=0;C<a;C++){let p=r[C];!l&&Lt(p)&&(l=!0,Qy(t,n,C)),pa(li(n,e),t,p.type)}rv(n,t.data.length,a);for(let C=0;C<a;C++){let p=r[C];p.providersResolver&&p.providersResolver(p)}let c=!1,u=!1,h=Xd(t,e,a,null);a>0&&(n.directiveToIndex=new Map);for(let C=0;C<a;C++){let p=r[C];if(n.mergedAttrs=Pr(n.mergedAttrs,p.hostAttrs),Jy(t,n,e,h,p),nv(h,p,o),s!==null&&s.has(p)){let[I,U]=s.get(p);n.directiveToIndex.set(p.type,[h,I+n.directiveStart,U+n.directiveStart])}else(i===null||!i.has(p))&&n.directiveToIndex.set(p.type,h);p.contentQueries!==null&&(n.flags|=4),(p.hostBindings!==null||p.hostAttrs!==null||p.hostVars!==0)&&(n.flags|=64);let b=p.type.prototype;!c&&(b.ngOnChanges||b.ngOnInit||b.ngDoCheck)&&((t.preOrderHooks??=[]).push(n.index),c=!0),!u&&(b.ngOnChanges||b.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(n.index),u=!0),h++}Xy(t,n,i)}function Xy(t,e,n){for(let r=e.directiveStart;r<e.directiveEnd;r++){let o=t.data[r];if(n===null||!n.has(o))mu(0,e,o,r),mu(1,e,o,r),vu(e,r,!1);else{let i=n.get(o);yu(0,e,i,r),yu(1,e,i,r),vu(e,r,!0)}}}function mu(t,e,n,r){let o=t===0?n.inputs:n.outputs;for(let i in o)if(o.hasOwnProperty(i)){let s;t===0?s=e.inputs??={}:s=e.outputs??={},s[i]??=[],s[i].push(r),wf(e,i)}}function yu(t,e,n,r){let o=t===0?n.inputs:n.outputs;for(let i in o)if(o.hasOwnProperty(i)){let s=o[i],a;t===0?a=e.hostDirectiveInputs??={}:a=e.hostDirectiveOutputs??={},a[s]??=[],a[s].push(r,i),wf(e,s)}}function wf(t,e){e==="class"?t.flags|=8:e==="style"&&(t.flags|=16)}function vu(t,e,n){let{attrs:r,inputs:o,hostDirectiveInputs:i}=t;if(r===null||!n&&o===null||n&&i===null||Dl(t)){t.initialInputs??=[],t.initialInputs.push(null);return}let s=null,a=0;for(;a<r.length;){let l=r[a];if(l===0){a+=4;continue}else if(l===5){a+=2;continue}else if(typeof l=="number")break;if(!n&&o.hasOwnProperty(l)){let c=o[l];for(let u of c)if(u===e){s??=[],s.push(l,r[a+1]);break}}else if(n&&i.hasOwnProperty(l)){let c=i[l];for(let u=0;u<c.length;u+=2)if(c[u]===e){s??=[],s.push(c[u+1],r[a+1]);break}}a+=2}t.initialInputs??=[],t.initialInputs.push(s)}function Jy(t,e,n,r,o){t.data[r]=o;let i=o.factory||(o.factory=En(o.type,!0)),s=new Nn(i,Lt(o),ce);t.blueprint[r]=s,n[r]=s,ev(t,e,r,Xd(t,n,o.hostVars,mt),o)}function ev(t,e,n,r,o){let i=o.hostBindings;if(i){let s=t.hostBindingOpCodes;s===null&&(s=t.hostBindingOpCodes=[]);let a=~e.index;tv(s)!=a&&s.push(a),s.push(n,r,i)}}function tv(t){let e=t.length;for(;e>0;){let n=t[--e];if(typeof n=="number"&&n<0)return n}return 0}function nv(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;Lt(e)&&(n[""]=t)}}function rv(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function Df(t,e,n,r,o,i,s,a){let l=e.consts,c=Qn(l,s),u=Fl(e,t,2,r,c);return i&&bf(e,n,u,Qn(l,a),o),u.mergedAttrs=Pr(u.mergedAttrs,u.attrs),u.attrs!==null&&gu(u,u.attrs,!1),u.mergedAttrs!==null&&gu(u,u.mergedAttrs,!0),e.queries!==null&&e.queries.elementStart(e,u),u}function Ef(t,e){hd(t,e),qu(e)&&t.queries.elementEnd(e)}var Ta=class extends Vl{ngModule;constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let n=Tr(e);return new pi(n,this.ngModule)}};function ov(t){return Object.keys(t).map(e=>{let[n,r,o]=t[e],i={propName:n,templateName:e,isSignal:(r&Ii.SignalBased)!==0};return o&&(i.transform=o),i})}function iv(t){return Object.keys(t).map(e=>({propName:t[e],templateName:e}))}function sv(t,e,n){let r=e instanceof cn?e:e?.injector;return r&&t.getStandaloneInjector!==null&&(r=t.getStandaloneInjector(r)||r),r?new Ia(n,r):n}function av(t){let e=t.get(Xn,null);if(e===null)throw new Q(407,!1);let n=t.get(Wy,null),r=t.get(Rr,null);return{rendererFactory:e,sanitizer:n,changeDetectionScheduler:r}}function lv(t,e){let n=(t.selectors[0][0]||"div").toLowerCase();return Wd(e,n,n==="svg"?gg:n==="math"?mg:null)}var pi=class extends Cf{componentDef;ngModule;selector;componentType;ngContentSelectors;isBoundToModule;cachedInputs=null;cachedOutputs=null;get inputs(){return this.cachedInputs??=ov(this.componentDef.inputs),this.cachedInputs}get outputs(){return this.cachedOutputs??=iv(this.componentDef.outputs),this.cachedOutputs}constructor(e,n){super(),this.componentDef=e,this.ngModule=n,this.componentType=e.type,this.selector=Um(e.selectors),this.ngContentSelectors=e.ngContentSelectors??[],this.isBoundToModule=!!n}create(e,n,r,o){me(22);let i=H(null);try{let s=this.componentDef,a=r?["ng-version","19.2.18"]:zm(this.componentDef.selectors[0]),l=El(0,null,null,1,0,null,null,null,null,[a],null),c=sv(s,o||this.ngModule,e),u=av(c),h=u.rendererFactory.createRenderer(null,s),C=r?Zm(h,r,s.encapsulation,c):lv(s,h),p=Ml(null,l,null,512|Kd(s),null,null,u,h,c,null,$d(C,c,!0));p[Ye]=C,dl(p);let b=null;try{let I=Df(Ye,l,p,"#host",()=>[this.componentDef],!0,0);C&&(Zd(h,C,I),Gr(C,p)),Sl(l,p,I),zd(l,I,p),Ef(l,I),n!==void 0&&cv(I,this.ngContentSelectors,n),b=Bt(I.index,p),p[Ve]=b[Ve],Tl(l,p,null)}catch(I){throw b!==null&&Ca(b),Ca(p),I}finally{me(23),fl()}return new Na(this.componentType,p)}finally{H(i)}}},Na=class extends zy{_rootLView;instance;hostView;changeDetectorRef;componentType;location;previousInputValues=null;_tNode;constructor(e,n){super(),this._rootLView=n,this._tNode=ol(n[V],Ye),this.location=ir(this._tNode,n),this.instance=Bt(this._tNode.index,n)[Ve],this.hostView=this.changeDetectorRef=new Lr(n,void 0,!1),this.componentType=e}setInput(e,n){let r=this._tNode;if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),n))return;let o=this._rootLView,i=Il(r,o[V],o,e,n);this.previousInputValues.set(e,n);let s=Bt(r.index,o);kl(s,1)}get injector(){return new Dn(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function cv(t,e,n){let r=t.projection=[];for(let o=0;o<e.length;o++){let i=n[o];r.push(i!=null&&i.length?Array.from(i):null)}}var Pi=(()=>{class t{static __NG_ELEMENT_ID__=uv}return t})();function uv(){let t=ht();return xf(t,te())}var dv=Pi,Mf=class extends dv{_lContainer;_hostTNode;_hostLView;constructor(e,n,r){super(),this._lContainer=e,this._hostTNode=n,this._hostLView=r}get element(){return ir(this._hostTNode,this._hostLView)}get injector(){return new Dn(this._hostTNode,this._hostLView)}get parentInjector(){let e=ml(this._hostTNode,this._hostLView);if(md(e)){let n=si(e,this._hostLView),r=ii(e),o=n[V].data[r+8];return new Dn(o,n)}else return new Dn(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let n=_u(this._lContainer);return n!==null&&n[e]||null}get length(){return this._lContainer.length-qe}createEmbeddedView(e,n,r){let o,i;typeof r=="number"?o=r:r!=null&&(o=r.index,i=r.injector);let s=Br(this._lContainer,e.ssrId),a=e.createEmbeddedViewImpl(n||{},i,s);return this.insertImpl(a,o,Fr(this._hostTNode,s)),a}createComponent(e,n,r,o,i){let s=e&&!dg(e),a;if(s)a=n;else{let b=n||{};a=b.index,r=b.injector,o=b.projectableNodes,i=b.environmentInjector||b.ngModuleRef}let l=s?e:new pi(Tr(e)),c=r||this.parentInjector;if(!i&&l.ngModule==null){let I=(s?c:this.parentInjector).get(cn,null);I&&(i=I)}let u=Tr(l.componentType??{}),h=Br(this._lContainer,u?.id??null),C=h?.firstChild??null,p=l.create(c,o,C,i);return this.insertImpl(p.hostView,a,Fr(this._hostTNode,h)),p}insert(e,n){return this.insertImpl(e,n,!0)}insertImpl(e,n,r){let o=e._lView;if(_g(o)){let a=this.indexOf(e);if(a!==-1)this.detach(a);else{let l=o[Ze],c=new Mf(l,l[Tt],l[Ze]);c.detach(c.indexOf(e))}}let i=this._adjustIndex(n),s=this._lContainer;return Oi(s,o,i,r),e.attachToViewContainerRef(),Vu(Zs(s),i,e),e}move(e,n){return this.insert(e,n)}indexOf(e){let n=_u(this._lContainer);return n!==null?n.indexOf(e):-1}remove(e){let n=this._adjustIndex(e,-1),r=Vr(this._lContainer,n);r&&(Xo(Zs(this._lContainer),n),Ni(r[V],r))}detach(e){let n=this._adjustIndex(e,-1),r=Vr(this._lContainer,n);return r&&Xo(Zs(this._lContainer),n)!=null?new Lr(r):null}_adjustIndex(e,n=0){return e??this.length+n}};function _u(t){return t[ri]}function Zs(t){return t[ri]||(t[ri]=[])}function xf(t,e){let n,r=e[t.index];return en(r)?n=r:(n=mf(r,e,null,t),e[t.index]=n,xl(e,n)),pv(n,e,t,r),new Mf(n,t,e)}function fv(t,e){let n=t[Ie],r=n.createComment(""),o=$t(e,t),i=n.parentNode(o);return di(n,i,r,n.nextSibling(o),!1),r}var pv=mv,hv=()=>!1;function gv(t,e,n){return hv(t,e,n)}function mv(t,e,n,r){if(t[Sn])return;let o;n.type&8?o=jt(r):o=fv(e,n),t[Sn]=o}var Aa=class t{queryList;matches=null;constructor(e){this.queryList=e}clone(){return new t(this.queryList)}setDirty(){this.queryList.setDirty()}},Oa=class t{queries;constructor(e=[]){this.queries=e}createEmbeddedView(e){let n=e.queries;if(n!==null){let r=e.contentQueries!==null?e.contentQueries[0]:n.length,o=[];for(let i=0;i<r;i++){let s=n.getByIndex(i),a=this.queries[s.indexInDeclarationView];o.push(a.clone())}return new t(o)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}finishViewCreation(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let n=0;n<this.queries.length;n++)Ll(e,n).matches!==null&&this.queries[n].setDirty()}},Pa=class{flags;read;predicate;constructor(e,n,r=null){this.flags=n,this.read=r,typeof e=="string"?this.predicate=Ev(e):this.predicate=e}},ka=class t{queries;constructor(e=[]){this.queries=e}elementStart(e,n){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(e,n)}elementEnd(e){for(let n=0;n<this.queries.length;n++)this.queries[n].elementEnd(e)}embeddedTView(e){let n=null;for(let r=0;r<this.length;r++){let o=n!==null?n.length:0,i=this.getByIndex(r).embeddedTView(e,o);i&&(i.indexInDeclarationView=r,n!==null?n.push(i):n=[i])}return n!==null?new t(n):null}template(e,n){for(let r=0;r<this.queries.length;r++)this.queries[r].template(e,n)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}},Ra=class t{metadata;matches=null;indexInDeclarationView=-1;crossesNgTemplate=!1;_declarationNodeIndex;_appliesToNextNode=!0;constructor(e,n=-1){this.metadata=e,this._declarationNodeIndex=n}elementStart(e,n){this.isApplyingToNode(n)&&this.matchTNode(e,n)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,n){this.elementStart(e,n)}embeddedTView(e,n){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,n),new t(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&(this.metadata.flags&1)!==1){let n=this._declarationNodeIndex,r=e.parent;for(;r!==null&&r.type&8&&r.index!==n;)r=r.parent;return n===(r!==null?r.index:-1)}return this._appliesToNextNode}matchTNode(e,n){let r=this.metadata.predicate;if(Array.isArray(r))for(let o=0;o<r.length;o++){let i=r[o];this.matchTNodeWithReadOption(e,n,yv(n,i)),this.matchTNodeWithReadOption(e,n,Wo(n,e,i,!1,!1))}else r===jr?n.type&4&&this.matchTNodeWithReadOption(e,n,-1):this.matchTNodeWithReadOption(e,n,Wo(n,e,r,!1,!1))}matchTNodeWithReadOption(e,n,r){if(r!==null){let o=this.metadata.read;if(o!==null)if(o===gt||o===Pi||o===jr&&n.type&4)this.addMatch(n.index,-2);else{let i=Wo(n,e,o,!1,!1);i!==null&&this.addMatch(n.index,i)}else this.addMatch(n.index,r)}}addMatch(e,n){this.matches===null?this.matches=[e,n]:this.matches.push(e,n)}};function yv(t,e){let n=t.localNames;if(n!==null){for(let r=0;r<n.length;r+=2)if(n[r]===e)return n[r+1]}return null}function vv(t,e){return t.type&11?ir(t,e):t.type&4?Rl(t,e):null}function _v(t,e,n,r){return n===-1?vv(e,t):n===-2?Cv(t,e,r):kr(t,t[V],n,e)}function Cv(t,e,n){if(n===gt)return ir(e,t);if(n===jr)return Rl(e,t);if(n===Pi)return xf(e,t)}function Sf(t,e,n,r){let o=e[Qt].queries[r];if(o.matches===null){let i=t.data,s=n.matches,a=[];for(let l=0;s!==null&&l<s.length;l+=2){let c=s[l];if(c<0)a.push(null);else{let u=i[c];a.push(_v(e,u,s[l+1],n.metadata.read))}}o.matches=a}return o.matches}function Fa(t,e,n,r){let o=t.queries.getByIndex(n),i=o.matches;if(i!==null){let s=Sf(t,e,o,n);for(let a=0;a<i.length;a+=2){let l=i[a];if(l>0)r.push(s[a/2]);else{let c=i[a+1],u=e[-l];for(let h=qe;h<u.length;h++){let C=u[h];C[xn]===C[Ze]&&Fa(C[V],C,c,r)}if(u[Yn]!==null){let h=u[Yn];for(let C=0;C<h.length;C++){let p=h[C];Fa(p[V],p,c,r)}}}}}return r}function bv(t,e){return t[Qt].queries[e].queryList}function wv(t,e,n){let r=new _a((n&4)===4);return wg(t,e,r,r.destroy),(e[Qt]??=new Oa).queries.push(new Aa(r))-1}function Dv(t,e,n){let r=He();return r.firstCreatePass&&(Mv(r,new Pa(t,e,n),-1),(e&2)===2&&(r.staticViewQueries=!0)),wv(r,te(),e)}function Ev(t){return t.split(",").map(e=>e.trim())}function Mv(t,e,n){t.queries===null&&(t.queries=new ka),t.queries.track(new Ra(e,n))}function Ll(t,e){return t.queries.getByIndex(e)}function xv(t,e){let n=t[V],r=Ll(n,e);return r.crossesNgTemplate?Fa(n,t,e,[]):Sf(n,t,r,e)}var hi=class{};var gi=class extends hi{injector;componentFactoryResolver=new Ta(this);instance=null;constructor(e){super();let n=new Nr([...e.providers,{provide:hi,useValue:this},{provide:Vl,useValue:this.componentFactoryResolver}],e.parent||nl(),e.debugName,new Set(["environment"]));this.injector=n,e.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function Sv(t,e,n=null){return new gi({providers:t,parent:e,debugName:n,runEnvironmentInitializers:!0}).injector}var Iv=(()=>{class t{_injector;cachedInjectors=new Map;constructor(n){this._injector=n}getOrCreateStandaloneInjector(n){if(!n.standalone)return null;if(!this.cachedInjectors.has(n)){let r=Bu(!1,n.type),o=r.length>0?Sv([r],this._injector,`Standalone[${n.type.name}]`):null;this.cachedInjectors.set(n,o)}return this.cachedInjectors.get(n)}ngOnDestroy(){try{for(let n of this.cachedInjectors.values())n!==null&&n.destroy()}finally{this.cachedInjectors.clear()}}static \u0275prov=Ee({token:t,providedIn:"environment",factory:()=>new t(de(cn))})}return t})();function Te(t){return Ci(()=>{let e=If(t),n=re(O({},e),{decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===kd.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&t.dependencies||null,getStandaloneInjector:e.standalone?o=>o.get(Iv).getOrCreateStandaloneInjector(n):null,getExternalStyles:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||Ht.Emulated,styles:t.styles||rt,_:null,schemas:t.schemas||null,tView:null,id:""});e.standalone&&wl("NgStandalone"),Tf(n);let r=t.dependencies;return n.directiveDefs=Cu(r,!1),n.pipeDefs=Cu(r,!0),n.id=Pv(n),n})}function Tv(t){return Tr(t)||Xh(t)}function Nv(t){return t!==null}function ar(t){return Ci(()=>({type:t.type,bootstrap:t.bootstrap||rt,declarations:t.declarations||rt,imports:t.imports||rt,exports:t.exports||rt,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function Av(t,e){if(t==null)return Mn;let n={};for(let r in t)if(t.hasOwnProperty(r)){let o=t[r],i,s,a,l;Array.isArray(o)?(a=o[0],i=o[1],s=o[2]??i,l=o[3]||null):(i=o,s=o,a=Ii.None,l=null),n[i]=[r,a,l],e[i]=s}return n}function Ov(t){if(t==null)return Mn;let e={};for(let n in t)t.hasOwnProperty(n)&&(e[t[n]]=n);return e}function Ke(t){return Ci(()=>{let e=If(t);return Tf(e),e})}function jl(t){return{type:t.type,name:t.name,factory:null,pure:t.pure!==!1,standalone:t.standalone??!0,onDestroy:t.type.prototype.ngOnDestroy||null}}function If(t){let e={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputConfig:t.inputs||Mn,exportAs:t.exportAs||null,standalone:t.standalone??!0,signals:t.signals===!0,selectors:t.selectors||rt,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:Av(t.inputs,e),outputs:Ov(t.outputs),debugInfo:null}}function Tf(t){t.features?.forEach(e=>e(t))}function Cu(t,e){if(!t)return null;let n=e?Jh:Tv;return()=>(typeof t=="function"?t():t).map(r=>n(r)).filter(Nv)}function Pv(t){let e=0,n=typeof t.consts=="function"?"":t.consts,r=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,n,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery];for(let i of r.join("|"))e=Math.imul(31,e)+i.charCodeAt(0)<<0;return e+=2147483648,"c"+e}function kv(t){return Object.getPrototypeOf(t.prototype).constructor}function yt(t){let e=kv(t.type),n=!0,r=[t];for(;e;){let o;if(Lt(t))o=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new Q(903,!1);o=e.\u0275dir}if(o){if(n){r.push(o);let s=t;s.inputs=Ys(t.inputs),s.declaredInputs=Ys(t.declaredInputs),s.outputs=Ys(t.outputs);let a=o.hostBindings;a&&jv(t,a);let l=o.viewQuery,c=o.contentQueries;if(l&&Vv(t,l),c&&Lv(t,c),Rv(t,o),Ah(t.outputs,o.outputs),Lt(o)&&o.data.animation){let u=t.data;u.animation=(u.animation||[]).concat(o.data.animation)}}let i=o.features;if(i)for(let s=0;s<i.length;s++){let a=i[s];a&&a.ngInherit&&a(t),a===yt&&(n=!1)}}e=Object.getPrototypeOf(e)}Fv(r)}function Rv(t,e){for(let n in e.inputs){if(!e.inputs.hasOwnProperty(n)||t.inputs.hasOwnProperty(n))continue;let r=e.inputs[n];r!==void 0&&(t.inputs[n]=r,t.declaredInputs[n]=e.declaredInputs[n])}}function Fv(t){let e=0,n=null;for(let r=t.length-1;r>=0;r--){let o=t[r];o.hostVars=e+=o.hostVars,o.hostAttrs=Pr(o.hostAttrs,n=Pr(n,o.hostAttrs))}}function Ys(t){return t===Mn?{}:t===rt?[]:t}function Vv(t,e){let n=t.viewQuery;n?t.viewQuery=(r,o)=>{e(r,o),n(r,o)}:t.viewQuery=e}function Lv(t,e){let n=t.contentQueries;n?t.contentQueries=(r,o,i)=>{e(r,o,i),n(r,o,i)}:t.contentQueries=e}function jv(t,e){let n=t.hostBindings;n?t.hostBindings=(r,o)=>{e(r,o),n(r,o)}:t.hostBindings=e}function Nf(t,e,n){return t[e]=n}function St(t,e,n){let r=t[e];return Object.is(r,n)?!1:(t[e]=n,!0)}function Bl(t,e,n,r){let o=St(t,e,n);return St(t,e+1,r)||o}function Bv(t,e,n,r,o){let i=Bl(t,e,n,r);return St(t,e+2,o)||i}function Hv(t,e,n,r,o,i,s,a,l){let c=e.consts,u=Fl(e,t,4,s||null,a||null);nd()&&bf(e,n,u,Qn(c,l),rf),u.mergedAttrs=Pr(u.mergedAttrs,u.attrs),hd(e,u);let h=u.tView=El(2,u,r,o,i,e.directiveRegistry,e.pipeRegistry,null,e.schemas,c,null);return e.queries!==null&&(e.queries.template(e,u),h.queries=e.queries.embeddedTView(u)),u}function Va(t,e,n,r,o,i,s,a,l,c){let u=n+Ye,h=e.firstCreatePass?Hv(u,e,t,r,o,i,s,a,l):e.data[u];zr(h,!1);let C=$v(e,t,h,n);hl()&&Ol(e,t,C,h),Gr(C,t);let p=mf(C,t,C,h);return t[u]=p,xl(t,p),gv(p,h,t),rl(h)&&Sl(e,t,h),l!=null&&tf(t,h,c),h}function k(t,e,n,r,o,i,s,a){let l=te(),c=He(),u=Qn(c.consts,i);return Va(l,c,t,e,n,r,o,u,s,a),k}var $v=Uv;function Uv(t,e,n,r){return gl(!0),e[Ie].createComment("")}var Af=new W("");var zv=(()=>{class t{static \u0275prov=Ee({token:t,providedIn:"root",factory:()=>new La})}return t})(),La=class{queuedEffectCount=0;queues=new Map;schedule(e){this.enqueue(e)}remove(e){let n=e.zone,r=this.queues.get(n);r.has(e)&&(r.delete(e),this.queuedEffectCount--)}enqueue(e){let n=e.zone;this.queues.has(n)||this.queues.set(n,new Set);let r=this.queues.get(n);r.has(e)||(this.queuedEffectCount++,r.add(e))}flush(){for(;this.queuedEffectCount>0;)for(let[e,n]of this.queues)e===null?this.flushQueue(n):e.run(()=>this.flushQueue(n))}flushQueue(e){for(let n of e)e.delete(n),this.queuedEffectCount--,n.run()}};function qr(t){return!!t&&typeof t.then=="function"}function Of(t){return!!t&&typeof t.subscribe=="function"}var Gv=new W("");var Pf=(()=>{class t{resolve;reject;initialized=!1;done=!1;donePromise=new Promise((n,r)=>{this.resolve=n,this.reject=r});appInits=le(Gv,{optional:!0})??[];injector=le(Kn);constructor(){}runInitializers(){if(this.initialized)return;let n=[];for(let o of this.appInits){let i=zu(this.injector,o);if(qr(i))n.push(i);else if(Of(i)){let s=new Promise((a,l)=>{i.subscribe({complete:a,error:l})});n.push(s)}}let r=()=>{this.done=!0,this.resolve()};Promise.all(n).then(()=>{r()}).catch(o=>{this.reject(o)}),n.length===0&&r(),this.initialized=!0}static \u0275fac=function(r){return new(r||t)};static \u0275prov=Ee({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),Wv=new W("");function qv(){Ms(()=>{throw new Q(600,!1)})}function Zv(t){return t.isBoundToModule}var Yv=10;var Hr=(()=>{class t{_runningTick=!1;_destroyed=!1;_destroyListeners=[];_views=[];internalErrorHandler=le(dm);afterRenderManager=le(Mm);zonelessEnabled=le(Sd);rootEffectScheduler=le(zv);dirtyFlags=0;tracingSnapshot=null;externalTestViews=new Set;afterTick=new Rt;get allViews(){return[...this.externalTestViews.keys(),...this._views]}get destroyed(){return this._destroyed}componentTypes=[];components=[];isStable=le(xi).hasPendingTasks.pipe(Cn(n=>!n));constructor(){le(Si,{optional:!0})}whenStable(){let n;return new Promise(r=>{n=this.isStable.subscribe({next:o=>{o&&r()}})}).finally(()=>{n.unsubscribe()})}_injector=le(cn);_rendererFactory=null;get injector(){return this._injector}bootstrap(n,r){return this.bootstrapImpl(n,r)}bootstrapImpl(n,r,o=Kn.NULL){me(10);let i=n instanceof Cf;if(!this._injector.get(Pf).done){let p="";throw new Q(405,p)}let a;i?a=n:a=this._injector.get(Vl).resolveComponentFactory(n),this.componentTypes.push(a.componentType);let l=Zv(a)?void 0:this._injector.get(hi),c=r||a.selector,u=a.create(o,[],c,l),h=u.location.nativeElement,C=u.injector.get(Af,null);return C?.registerApplication(h),u.onDestroy(()=>{this.detachView(u.hostView),qo(this.components,u),C?.unregisterApplication(h)}),this._loadComponent(u),me(11,u),u}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){me(12),this.tracingSnapshot!==null?this.tracingSnapshot.run(Hd.CHANGE_DETECTION,this.tickImpl):this.tickImpl()}tickImpl=()=>{if(this._runningTick)throw new Q(101,!1);let n=H(null);try{this._runningTick=!0,this.synchronize()}catch(r){this.internalErrorHandler(r)}finally{this._runningTick=!1,this.tracingSnapshot?.dispose(),this.tracingSnapshot=null,H(n),this.afterTick.next(),me(13)}};synchronize(){this._rendererFactory===null&&!this._injector.destroyed&&(this._rendererFactory=this._injector.get(Xn,null,{optional:!0}));let n=0;for(;this.dirtyFlags!==0&&n++<Yv;)me(14),this.synchronizeOnce(),me(15)}synchronizeOnce(){if(this.dirtyFlags&16&&(this.dirtyFlags&=-17,this.rootEffectScheduler.flush()),this.dirtyFlags&7){let n=!!(this.dirtyFlags&1);this.dirtyFlags&=-8,this.dirtyFlags|=8;for(let{_lView:r,notifyErrorHandler:o}of this.allViews)Qv(r,o,n,this.zonelessEnabled);if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),this.dirtyFlags&23)return}else this._rendererFactory?.begin?.(),this._rendererFactory?.end?.();this.dirtyFlags&8&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){if(this.allViews.some(({_lView:n})=>Ei(n))){this.dirtyFlags|=2;return}else this.dirtyFlags&=-8}attachView(n){let r=n;this._views.push(r),r.attachToAppRef(this)}detachView(n){let r=n;qo(this._views,r),r.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView),this.tick(),this.components.push(n),this._injector.get(Wv,[]).forEach(o=>o(n))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(n=>n()),this._views.slice().forEach(n=>n.destroy())}finally{this._destroyed=!0,this._views=[],this._destroyListeners=[]}}onDestroy(n){return this._destroyListeners.push(n),()=>qo(this._destroyListeners,n)}destroy(){if(this._destroyed)throw new Q(406,!1);let n=this._injector;n.destroy&&!n.destroyed&&n.destroy()}get viewCount(){return this._views.length}static \u0275fac=function(r){return new(r||t)};static \u0275prov=Ee({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function qo(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function Qv(t,e,n,r){if(!n&&!Ei(t))return;ff(t,e,n&&!r?0:1)}function Zr(t,e,n,r){let o=te(),i=or();if(St(o,i,e)){let s=He(),a=pl();ny(a,o,t,e,n,r)}return Zr}function Kv(t,e,n,r){return St(t,or(),n)?e+Ir(n)+r:mt}function Xv(t,e,n,r,o,i){let s=Og(),a=Bl(t,s,n,o);return cl(2),a?e+Ir(n)+r+Ir(o)+i:mt}function $o(t,e){return t<<17|e<<2}function An(t){return t>>17&32767}function Jv(t){return(t&2)==2}function e_(t,e){return t&131071|e<<17}function ja(t){return t|2}function Jn(t){return(t&131068)>>2}function Qs(t,e){return t&-131069|e<<2}function t_(t){return(t&1)===1}function Ba(t){return t|1}function n_(t,e,n,r,o,i){let s=i?e.classBindings:e.styleBindings,a=An(s),l=Jn(s);t[r]=n;let c=!1,u;if(Array.isArray(n)){let h=n;u=h[1],(u===null||Ur(h,u)>0)&&(c=!0)}else u=n;if(o)if(l!==0){let C=An(t[a+1]);t[r+1]=$o(C,a),C!==0&&(t[C+1]=Qs(t[C+1],r)),t[a+1]=e_(t[a+1],r)}else t[r+1]=$o(a,0),a!==0&&(t[a+1]=Qs(t[a+1],r)),a=r;else t[r+1]=$o(l,0),a===0?a=r:t[l+1]=Qs(t[l+1],r),l=r;c&&(t[r+1]=ja(t[r+1])),bu(t,u,r,!0),bu(t,u,r,!1),r_(e,u,t,r,i),s=$o(a,l),i?e.classBindings=s:e.styleBindings=s}function r_(t,e,n,r,o){let i=o?t.residualClasses:t.residualStyles;i!=null&&typeof e=="string"&&Ur(i,e)>=0&&(n[r+1]=Ba(n[r+1]))}function bu(t,e,n,r){let o=t[n+1],i=e===null,s=r?An(o):Jn(o),a=!1;for(;s!==0&&(a===!1||i);){let l=t[s],c=t[s+1];o_(l,e)&&(a=!0,t[s+1]=r?Ba(c):ja(c)),s=r?An(c):Jn(c)}a&&(t[n+1]=r?ja(o):Ba(o))}function o_(t,e){return t===null||e==null||(Array.isArray(t)?t[1]:t)===e?!0:Array.isArray(t)&&typeof e=="string"?Ur(t,e)>=0:!1}var Et={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function i_(t){return t.substring(Et.key,Et.keyEnd)}function s_(t){return a_(t),kf(t,Rf(t,0,Et.textEnd))}function kf(t,e){let n=Et.textEnd;return n===e?-1:(e=Et.keyEnd=l_(t,Et.key=e,n),Rf(t,e,n))}function a_(t){Et.key=0,Et.keyEnd=0,Et.value=0,Et.valueEnd=0,Et.textEnd=t.length}function Rf(t,e,n){for(;e<n&&t.charCodeAt(e)<=32;)e++;return e}function l_(t,e,n){for(;e<n&&t.charCodeAt(e)>32;)e++;return e}function N(t,e,n){let r=te(),o=or();if(St(r,o,e)){let i=He(),s=pl();nf(i,s,r,t,e,r[Ie],n,!1)}return N}function Ha(t,e,n,r,o){Il(e,t,n,o?"class":"style",r)}function nn(t,e,n){return Ff(t,e,n,!1),nn}function pe(t,e){return Ff(t,e,null,!0),pe}function ki(t){u_(m_,c_,t,!0)}function c_(t,e){for(let n=s_(e);n>=0;n=kf(e,n))el(t,i_(e),!0)}function Ff(t,e,n,r){let o=te(),i=He(),s=cl(2);if(i.firstUpdatePass&&Lf(i,t,s,r),e!==mt&&St(o,s,e)){let a=i.data[tn()];jf(i,a,o,o[Ie],t,o[s+1]=v_(e,n),r,s)}}function u_(t,e,n,r){let o=He(),i=cl(2);o.firstUpdatePass&&Lf(o,null,i,r);let s=te();if(n!==mt&&St(s,i,n)){let a=o.data[tn()];if(Bf(a,r)&&!Vf(o,i)){let l=r?a.classesWithoutHost:a.stylesWithoutHost;l!==null&&(n=na(l,n||"")),Ha(o,a,s,n,r)}else y_(o,a,s,s[Ie],s[i+1],s[i+1]=g_(t,e,n),r,i)}}function Vf(t,e){return e>=t.expandoStartIndex}function Lf(t,e,n,r){let o=t.data;if(o[n+1]===null){let i=o[tn()],s=Vf(t,n);Bf(i,r)&&e===null&&!s&&(e=!1),e=d_(o,i,e,r),n_(o,i,e,n,s,r)}}function d_(t,e,n,r){let o=Vg(t),i=r?e.residualClasses:e.residualStyles;if(o===null)(r?e.classBindings:e.styleBindings)===0&&(n=Ks(null,t,e,n,r),n=$r(n,e.attrs,r),i=null);else{let s=e.directiveStylingLast;if(s===-1||t[s]!==o)if(n=Ks(o,t,e,n,r),i===null){let l=f_(t,e,r);l!==void 0&&Array.isArray(l)&&(l=Ks(null,t,e,l[1],r),l=$r(l,e.attrs,r),p_(t,e,r,l))}else i=h_(t,e,r)}return i!==void 0&&(r?e.residualClasses=i:e.residualStyles=i),n}function f_(t,e,n){let r=n?e.classBindings:e.styleBindings;if(Jn(r)!==0)return t[An(r)]}function p_(t,e,n,r){let o=n?e.classBindings:e.styleBindings;t[An(o)]=r}function h_(t,e,n){let r,o=e.directiveEnd;for(let i=1+e.directiveStylingLast;i<o;i++){let s=t[i].hostAttrs;r=$r(r,s,n)}return $r(r,e.attrs,n)}function Ks(t,e,n,r,o){let i=null,s=n.directiveEnd,a=n.directiveStylingLast;for(a===-1?a=n.directiveStart:a++;a<s&&(i=e[a],r=$r(r,i.hostAttrs,o),i!==t);)a++;return t!==null&&(n.directiveStylingLast=a),r}function $r(t,e,n){let r=n?1:2,o=-1;if(e!==null)for(let i=0;i<e.length;i++){let s=e[i];typeof s=="number"?o=s:o===r&&(Array.isArray(t)||(t=t===void 0?[]:["",t]),el(t,s,n?!0:e[++i]))}return t===void 0?null:t}function g_(t,e,n){if(n==null||n==="")return rt;let r=[],o=Gd(n);if(Array.isArray(o))for(let i=0;i<o.length;i++)t(r,o[i],!0);else if(typeof o=="object")for(let i in o)o.hasOwnProperty(i)&&t(r,i,o[i]);else typeof o=="string"&&e(r,o);return r}function m_(t,e,n){let r=String(e);r!==""&&!r.includes(" ")&&el(t,r,n)}function y_(t,e,n,r,o,i,s,a){o===mt&&(o=rt);let l=0,c=0,u=0<o.length?o[0]:null,h=0<i.length?i[0]:null;for(;u!==null||h!==null;){let C=l<o.length?o[l+1]:void 0,p=c<i.length?i[c+1]:void 0,b=null,I;u===h?(l+=2,c+=2,C!==p&&(b=h,I=p)):h===null||u!==null&&u<h?(l+=2,b=u):(c+=2,b=h,I=p),b!==null&&jf(t,e,n,r,b,I,s,a),u=l<o.length?o[l]:null,h=c<i.length?i[c]:null}}function jf(t,e,n,r,o,i,s,a){if(!(e.type&3))return;let l=t.data,c=l[a+1],u=t_(c)?wu(l,e,n,o,Jn(c),s):void 0;if(!mi(u)){mi(i)||Jv(c)&&(i=wu(l,null,n,o,a,s));let h=Xu(tn(),n);wy(r,s,h,o,i)}}function wu(t,e,n,r,o,i){let s=e===null,a;for(;o>0;){let l=t[o],c=Array.isArray(l),u=c?l[1]:l,h=u===null,C=n[o+1];C===mt&&(C=h?rt:void 0);let p=h?Bs(C,r):u===r?C:void 0;if(c&&!mi(p)&&(p=Bs(l,r)),mi(p)&&(a=p,s))return a;let b=t[o+1];o=s?An(b):Jn(b)}if(e!==null){let l=i?e.residualClasses:e.residualStyles;l!=null&&(a=Bs(l,r))}return a}function mi(t){return t!==void 0}function v_(t,e){return t==null||t===""||(typeof e=="string"?t=t+e:typeof t=="object"&&(t=ft(Gd(t)))),t}function Bf(t,e){return(t.flags&(e?8:16))!==0}var $a=class{destroy(e){}updateValue(e,n){}swap(e,n){let r=Math.min(e,n),o=Math.max(e,n),i=this.detach(o);if(o-r>1){let s=this.detach(r);this.attach(r,i),this.attach(o,s)}else this.attach(r,i)}move(e,n){this.attach(n,this.detach(e))}};function Xs(t,e,n,r,o){return t===n&&Object.is(e,r)?1:Object.is(o(t,e),o(n,r))?-1:0}function __(t,e,n){let r,o,i=0,s=t.length-1,a=void 0;if(Array.isArray(e)){let l=e.length-1;for(;i<=s&&i<=l;){let c=t.at(i),u=e[i],h=Xs(i,c,i,u,n);if(h!==0){h<0&&t.updateValue(i,u),i++;continue}let C=t.at(s),p=e[l],b=Xs(s,C,l,p,n);if(b!==0){b<0&&t.updateValue(s,p),s--,l--;continue}let I=n(i,c),U=n(s,C),ne=n(i,u);if(Object.is(ne,U)){let Xe=n(l,p);Object.is(Xe,I)?(t.swap(i,s),t.updateValue(s,p),l--,s--):t.move(s,i),t.updateValue(i,u),i++;continue}if(r??=new yi,o??=Eu(t,i,s,n),Ua(t,r,i,ne))t.updateValue(i,u),i++,s++;else if(o.has(ne))r.set(I,t.detach(i)),s--;else{let Xe=t.create(i,e[i]);t.attach(i,Xe),i++,s++}}for(;i<=l;)Du(t,r,n,i,e[i]),i++}else if(e!=null){let l=e[Symbol.iterator](),c=l.next();for(;!c.done&&i<=s;){let u=t.at(i),h=c.value,C=Xs(i,u,i,h,n);if(C!==0)C<0&&t.updateValue(i,h),i++,c=l.next();else{r??=new yi,o??=Eu(t,i,s,n);let p=n(i,h);if(Ua(t,r,i,p))t.updateValue(i,h),i++,s++,c=l.next();else if(!o.has(p))t.attach(i,t.create(i,h)),i++,s++,c=l.next();else{let b=n(i,u);r.set(b,t.detach(i)),s--}}}for(;!c.done;)Du(t,r,n,t.length,c.value),c=l.next()}for(;i<=s;)t.destroy(t.detach(s--));r?.forEach(l=>{t.destroy(l)})}function Ua(t,e,n,r){return e!==void 0&&e.has(r)?(t.attach(n,e.get(r)),e.delete(r),!0):!1}function Du(t,e,n,r,o){if(Ua(t,e,r,n(r,o)))t.updateValue(r,o);else{let i=t.create(r,o);t.attach(r,i)}}function Eu(t,e,n,r){let o=new Set;for(let i=e;i<=n;i++)o.add(r(i,t.at(i)));return o}var yi=class{kvMap=new Map;_vMap=void 0;has(e){return this.kvMap.has(e)}delete(e){if(!this.has(e))return!1;let n=this.kvMap.get(e);return this._vMap!==void 0&&this._vMap.has(n)?(this.kvMap.set(e,this._vMap.get(n)),this._vMap.delete(n)):this.kvMap.delete(e),!0}get(e){return this.kvMap.get(e)}set(e,n){if(this.kvMap.has(e)){let r=this.kvMap.get(e);this._vMap===void 0&&(this._vMap=new Map);let o=this._vMap;for(;o.has(r);)r=o.get(r);o.set(r,n)}else this.kvMap.set(e,n)}forEach(e){for(let[n,r]of this.kvMap)if(e(r,n),this._vMap!==void 0){let o=this._vMap;for(;o.has(r);)r=o.get(r),e(r,n)}}};function P(t,e){wl("NgControlFlow");let n=te(),r=or(),o=n[r]!==mt?n[r]:-1,i=o!==-1?vi(n,Ye+o):void 0,s=0;if(St(n,r,t)){let a=H(null);try{if(i!==void 0&&vf(i,s),t!==-1){let l=Ye+t,c=vi(n,l),u=qa(n[V],l),h=Br(c,u.tView.ssrId),C=Ti(n,u,e,{dehydratedView:h});Oi(c,C,s,Fr(u,h))}}finally{H(a)}}else if(i!==void 0){let a=yf(i,s);a!==void 0&&(a[Ve]=e)}}var za=class{lContainer;$implicit;$index;constructor(e,n,r){this.lContainer=e,this.$implicit=n,this.$index=r}get $count(){return this.lContainer.length-qe}};function Nt(t){return t}function lr(t,e){return e}var Ga=class{hasEmptyBlock;trackByFn;liveCollection;constructor(e,n,r){this.hasEmptyBlock=e,this.trackByFn=n,this.liveCollection=r}};function he(t,e,n,r,o,i,s,a,l,c,u,h,C){wl("NgControlFlow");let p=te(),b=He(),I=l!==void 0,U=te(),ne=a?s.bind(U[xt][Ve]):s,Xe=new Ga(I,ne);U[Ye+t]=Xe,Va(p,b,t+1,e,n,r,o,Qn(b.consts,i)),I&&Va(p,b,t+2,l,c,u,h,Qn(b.consts,C))}var Wa=class extends $a{lContainer;hostLView;templateTNode;operationsCounter=void 0;needsIndexUpdate=!1;constructor(e,n,r){super(),this.lContainer=e,this.hostLView=n,this.templateTNode=r}get length(){return this.lContainer.length-qe}at(e){return this.getLView(e)[Ve].$implicit}attach(e,n){let r=n[Ar];this.needsIndexUpdate||=e!==this.length,Oi(this.lContainer,n,e,Fr(this.templateTNode,r))}detach(e){return this.needsIndexUpdate||=e!==this.length-1,C_(this.lContainer,e)}create(e,n){let r=Br(this.lContainer,this.templateTNode.tView.ssrId),o=Ti(this.hostLView,this.templateTNode,new za(this.lContainer,n,e),{dehydratedView:r});return this.operationsCounter?.recordCreate(),o}destroy(e){Ni(e[V],e),this.operationsCounter?.recordDestroy()}updateValue(e,n){this.getLView(e)[Ve].$implicit=n}reset(){this.needsIndexUpdate=!1,this.operationsCounter?.reset()}updateIndexes(){if(this.needsIndexUpdate)for(let e=0;e<this.length;e++)this.getLView(e)[Ve].$index=e}getLView(e){return b_(this.lContainer,e)}};function ge(t){let e=H(null),n=tn();try{let r=te(),o=r[V],i=r[n],s=n+1,a=vi(r,s);if(i.liveCollection===void 0){let c=qa(o,s);i.liveCollection=new Wa(a,r,c)}else i.liveCollection.reset();let l=i.liveCollection;if(__(l,t,i.trackByFn),l.updateIndexes(),i.hasEmptyBlock){let c=or(),u=l.length===0;if(St(r,c,u)){let h=n+2,C=vi(r,h);if(u){let p=qa(o,h),b=Br(C,p.tView.ssrId),I=Ti(r,p,void 0,{dehydratedView:b});Oi(C,I,0,Fr(p,b))}else vf(C,0)}}}finally{H(e)}}function vi(t,e){return t[e]}function C_(t,e){return Vr(t,e)}function b_(t,e){return yf(t,e)}function qa(t,e){return ol(t,e)}function f(t,e,n,r){let o=te(),i=He(),s=Ye+t,a=o[Ie],l=i.firstCreatePass?Df(s,i,o,e,rf,nd(),n,r):i.data[s],c=w_(i,o,l,a,e,t);o[s]=c;let u=rl(l);return zr(l,!0),Zd(a,c,l),!of(l)&&hl()&&Ol(i,o,c,l),(Dg()===0||u)&&Gr(c,o),Eg(),u&&(Sl(i,o,l),zd(i,l,o)),r!==null&&tf(o,l),f}function d(){let t=ht();od()?Ng():(t=t.parent,zr(t,!1));let e=t;Sg(e)&&Ig(),Mg();let n=He();return n.firstCreatePass&&Ef(n,e),e.classesWithoutHost!=null&&Ug(e)&&Ha(n,e,te(),e.classesWithoutHost,!0),e.stylesWithoutHost!=null&&zg(e)&&Ha(n,e,te(),e.stylesWithoutHost,!1),d}function Ut(t,e,n,r){return f(t,e,n,r),d(),Ut}var w_=(t,e,n,r,o,i)=>(gl(!0),Wd(r,o,Bg()));function F(){return te()}var bn=void 0;function D_(t){let e=Math.floor(Math.abs(t)),n=t.toString().replace(/^[^.]*\.?/,"").length;return e===1&&n===0?1:5}var E_=["en",[["a","p"],["AM","PM"],bn],[["AM","PM"],bn,bn],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],bn,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],bn,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",bn,"{1} 'at' {0}",bn],[".",",",";","%","+","-","E","\xD7","\u2030","\u221E","NaN",":"],["#,##0.###","#,##0%","\xA4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",D_],Js={};function Hl(t){let e=M_(t),n=Mu(e);if(n)return n;let r=e.split("-")[0];if(n=Mu(r),n)return n;if(r==="en")return E_;throw new Q(701,!1)}function Mu(t){return t in Js||(Js[t]=Er.ng&&Er.ng.common&&Er.ng.common.locales&&Er.ng.common.locales[t]),Js[t]}var cr=function(t){return t[t.LocaleId=0]="LocaleId",t[t.DayPeriodsFormat=1]="DayPeriodsFormat",t[t.DayPeriodsStandalone=2]="DayPeriodsStandalone",t[t.DaysFormat=3]="DaysFormat",t[t.DaysStandalone=4]="DaysStandalone",t[t.MonthsFormat=5]="MonthsFormat",t[t.MonthsStandalone=6]="MonthsStandalone",t[t.Eras=7]="Eras",t[t.FirstDayOfWeek=8]="FirstDayOfWeek",t[t.WeekendRange=9]="WeekendRange",t[t.DateFormat=10]="DateFormat",t[t.TimeFormat=11]="TimeFormat",t[t.DateTimeFormat=12]="DateTimeFormat",t[t.NumberSymbols=13]="NumberSymbols",t[t.NumberFormats=14]="NumberFormats",t[t.CurrencyCode=15]="CurrencyCode",t[t.CurrencySymbol=16]="CurrencySymbol",t[t.CurrencyName=17]="CurrencyName",t[t.Currencies=18]="Currencies",t[t.Directionality=19]="Directionality",t[t.PluralCase=20]="PluralCase",t[t.ExtraData=21]="ExtraData",t}(cr||{});function M_(t){return t.toLowerCase().replace(/_/g,"-")}var _i="en-US";var x_=_i;function S_(t){typeof t=="string"&&(x_=t.toLowerCase().replace(/_/g,"-"))}function xu(t,e,n){return function r(o){if(o===Function)return n;let i=nr(t)?Bt(t.index,e):e;kl(i,5);let s=e[Ve],a=Su(e,s,n,o),l=r.__ngNextListenerFn__;for(;l;)a=Su(e,s,l,o)&&a,l=l.__ngNextListenerFn__;return a}}function Su(t,e,n,r){let o=H(null);try{return me(6,e,n),n(r)!==!1}catch(i){return I_(t,i),!1}finally{me(7,e,n),H(o)}}function I_(t,e){let n=t[Zn],r=n?n.get(Kt,null):null;r&&r.handleError(e)}function Iu(t,e,n,r,o,i){let s=e[n],a=e[V],c=a.data[n].outputs[r],u=s[c],h=a.firstCreatePass?ll(a):null,C=al(e),p=u.subscribe(i),b=C.length;C.push(i,p),h&&h.push(o,t.index,b,-(b+1))}function w(t,e,n,r){let o=te(),i=He(),s=ht();return Hf(i,o,o[Ie],s,t,e,r),w}function T_(t,e,n,r){let o=t.cleanup;if(o!=null)for(let i=0;i<o.length-1;i+=2){let s=o[i];if(s===n&&o[i+1]===r){let a=e[ti],l=o[i+2];return a.length>l?a[l]:null}typeof s=="string"&&(i+=2)}return null}function Hf(t,e,n,r,o,i,s){let a=rl(r),c=t.firstCreatePass?ll(t):null,u=al(e),h=!0;if(r.type&3||s){let C=$t(r,e),p=s?s(C):C,b=u.length,I=s?ne=>s(jt(ne[r.index])):r.index,U=null;if(!s&&a&&(U=T_(t,e,o,r.index)),U!==null){let ne=U.__ngLastListenerFn__||U;ne.__ngNextListenerFn__=i,U.__ngLastListenerFn__=i,h=!1}else{i=xu(r,e,i),Sm(e,p,o,i);let ne=n.listen(p,o,i);u.push(i,ne),c&&c.push(o,I,b,b+1)}}else i=xu(r,e,i);if(h){let C=r.outputs?.[o],p=r.hostDirectiveOutputs?.[o];if(p&&p.length)for(let b=0;b<p.length;b+=2){let I=p[b],U=p[b+1];Iu(r,e,I,U,o,i)}if(C&&C.length)for(let b of C)Iu(r,e,b,o,o,i)}}function _(t=1){return jg(t)}function Ri(t,e,n){Dv(t,e,n)}function Fi(t){let e=te(),n=He(),r=ad();ul(r+1);let o=Ll(n,r);if(t.dirty&&vg(e)===((o.metadata.flags&2)===2)){if(o.matches===null)t.reset([]);else{let i=xv(e,r);t.reset(i,pm),t.notifyOnChanges()}return!0}return!1}function Vi(){return bv(te(),ad())}function $f(t){let e=Ag();return il(e,Ye+t)}function m(t,e=""){let n=te(),r=He(),o=t+Ye,i=r.firstCreatePass?Fl(r,o,1,e,null):r.data[o],s=N_(r,n,i,e,t);n[o]=s,hl()&&Ol(r,n,s,i),zr(i,!1)}var N_=(t,e,n,r,o)=>(gl(!0),Tm(e[Ie],r));function X(t){return fe("",t,""),X}function fe(t,e,n){let r=te(),o=Kv(r,t,e,n);return o!==mt&&Uf(r,tn(),o),fe}function fn(t,e,n,r,o){let i=te(),s=Xv(i,t,e,n,r,o);return s!==mt&&Uf(i,tn(),s),fn}function Uf(t,e,n){let r=Xu(e,t);Nm(t[Ie],r,n)}function ot(t,e,n){Od(e)&&(e=e());let r=te(),o=or();if(St(r,o,e)){let i=He(),s=pl();nf(i,s,r,t,e,r[Ie],n,!1)}return ot}function at(t,e){let n=Od(t);return n&&t.set(e),n}function it(t,e){let n=te(),r=He(),o=ht();return Hf(r,n,n[Ie],o,t,e),it}function A_(t,e,n){let r=He();if(r.firstCreatePass){let o=Lt(t);Za(n,r.data,r.blueprint,o,!0),Za(e,r.data,r.blueprint,o,!1)}}function Za(t,e,n,r,o){if(t=et(t),Array.isArray(t))for(let i=0;i<t.length;i++)Za(t[i],e,n,r,o);else{let i=He(),s=te(),a=ht(),l=qn(t)?t:et(t.provide),c=Uu(t),u=a.providerIndexes&1048575,h=a.directiveStart,C=a.providerIndexes>>20;if(qn(t)||!t.multi){let p=new Nn(c,o,ce),b=ta(l,e,o?u:u+C,h);b===-1?(pa(li(a,s),i,l),ea(i,t,e.length),e.push(l),a.directiveStart++,a.directiveEnd++,o&&(a.providerIndexes+=1048576),n.push(p),s.push(p)):(n[b]=p,s[b]=p)}else{let p=ta(l,e,u+C,h),b=ta(l,e,u,u+C),I=p>=0&&n[p],U=b>=0&&n[b];if(o&&!U||!o&&!I){pa(li(a,s),i,l);let ne=k_(o?P_:O_,n.length,o,r,c);!o&&U&&(n[b].providerFactory=ne),ea(i,t,e.length,0),e.push(l),a.directiveStart++,a.directiveEnd++,o&&(a.providerIndexes+=1048576),n.push(ne),s.push(ne)}else{let ne=zf(n[o?b:p],c,!o&&r);ea(i,t,p>-1?p:b,ne)}!o&&r&&U&&n[b].componentProviders++}}}function ea(t,e,n,r){let o=qn(e),i=og(e);if(o||i){let l=(i?et(e.useClass):e).prototype.ngOnDestroy;if(l){let c=t.destroyHooks||(t.destroyHooks=[]);if(!o&&e.multi){let u=c.indexOf(n);u===-1?c.push(n,[r,l]):c[u+1].push(r,l)}else c.push(n,l)}}}function zf(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function ta(t,e,n,r){for(let o=n;o<r;o++)if(e[o]===t)return o;return-1}function O_(t,e,n,r,o){return Ya(this.multi,[])}function P_(t,e,n,r,o){let i=this.multi,s;if(this.providerFactory){let a=this.providerFactory.componentProviders,l=kr(r,r[V],this.providerFactory.index,o);s=l.slice(0,a),Ya(i,s);for(let c=a;c<l.length;c++)s.push(l[c])}else s=[],Ya(i,s);return s}function Ya(t,e){for(let n=0;n<t.length;n++){let r=t[n];e.push(r())}return e}function k_(t,e,n,r,o){let i=new Nn(t,n,ce);return i.multi=[],i.index=e,i.componentProviders=0,zf(i,o,r&&!n),i}function rn(t,e=[]){return n=>{n.providersResolver=(r,o)=>A_(r,o?o(t):t,e)}}function Gf(t,e){let n=t[e];return n===mt?void 0:n}function R_(t,e,n,r,o,i,s){let a=e+n;return Bl(t,a,o,i)?Nf(t,a+2,s?r.call(s,o,i):r(o,i)):Gf(t,a+2)}function F_(t,e,n,r,o,i,s,a){let l=e+n;return Bv(t,l,o,i,s)?Nf(t,l+3,a?r.call(a,o,i,s):r(o,i,s)):Gf(t,l+3)}function Li(t,e){let n=He(),r,o=t+Ye;n.firstCreatePass?(r=V_(e,n.pipeRegistry),n.data[o]=r,r.onDestroy&&(n.destroyHooks??=[]).push(o,r.onDestroy)):r=n.data[o];let i=r.factory||(r.factory=En(r.type,!0)),s,a=nt(ce);try{let l=ai(!1),c=i();return ai(l),yg(n,te(),o,c),c}finally{nt(a)}}function V_(t,e){if(e)for(let n=e.length-1;n>=0;n--){let r=e[n];if(t===r.name)return r}}function Wf(t,e,n,r){let o=t+Ye,i=te(),s=il(i,o);return Zf(i,o)?R_(i,sd(),e,s.transform,n,r,s):s.transform(n,r)}function qf(t,e,n,r,o){let i=t+Ye,s=te(),a=il(s,i);return Zf(s,i)?F_(s,sd(),e,a.transform,n,r,o,a):a.transform(n,r,o)}function Zf(t,e){return t[V].data[e].pure}var L_=(()=>{class t{zone=le(Ue);changeDetectionScheduler=le(Rr);applicationRef=le(Hr);_onMicrotaskEmptySubscription;initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static \u0275fac=function(r){return new(r||t)};static \u0275prov=Ee({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function j_({ngZoneFactory:t,ignoreChangesOutsideZone:e,scheduleInRootZone:n}){return t??=()=>new Ue(re(O({},B_()),{scheduleInRootZone:n})),[{provide:Ue,useFactory:t},{provide:Jo,multi:!0,useFactory:()=>{let r=le(L_,{optional:!0});return()=>r.initialize()}},{provide:Jo,multi:!0,useFactory:()=>{let r=le(H_);return()=>{r.initialize()}}},e===!0?{provide:Id,useValue:!0}:[],{provide:Td,useValue:n??Md}]}function B_(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}var H_=(()=>{class t{subscription=new Je;initialized=!1;zone=le(Ue);pendingTasks=le(xi);initialize(){if(this.initialized)return;this.initialized=!0;let n=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(n=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{Ue.assertNotInAngularZone(),queueMicrotask(()=>{n!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(n),n=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{Ue.assertInAngularZone(),n??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static \u0275fac=function(r){return new(r||t)};static \u0275prov=Ee({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var $_=(()=>{class t{appRef=le(Hr);taskService=le(xi);ngZone=le(Ue);zonelessEnabled=le(Sd);tracing=le(Si,{optional:!0});disableScheduling=le(Id,{optional:!0})??!1;zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run;schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}];subscriptions=new Je;angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(ui):null;scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(le(Td,{optional:!0})??!1);cancelScheduledCallback=null;useMicrotaskScheduler=!1;runningTick=!1;pendingRenderTaskId=null;constructor(){this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof va||!this.zoneIsDefined)}notify(n){if(!this.zonelessEnabled&&n===5)return;let r=!1;switch(n){case 0:{this.appRef.dirtyFlags|=2;break}case 3:case 2:case 4:case 5:case 1:{this.appRef.dirtyFlags|=4;break}case 6:{this.appRef.dirtyFlags|=2,r=!0;break}case 12:{this.appRef.dirtyFlags|=16,r=!0;break}case 13:{this.appRef.dirtyFlags|=2,r=!0;break}case 11:{r=!0;break}case 9:case 8:case 7:case 10:default:this.appRef.dirtyFlags|=8}if(this.appRef.tracingSnapshot=this.tracing?.snapshot(this.appRef.tracingSnapshot)??null,!this.shouldScheduleTick(r))return;let o=this.useMicrotaskScheduler?au:Nd;this.pendingRenderTaskId=this.taskService.add(),this.scheduleInRootZone?this.cancelScheduledCallback=Zone.root.run(()=>o(()=>this.tick())):this.cancelScheduledCallback=this.ngZone.runOutsideAngular(()=>o(()=>this.tick()))}shouldScheduleTick(n){return!(this.disableScheduling&&!n||this.appRef.destroyed||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(ui+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;if(this.appRef.dirtyFlags===0){this.cleanup();return}!this.zonelessEnabled&&this.appRef.dirtyFlags&7&&(this.appRef.dirtyFlags|=1);let n=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(r){throw this.taskService.remove(n),r}finally{this.cleanup()}this.useMicrotaskScheduler=!0,au(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(n)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let n=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(n)}}static \u0275fac=function(r){return new(r||t)};static \u0275prov=Ee({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function U_(){return typeof $localize<"u"&&$localize.locale||_i}var ji=new W("",{providedIn:"root",factory:()=>le(ji,z.Optional|z.SkipSelf)||U_()});var Qa=new W(""),z_=new W("");function Dr(t){return!t.moduleRef}function G_(t){let e=Dr(t)?t.r3Injector:t.moduleRef.injector,n=e.get(Ue);return n.run(()=>{Dr(t)?t.r3Injector.resolveInjectorInitializers():t.moduleRef.resolveInjectorInitializers();let r=e.get(Kt,null),o;if(n.runOutsideAngular(()=>{o=n.onError.subscribe({next:i=>{r.handleError(i)}})}),Dr(t)){let i=()=>e.destroy(),s=t.platformInjector.get(Qa);s.add(i),e.onDestroy(()=>{o.unsubscribe(),s.delete(i)})}else{let i=()=>t.moduleRef.destroy(),s=t.platformInjector.get(Qa);s.add(i),t.moduleRef.onDestroy(()=>{qo(t.allPlatformModules,t.moduleRef),o.unsubscribe(),s.delete(i)})}return q_(r,n,()=>{let i=e.get(Pf);return i.runInitializers(),i.donePromise.then(()=>{let s=e.get(ji,_i);if(S_(s||_i),!e.get(z_,!0))return Dr(t)?e.get(Hr):(t.allPlatformModules.push(t.moduleRef),t.moduleRef);if(Dr(t)){let l=e.get(Hr);return t.rootComponent!==void 0&&l.bootstrap(t.rootComponent),l}else return W_(t.moduleRef,t.allPlatformModules),t.moduleRef})})})}function W_(t,e){let n=t.injector.get(Hr);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(r=>n.bootstrap(r));else if(t.instance.ngDoBootstrap)t.instance.ngDoBootstrap(n);else throw new Q(-403,!1);e.push(t)}function q_(t,e,n){try{let r=n();return qr(r)?r.catch(o=>{throw e.runOutsideAngular(()=>t.handleError(o)),o}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}var Zo=null;function Z_(t=[],e){return Kn.create({name:e,providers:[{provide:wi,useValue:"platform"},{provide:Qa,useValue:new Set([()=>Zo=null])},...t]})}function Y_(t=[]){if(Zo)return Zo;let e=Z_(t);return Zo=e,qv(),Q_(e),e}function Q_(t){let e=t.get(Cl,null);zu(t,()=>{e?.forEach(n=>n())})}var $l=(()=>{class t{static __NG_ELEMENT_ID__=K_}return t})();function K_(t){return X_(ht(),te(),(t&16)===16)}function X_(t,e,n){if(nr(t)&&!n){let r=Bt(t.index,e);return new Lr(r,r)}else if(t.type&175){let r=e[xt];return new Lr(r,e)}return null}function Yf(t){let{rootComponent:e,appProviders:n,platformProviders:r,platformRef:o}=t;me(8);try{let i=o?.injector??Y_(r),s=[j_({}),{provide:Rr,useExisting:$_},...n||[]],a=new gi({providers:s,parent:i,debugName:"",runEnvironmentInitializers:!1});return G_({r3Injector:a.injector,platformInjector:i,rootComponent:e})}catch(i){return Promise.reject(i)}finally{me(9)}}function Qf(t){return typeof t=="boolean"?t:t!=null&&t!=="false"}function pn(t){return Ts(t)}function ve(t,e){return Es(t,e?.equal)}var Tu=class{[bt];constructor(e){this[bt]=e}destroy(){this[bt].destroy()}};var zt=new W("");var Kf=null;function hn(){return Kf}function Ul(t){Kf??=t}var Yr=class{};var Wl=function(t){return t[t.Decimal=0]="Decimal",t[t.Percent=1]="Percent",t[t.Currency=2]="Currency",t[t.Scientific=3]="Scientific",t}(Wl||{});var Gt={Decimal:0,Group:1,List:2,PercentSign:3,PlusSign:4,MinusSign:5,Exponential:6,SuperscriptingExponent:7,PerMille:8,Infinity:9,NaN:10,TimeSeparator:11,CurrencyDecimal:12,CurrencyGroup:13};function ur(t,e){let n=Hl(t),r=n[cr.NumberSymbols][e];if(typeof r>"u"){if(e===Gt.CurrencyDecimal)return n[cr.NumberSymbols][Gt.Decimal];if(e===Gt.CurrencyGroup)return n[cr.NumberSymbols][Gt.Group]}return r}function Jf(t,e){return Hl(t)[cr.NumberFormats][e]}var J_=/^(\d+)?\.((\d+)(-(\d+))?)?$/,Xf=22,Bi=".",Qr="0",eC=";",tC=",",zl="#";function nC(t,e,n,r,o,i,s=!1){let a="",l=!1;if(!isFinite(t))a=ur(n,Gt.Infinity);else{let c=iC(t);s&&(c=oC(c));let u=e.minInt,h=e.minFrac,C=e.maxFrac;if(i){let Xe=i.match(J_);if(Xe===null)throw new Error(`${i} is not a valid digit info`);let kn=Xe[1],lt=Xe[3],ae=Xe[5];kn!=null&&(u=Gl(kn)),lt!=null&&(h=Gl(lt)),ae!=null?C=Gl(ae):lt!=null&&h>C&&(C=h)}sC(c,h,C);let p=c.digits,b=c.integerLen,I=c.exponent,U=[];for(l=p.every(Xe=>!Xe);b<u;b++)p.unshift(0);for(;b<0;b++)p.unshift(0);b>0?U=p.splice(b,p.length):(U=p,p=[0]);let ne=[];for(p.length>=e.lgSize&&ne.unshift(p.splice(-e.lgSize,p.length).join(""));p.length>e.gSize;)ne.unshift(p.splice(-e.gSize,p.length).join(""));p.length&&ne.unshift(p.join("")),a=ne.join(ur(n,r)),U.length&&(a+=ur(n,o)+U.join("")),I&&(a+=ur(n,Gt.Exponential)+"+"+I)}return t<0&&!l?a=e.negPre+a+e.negSuf:a=e.posPre+a+e.posSuf,a}function ep(t,e,n){let r=Jf(e,Wl.Decimal),o=rC(r,ur(e,Gt.MinusSign));return nC(t,o,e,Gt.Group,Gt.Decimal,n)}function rC(t,e="-"){let n={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},r=t.split(eC),o=r[0],i=r[1],s=o.indexOf(Bi)!==-1?o.split(Bi):[o.substring(0,o.lastIndexOf(Qr)+1),o.substring(o.lastIndexOf(Qr)+1)],a=s[0],l=s[1]||"";n.posPre=a.substring(0,a.indexOf(zl));for(let u=0;u<l.length;u++){let h=l.charAt(u);h===Qr?n.minFrac=n.maxFrac=u+1:h===zl?n.maxFrac=u+1:n.posSuf+=h}let c=a.split(tC);if(n.gSize=c[1]?c[1].length:0,n.lgSize=c[2]||c[1]?(c[2]||c[1]).length:0,i){let u=o.length-n.posPre.length-n.posSuf.length,h=i.indexOf(zl);n.negPre=i.substring(0,h).replace(/'/g,""),n.negSuf=i.slice(h+u).replace(/'/g,"")}else n.negPre=e+n.posPre,n.negSuf=n.posSuf;return n}function oC(t){if(t.digits[0]===0)return t;let e=t.digits.length-t.integerLen;return t.exponent?t.exponent+=2:(e===0?t.digits.push(0,0):e===1&&t.digits.push(0),t.integerLen+=2),t}function iC(t){let e=Math.abs(t)+"",n=0,r,o,i,s,a;for((o=e.indexOf(Bi))>-1&&(e=e.replace(Bi,"")),(i=e.search(/e/i))>0?(o<0&&(o=i),o+=+e.slice(i+1),e=e.substring(0,i)):o<0&&(o=e.length),i=0;e.charAt(i)===Qr;i++);if(i===(a=e.length))r=[0],o=1;else{for(a--;e.charAt(a)===Qr;)a--;for(o-=i,r=[],s=0;i<=a;i++,s++)r[s]=Number(e.charAt(i))}return o>Xf&&(r=r.splice(0,Xf-1),n=o-1,o=1),{digits:r,exponent:n,integerLen:o}}function sC(t,e,n){if(e>n)throw new Error(`The minimum number of digits after fraction (${e}) is higher than the maximum (${n}).`);let r=t.digits,o=r.length-t.integerLen,i=Math.min(Math.max(e,o),n),s=i+t.integerLen,a=r[s];if(s>0){r.splice(Math.max(t.integerLen,s));for(let h=s;h<r.length;h++)r[h]=0}else{o=Math.max(0,o),t.integerLen=1,r.length=Math.max(1,s=i+1),r[0]=0;for(let h=1;h<s;h++)r[h]=0}if(a>=5)if(s-1<0){for(let h=0;h>s;h--)r.unshift(0),t.integerLen++;r.unshift(1),t.integerLen++}else r[s-1]++;for(;o<Math.max(0,i);o++)r.push(0);let l=i!==0,c=e+t.integerLen,u=r.reduceRight(function(h,C,p,b){return C=C+h,b[p]=C<10?C:C-10,l&&(b[p]===0&&p>=c?b.pop():l=!1),C>=10?1:0},0);u&&(r.unshift(u),t.integerLen++)}function Gl(t){let e=parseInt(t);if(isNaN(e))throw new Error("Invalid integer literal when parsing "+t);return e}function tp(t,e){return new Q(2100,!1)}var ql=(()=>{class t{_locale;constructor(n){this._locale=n}transform(n,r,o){if(!aC(n))return null;o||=this._locale;try{let i=lC(n);return ep(i,o,r)}catch(i){throw tp(t,i.message)}}static \u0275fac=function(r){return new(r||t)(ce(ji,16))};static \u0275pipe=jl({name:"number",type:t,pure:!0})}return t})();function aC(t){return!(t==null||t===""||t!==t)}function lC(t){if(typeof t=="string"&&!isNaN(Number(t)-parseFloat(t)))return Number(t);if(typeof t!="number")throw new Error(`${t} is not a number`);return t}var Zl=(()=>{class t{transform(n,r,o){if(n==null)return null;if(!(typeof n=="string"||Array.isArray(n)))throw tp(t,n);return n.slice(r,o)}static \u0275fac=function(r){return new(r||t)};static \u0275pipe=jl({name:"slice",type:t,pure:!1})}return t})();var Ne=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275mod=ar({type:t});static \u0275inj=er({})}return t})();function Yl(t,e){e=encodeURIComponent(e);for(let n of t.split(";")){let r=n.indexOf("="),[o,i]=r==-1?[n,""]:[n.slice(0,r),n.slice(r+1)];if(o.trim()===e)return decodeURIComponent(i)}return null}var Ql="browser",np="server";function Hi(t){return t===np}var Kr=class{};var zi=new W(""),ec=(()=>{class t{_zone;_plugins;_eventNameToPlugin=new Map;constructor(n,r){this._zone=r,n.forEach(o=>{o.manager=this}),this._plugins=n.slice().reverse()}addEventListener(n,r,o,i){return this._findPluginFor(r).addEventListener(n,r,o,i)}getZone(){return this._zone}_findPluginFor(n){let r=this._eventNameToPlugin.get(n);if(r)return r;if(r=this._plugins.find(i=>i.supports(n)),!r)throw new Q(5101,!1);return this._eventNameToPlugin.set(n,r),r}static \u0275fac=function(r){return new(r||t)(de(zi),de(Ue))};static \u0275prov=Ee({token:t,factory:t.\u0275fac})}return t})(),Xr=class{_doc;constructor(e){this._doc=e}manager},$i="ng-app-id";function op(t){for(let e of t)e.remove()}function ip(t,e){let n=e.createElement("style");return n.textContent=t,n}function uC(t,e,n,r){let o=t.head?.querySelectorAll(`style[${$i}="${e}"],link[${$i}="${e}"]`);if(o)for(let i of o)i.removeAttribute($i),i instanceof HTMLLinkElement?r.set(i.href.slice(i.href.lastIndexOf("/")+1),{usage:0,elements:[i]}):i.textContent&&n.set(i.textContent,{usage:0,elements:[i]})}function Xl(t,e){let n=e.createElement("link");return n.setAttribute("rel","stylesheet"),n.setAttribute("href",t),n}var tc=(()=>{class t{doc;appId;nonce;inline=new Map;external=new Map;hosts=new Set;isServer;constructor(n,r,o,i={}){this.doc=n,this.appId=r,this.nonce=o,this.isServer=Hi(i),uC(n,r,this.inline,this.external),this.hosts.add(n.head)}addStyles(n,r){for(let o of n)this.addUsage(o,this.inline,ip);r?.forEach(o=>this.addUsage(o,this.external,Xl))}removeStyles(n,r){for(let o of n)this.removeUsage(o,this.inline);r?.forEach(o=>this.removeUsage(o,this.external))}addUsage(n,r,o){let i=r.get(n);i?i.usage++:r.set(n,{usage:1,elements:[...this.hosts].map(s=>this.addElement(s,o(n,this.doc)))})}removeUsage(n,r){let o=r.get(n);o&&(o.usage--,o.usage<=0&&(op(o.elements),r.delete(n)))}ngOnDestroy(){for(let[,{elements:n}]of[...this.inline,...this.external])op(n);this.hosts.clear()}addHost(n){this.hosts.add(n);for(let[r,{elements:o}]of this.inline)o.push(this.addElement(n,ip(r,this.doc)));for(let[r,{elements:o}]of this.external)o.push(this.addElement(n,Xl(r,this.doc)))}removeHost(n){this.hosts.delete(n)}addElement(n,r){return this.nonce&&r.setAttribute("nonce",this.nonce),this.isServer&&r.setAttribute($i,this.appId),n.appendChild(r)}static \u0275fac=function(r){return new(r||t)(de(zt),de(_l),de(bl,8),de(Wr))};static \u0275prov=Ee({token:t,factory:t.\u0275fac})}return t})(),Kl={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},nc=/%COMP%/g;var ap="%COMP%",dC=`_nghost-${ap}`,fC=`_ngcontent-${ap}`,pC=!0,hC=new W("",{providedIn:"root",factory:()=>pC});function gC(t){return fC.replace(nc,t)}function mC(t){return dC.replace(nc,t)}function lp(t,e){return e.map(n=>n.replace(nc,t))}var rc=(()=>{class t{eventManager;sharedStylesHost;appId;removeStylesOnCompDestroy;doc;platformId;ngZone;nonce;tracingService;rendererByCompId=new Map;defaultRenderer;platformIsServer;constructor(n,r,o,i,s,a,l,c=null,u=null){this.eventManager=n,this.sharedStylesHost=r,this.appId=o,this.removeStylesOnCompDestroy=i,this.doc=s,this.platformId=a,this.ngZone=l,this.nonce=c,this.tracingService=u,this.platformIsServer=Hi(a),this.defaultRenderer=new Jr(n,s,l,this.platformIsServer,this.tracingService)}createRenderer(n,r){if(!n||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===Ht.ShadowDom&&(r=re(O({},r),{encapsulation:Ht.Emulated}));let o=this.getOrCreateRenderer(n,r);return o instanceof Ui?o.applyToHost(n):o instanceof eo&&o.applyStyles(),o}getOrCreateRenderer(n,r){let o=this.rendererByCompId,i=o.get(r.id);if(!i){let s=this.doc,a=this.ngZone,l=this.eventManager,c=this.sharedStylesHost,u=this.removeStylesOnCompDestroy,h=this.platformIsServer,C=this.tracingService;switch(r.encapsulation){case Ht.Emulated:i=new Ui(l,c,r,this.appId,u,s,a,h,C);break;case Ht.ShadowDom:return new Jl(l,c,n,r,s,a,this.nonce,h,C);default:i=new eo(l,c,r,u,s,a,h,C);break}o.set(r.id,i)}return i}ngOnDestroy(){this.rendererByCompId.clear()}componentReplaced(n){this.rendererByCompId.delete(n)}static \u0275fac=function(r){return new(r||t)(de(ec),de(tc),de(_l),de(hC),de(zt),de(Wr),de(Ue),de(bl),de(Si,8))};static \u0275prov=Ee({token:t,factory:t.\u0275fac})}return t})(),Jr=class{eventManager;doc;ngZone;platformIsServer;tracingService;data=Object.create(null);throwOnSyntheticProps=!0;constructor(e,n,r,o,i){this.eventManager=e,this.doc=n,this.ngZone=r,this.platformIsServer=o,this.tracingService=i}destroy(){}destroyNode=null;createElement(e,n){return n?this.doc.createElementNS(Kl[n]||n,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,n){(sp(e)?e.content:e).appendChild(n)}insertBefore(e,n,r){e&&(sp(e)?e.content:e).insertBefore(n,r)}removeChild(e,n){n.remove()}selectRootElement(e,n){let r=typeof e=="string"?this.doc.querySelector(e):e;if(!r)throw new Q(-5104,!1);return n||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,n,r,o){if(o){n=o+":"+n;let i=Kl[o];i?e.setAttributeNS(i,n,r):e.setAttribute(n,r)}else e.setAttribute(n,r)}removeAttribute(e,n,r){if(r){let o=Kl[r];o?e.removeAttributeNS(o,n):e.removeAttribute(`${r}:${n}`)}else e.removeAttribute(n)}addClass(e,n){e.classList.add(n)}removeClass(e,n){e.classList.remove(n)}setStyle(e,n,r,o){o&(Xt.DashCase|Xt.Important)?e.style.setProperty(n,r,o&Xt.Important?"important":""):e.style[n]=r}removeStyle(e,n,r){r&Xt.DashCase?e.style.removeProperty(n):e.style[n]=""}setProperty(e,n,r){e!=null&&(e[n]=r)}setValue(e,n){e.nodeValue=n}listen(e,n,r,o){if(typeof e=="string"&&(e=hn().getGlobalEventTarget(this.doc,e),!e))throw new Q(5102,!1);let i=this.decoratePreventDefault(r);return this.tracingService?.wrapEventListener&&(i=this.tracingService.wrapEventListener(e,n,i)),this.eventManager.addEventListener(e,n,i,o)}decoratePreventDefault(e){return n=>{if(n==="__ngUnwrap__")return e;(this.platformIsServer?this.ngZone.runGuarded(()=>e(n)):e(n))===!1&&n.preventDefault()}}};function sp(t){return t.tagName==="TEMPLATE"&&t.content!==void 0}var Jl=class extends Jr{sharedStylesHost;hostEl;shadowRoot;constructor(e,n,r,o,i,s,a,l,c){super(e,i,s,l,c),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let u=o.styles;u=lp(o.id,u);for(let C of u){let p=document.createElement("style");a&&p.setAttribute("nonce",a),p.textContent=C,this.shadowRoot.appendChild(p)}let h=o.getExternalStyles?.();if(h)for(let C of h){let p=Xl(C,i);a&&p.setAttribute("nonce",a),this.shadowRoot.appendChild(p)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,n){return super.appendChild(this.nodeOrShadowRoot(e),n)}insertBefore(e,n,r){return super.insertBefore(this.nodeOrShadowRoot(e),n,r)}removeChild(e,n){return super.removeChild(null,n)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},eo=class extends Jr{sharedStylesHost;removeStylesOnCompDestroy;styles;styleUrls;constructor(e,n,r,o,i,s,a,l,c){super(e,i,s,a,l),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=o;let u=r.styles;this.styles=c?lp(c,u):u,this.styleUrls=r.getExternalStyles?.(c)}applyStyles(){this.sharedStylesHost.addStyles(this.styles,this.styleUrls)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles,this.styleUrls)}},Ui=class extends eo{contentAttr;hostAttr;constructor(e,n,r,o,i,s,a,l,c){let u=o+"-"+r.id;super(e,n,r,i,s,a,l,c,u),this.contentAttr=gC(u),this.hostAttr=mC(u)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,n){let r=super.createElement(e,n);return super.setAttribute(r,this.contentAttr,""),r}};var Gi=class t extends Yr{supportsDOMEvents=!0;static makeCurrent(){Ul(new t)}onAndCancel(e,n,r,o){return e.addEventListener(n,r,o),()=>{e.removeEventListener(n,r,o)}}dispatchEvent(e,n){e.dispatchEvent(n)}remove(e){e.remove()}createElement(e,n){return n=n||this.getDefaultDocument(),n.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,n){return n==="window"?window:n==="document"?e:n==="body"?e.body:null}getBaseHref(e){let n=yC();return n==null?null:vC(n)}resetBaseElement(){to=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return Yl(document.cookie,e)}},to=null;function yC(){return to=to||document.head.querySelector("base"),to?to.getAttribute("href"):null}function vC(t){return new URL(t,document.baseURI).pathname}var _C=(()=>{class t{build(){return new XMLHttpRequest}static \u0275fac=function(r){return new(r||t)};static \u0275prov=Ee({token:t,factory:t.\u0275fac})}return t})(),up=(()=>{class t extends Xr{constructor(n){super(n)}supports(n){return!0}addEventListener(n,r,o,i){return n.addEventListener(r,o,i),()=>this.removeEventListener(n,r,o,i)}removeEventListener(n,r,o,i){return n.removeEventListener(r,o,i)}static \u0275fac=function(r){return new(r||t)(de(zt))};static \u0275prov=Ee({token:t,factory:t.\u0275fac})}return t})(),cp=["alt","control","meta","shift"],CC={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},bC={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey},dp=(()=>{class t extends Xr{constructor(n){super(n)}supports(n){return t.parseEventName(n)!=null}addEventListener(n,r,o,i){let s=t.parseEventName(r),a=t.eventCallback(s.fullKey,o,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>hn().onAndCancel(n,s.domEventName,a,i))}static parseEventName(n){let r=n.toLowerCase().split("."),o=r.shift();if(r.length===0||!(o==="keydown"||o==="keyup"))return null;let i=t._normalizeKey(r.pop()),s="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),s="code."),cp.forEach(c=>{let u=r.indexOf(c);u>-1&&(r.splice(u,1),s+=c+".")}),s+=i,r.length!=0||i.length===0)return null;let l={};return l.domEventName=o,l.fullKey=s,l}static matchEventFullKeyCode(n,r){let o=CC[n.key]||n.key,i="";return r.indexOf("code.")>-1&&(o=n.code,i="code."),o==null||!o?!1:(o=o.toLowerCase(),o===" "?o="space":o==="."&&(o="dot"),cp.forEach(s=>{if(s!==o){let a=bC[s];a(n)&&(i+=s+".")}}),i+=o,i===r)}static eventCallback(n,r,o){return i=>{t.matchEventFullKeyCode(i,n)&&o.runGuarded(()=>r(i))}}static _normalizeKey(n){return n==="esc"?"escape":n}static \u0275fac=function(r){return new(r||t)(de(zt))};static \u0275prov=Ee({token:t,factory:t.\u0275fac})}return t})();function oc(t,e,n){return Yf(O({rootComponent:t,platformRef:n?.platformRef},wC(e)))}function wC(t){return{appProviders:[...SC,...t?.providers??[]],platformProviders:xC}}function DC(){Gi.makeCurrent()}function EC(){return new Kt}function MC(){return jd(document),document}var xC=[{provide:Wr,useValue:Ql},{provide:Cl,useValue:DC,multi:!0},{provide:zt,useFactory:MC}];var SC=[{provide:wi,useValue:"root"},{provide:Kt,useFactory:EC},{provide:zi,useClass:up,multi:!0,deps:[zt]},{provide:zi,useClass:dp,multi:!0,deps:[zt]},rc,tc,ec,{provide:Xn,useExisting:rc},{provide:Kr,useClass:_C},[]];var bp=(()=>{class t{_renderer;_elementRef;onChange=n=>{};onTouched=()=>{};constructor(n,r){this._renderer=n,this._elementRef=r}setProperty(n,r){this._renderer.setProperty(this._elementRef.nativeElement,n,r)}registerOnTouched(n){this.onTouched=n}registerOnChange(n){this.onChange=n}setDisabledState(n){this.setProperty("disabled",n)}static \u0275fac=function(r){return new(r||t)(ce(sr),ce(gt))};static \u0275dir=Ke({type:t})}return t})(),Qi=(()=>{class t extends bp{static \u0275fac=(()=>{let n;return function(o){return(n||(n=dn(t)))(o||t)}})();static \u0275dir=Ke({type:t,features:[yt]})}return t})(),ao=new W("");var IC={provide:ao,useExisting:It(()=>Me),multi:!0};function TC(){let t=hn()?hn().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}var NC=new W(""),Me=(()=>{class t extends bp{_compositionMode;_composing=!1;constructor(n,r,o){super(n,r),this._compositionMode=o,this._compositionMode==null&&(this._compositionMode=!TC())}writeValue(n){let r=n??"";this.setProperty("value",r)}_handleInput(n){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(n)}_compositionStart(){this._composing=!0}_compositionEnd(n){this._composing=!1,this._compositionMode&&this.onChange(n)}static \u0275fac=function(r){return new(r||t)(ce(sr),ce(gt),ce(NC,8))};static \u0275dir=Ke({type:t,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,o){r&1&&w("input",function(s){return o._handleInput(s.target.value)})("blur",function(){return o.onTouched()})("compositionstart",function(){return o._compositionStart()})("compositionend",function(s){return o._compositionEnd(s.target.value)})},standalone:!1,features:[rn([IC]),yt]})}return t})();function AC(t){return t==null?null:Array.isArray(t)||typeof t=="string"?t.length:t instanceof Set?t.size:null}var Ki=new W(""),OC=new W("");function PC(t){return e=>{if(e.value==null||t==null)return null;let n=parseFloat(e.value);return!isNaN(n)&&n<t?{min:{min:t,actual:e.value}}:null}}function kC(t){return e=>{if(e.value==null||t==null)return null;let n=parseFloat(e.value);return!isNaN(n)&&n>t?{max:{max:t,actual:e.value}}:null}}function RC(t){return e=>{let n=e.value?.length??AC(e.value);return n!==null&&n>t?{maxlength:{requiredLength:t,actualLength:n}}:null}}function fp(t){return null}function wp(t){return t!=null}function Dp(t){return qr(t)?Ls(t):t}function Ep(t){let e={};return t.forEach(n=>{e=n!=null?O(O({},e),n):e}),Object.keys(e).length===0?null:e}function Mp(t,e){return e.map(n=>n(t))}function FC(t){return!t.validate}function xp(t){return t.map(e=>FC(e)?e:n=>e.validate(n))}function VC(t){if(!t)return null;let e=t.filter(wp);return e.length==0?null:function(n){return Ep(Mp(n,e))}}function Sp(t){return t!=null?VC(xp(t)):null}function LC(t){if(!t)return null;let e=t.filter(wp);return e.length==0?null:function(n){let r=Mp(n,e).map(Dp);return js(r).pipe(Cn(Ep))}}function Ip(t){return t!=null?LC(xp(t)):null}function pp(t,e){return t===null?[e]:Array.isArray(t)?[...t,e]:[t,e]}function jC(t){return t._rawValidators}function BC(t){return t._rawAsyncValidators}function ic(t){return t?Array.isArray(t)?t:[t]:[]}function qi(t,e){return Array.isArray(t)?t.includes(e):t===e}function hp(t,e){let n=ic(e);return ic(t).forEach(o=>{qi(n,o)||n.push(o)}),n}function gp(t,e){return ic(e).filter(n=>!qi(t,n))}var Zi=class{get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators=[];_rawAsyncValidators=[];_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=Sp(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=Ip(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_onDestroyCallbacks=[];_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,n){return this.control?this.control.hasError(e,n):!1}getError(e,n){return this.control?this.control.getError(e,n):null}},sc=class extends Zi{name;get formDirective(){return null}get path(){return null}},so=class extends Zi{_parent=null;name=null;valueAccessor=null},ac=class{_cd;constructor(e){this._cd=e}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}},HC={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},GS=re(O({},HC),{"[class.ng-submitted]":"isSubmitted"}),Ae=(()=>{class t extends ac{constructor(n){super(n)}static \u0275fac=function(r){return new(r||t)(ce(so,2))};static \u0275dir=Ke({type:t,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,o){r&2&&pe("ng-untouched",o.isUntouched)("ng-touched",o.isTouched)("ng-pristine",o.isPristine)("ng-dirty",o.isDirty)("ng-valid",o.isValid)("ng-invalid",o.isInvalid)("ng-pending",o.isPending)},standalone:!1,features:[yt]})}return t})();var no="VALID",Wi="INVALID",dr="PENDING",ro="DISABLED",pr=class{},Yi=class extends pr{value;source;constructor(e,n){super(),this.value=e,this.source=n}},oo=class extends pr{pristine;source;constructor(e,n){super(),this.pristine=e,this.source=n}},io=class extends pr{touched;source;constructor(e,n){super(),this.touched=e,this.source=n}},fr=class extends pr{status;source;constructor(e,n){super(),this.status=e,this.source=n}};function $C(t){return(Xi(t)?t.validators:t)||null}function UC(t){return Array.isArray(t)?Sp(t):t||null}function zC(t,e){return(Xi(e)?e.asyncValidators:t)||null}function GC(t){return Array.isArray(t)?Ip(t):t||null}function Xi(t){return t!=null&&!Array.isArray(t)&&typeof t=="object"}var lc=class{_pendingDirty=!1;_hasOwnPendingAsyncValidator=null;_pendingTouched=!1;_onCollectionChange=()=>{};_updateOn;_parent=null;_asyncValidationSubscription;_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators;_rawAsyncValidators;value;constructor(e,n){this._assignValidators(e),this._assignAsyncValidators(n)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get status(){return pn(this.statusReactive)}set status(e){pn(()=>this.statusReactive.set(e))}_status=ve(()=>this.statusReactive());statusReactive=x(void 0);get valid(){return this.status===no}get invalid(){return this.status===Wi}get pending(){return this.status==dr}get disabled(){return this.status===ro}get enabled(){return this.status!==ro}errors;get pristine(){return pn(this.pristineReactive)}set pristine(e){pn(()=>this.pristineReactive.set(e))}_pristine=ve(()=>this.pristineReactive());pristineReactive=x(!0);get dirty(){return!this.pristine}get touched(){return pn(this.touchedReactive)}set touched(e){pn(()=>this.touchedReactive.set(e))}_touched=ve(()=>this.touchedReactive());touchedReactive=x(!1);get untouched(){return!this.touched}_events=new Rt;events=this._events.asObservable();valueChanges;statusChanges;get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(hp(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(hp(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(gp(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(gp(e,this._rawAsyncValidators))}hasValidator(e){return qi(this._rawValidators,e)}hasAsyncValidator(e){return qi(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){let n=this.touched===!1;this.touched=!0;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsTouched(re(O({},e),{sourceControl:r})),n&&e.emitEvent!==!1&&this._events.next(new io(!0,r))}markAllAsTouched(e={}){this.markAsTouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:this}),this._forEachChild(n=>n.markAllAsTouched(e))}markAsUntouched(e={}){let n=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let r=e.sourceControl??this;this._forEachChild(o=>{o.markAsUntouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:r})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,r),n&&e.emitEvent!==!1&&this._events.next(new io(!1,r))}markAsDirty(e={}){let n=this.pristine===!0;this.pristine=!1;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsDirty(re(O({},e),{sourceControl:r})),n&&e.emitEvent!==!1&&this._events.next(new oo(!1,r))}markAsPristine(e={}){let n=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let r=e.sourceControl??this;this._forEachChild(o=>{o.markAsPristine({onlySelf:!0,emitEvent:e.emitEvent})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e,r),n&&e.emitEvent!==!1&&this._events.next(new oo(!0,r))}markAsPending(e={}){this.status=dr;let n=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new fr(this.status,n)),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.markAsPending(re(O({},e),{sourceControl:n}))}disable(e={}){let n=this._parentMarkedDirty(e.onlySelf);this.status=ro,this.errors=null,this._forEachChild(o=>{o.disable(re(O({},e),{onlySelf:!0}))}),this._updateValue();let r=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Yi(this.value,r)),this._events.next(new fr(this.status,r)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(re(O({},e),{skipPristineCheck:n}),this),this._onDisabledChange.forEach(o=>o(!0))}enable(e={}){let n=this._parentMarkedDirty(e.onlySelf);this.status=no,this._forEachChild(r=>{r.enable(re(O({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(re(O({},e),{skipPristineCheck:n}),this),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e,n){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine({},n),this._parent._updateTouched({},n))}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let r=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===no||this.status===dr)&&this._runAsyncValidator(r,e.emitEvent)}let n=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Yi(this.value,n)),this._events.next(new fr(this.status,n)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(re(O({},e),{sourceControl:n}))}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(n=>n._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?ro:no}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e,n){if(this.asyncValidator){this.status=dr,this._hasOwnPendingAsyncValidator={emitEvent:n!==!1};let r=Dp(this.asyncValidator(this));this._asyncValidationSubscription=r.subscribe(o=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(o,{emitEvent:n,shouldHaveEmitted:e})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let e=this._hasOwnPendingAsyncValidator?.emitEvent??!1;return this._hasOwnPendingAsyncValidator=null,e}return!1}setErrors(e,n={}){this.errors=e,this._updateControlsErrors(n.emitEvent!==!1,this,n.shouldHaveEmitted)}get(e){let n=e;return n==null||(Array.isArray(n)||(n=n.split(".")),n.length===0)?null:n.reduce((r,o)=>r&&r._find(o),this)}getError(e,n){let r=n?this.get(n):this;return r&&r.errors?r.errors[e]:null}hasError(e,n){return!!this.getError(e,n)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e,n,r){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),(e||r)&&this._events.next(new fr(this.status,n)),this._parent&&this._parent._updateControlsErrors(e,n,r)}_initObservables(){this.valueChanges=new G,this.statusChanges=new G}_calculateStatus(){return this._allControlsDisabled()?ro:this.errors?Wi:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(dr)?dr:this._anyControlsHaveStatus(Wi)?Wi:no}_anyControlsHaveStatus(e){return this._anyControls(n=>n.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e,n){let r=!this._anyControlsDirty(),o=this.pristine!==r;this.pristine=r,this._parent&&!e.onlySelf&&this._parent._updatePristine(e,n),o&&this._events.next(new oo(this.pristine,n))}_updateTouched(e={},n){this.touched=this._anyControlsTouched(),this._events.next(new io(this.touched,n)),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,n)}_onDisabledChange=[];_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){Xi(e)&&e.updateOn!=null&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){let n=this._parent&&this._parent.dirty;return!e&&!!n&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=UC(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=GC(this._rawAsyncValidators)}};var Tp=new W("",{providedIn:"root",factory:()=>cc}),cc="always";function WC(t,e){return[...e.path,t]}function qC(t,e,n=cc){YC(t,e),e.valueAccessor.writeValue(t.value),(t.disabled||n==="always")&&e.valueAccessor.setDisabledState?.(t.disabled),QC(t,e),XC(t,e),KC(t,e),ZC(t,e)}function mp(t,e){t.forEach(n=>{n.registerOnValidatorChange&&n.registerOnValidatorChange(e)})}function ZC(t,e){if(e.valueAccessor.setDisabledState){let n=r=>{e.valueAccessor.setDisabledState(r)};t.registerOnDisabledChange(n),e._registerOnDestroy(()=>{t._unregisterOnDisabledChange(n)})}}function YC(t,e){let n=jC(t);e.validator!==null?t.setValidators(pp(n,e.validator)):typeof n=="function"&&t.setValidators([n]);let r=BC(t);e.asyncValidator!==null?t.setAsyncValidators(pp(r,e.asyncValidator)):typeof r=="function"&&t.setAsyncValidators([r]);let o=()=>t.updateValueAndValidity();mp(e._rawValidators,o),mp(e._rawAsyncValidators,o)}function QC(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,t.updateOn==="change"&&Np(t,e)})}function KC(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,t.updateOn==="blur"&&t._pendingChange&&Np(t,e),t.updateOn!=="submit"&&t.markAsTouched()})}function Np(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function XC(t,e){let n=(r,o)=>{e.valueAccessor.writeValue(r),o&&e.viewToModelUpdate(r)};t.registerOnChange(n),e._registerOnDestroy(()=>{t._unregisterOnChange(n)})}function JC(t,e){if(!t.hasOwnProperty("model"))return!1;let n=t.model;return n.isFirstChange()?!0:!Object.is(e,n.currentValue)}function e0(t){return Object.getPrototypeOf(t.constructor)===Qi}function t0(t,e){if(!e)return null;Array.isArray(e);let n,r,o;return e.forEach(i=>{i.constructor===Me?n=i:e0(i)?r=i:o=i}),o||r||n||null}function yp(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function vp(t){return typeof t=="object"&&t!==null&&Object.keys(t).length===2&&"value"in t&&"disabled"in t}var n0=class extends lc{defaultValue=null;_onChange=[];_pendingValue;_pendingChange=!1;constructor(e=null,n,r){super($C(n),zC(r,n)),this._applyFormState(e),this._setUpdateStrategy(n),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Xi(n)&&(n.nonNullable||n.initialValueIsDefault)&&(vp(e)?this.defaultValue=e.value:this.defaultValue=e)}setValue(e,n={}){this.value=this._pendingValue=e,this._onChange.length&&n.emitModelToViewChange!==!1&&this._onChange.forEach(r=>r(this.value,n.emitViewToModelChange!==!1)),this.updateValueAndValidity(n)}patchValue(e,n={}){this.setValue(e,n)}reset(e=this.defaultValue,n={}){this._applyFormState(e),this.markAsPristine(n),this.markAsUntouched(n),this.setValue(this.value,n),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){yp(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){yp(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(e){vp(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};var r0={provide:so,useExisting:It(()=>xe)},_p=Promise.resolve(),xe=(()=>{class t extends so{_changeDetectorRef;callSetDisabledState;control=new n0;static ngAcceptInputType_isDisabled;_registered=!1;viewModel;name="";isDisabled;model;options;update=new G;constructor(n,r,o,i,s,a){super(),this._changeDetectorRef=s,this.callSetDisabledState=a,this._parent=n,this._setValidators(r),this._setAsyncValidators(o),this.valueAccessor=t0(this,i)}ngOnChanges(n){if(this._checkForErrors(),!this._registered||"name"in n){if(this._registered&&(this._checkName(),this.formDirective)){let r=n.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in n&&this._updateDisabled(n),JC(n,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(n){this.viewModel=n,this.update.emit(n)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){qC(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._checkName()}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(n){_p.then(()=>{this.control.setValue(n,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(n){let r=n.isDisabled.currentValue,o=r!==0&&Qf(r);_p.then(()=>{o&&!this.control.disabled?this.control.disable():!o&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(n){return this._parent?WC(n,this._parent):[n]}static \u0275fac=function(r){return new(r||t)(ce(sc,9),ce(Ki,10),ce(OC,10),ce(ao,10),ce($l,8),ce(Tp,8))};static \u0275dir=Ke({type:t,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],standalone:!1,features:[rn([r0]),yt,Qe]})}return t})();var o0={provide:ao,useExisting:It(()=>lo),multi:!0},lo=(()=>{class t extends Qi{writeValue(n){let r=n??"";this.setProperty("value",r)}registerOnChange(n){this.onChange=r=>{n(r==""?null:parseFloat(r))}}static \u0275fac=(()=>{let n;return function(o){return(n||(n=dn(t)))(o||t)}})();static \u0275dir=Ke({type:t,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(r,o){r&1&&w("input",function(s){return o.onChange(s.target.value)})("blur",function(){return o.onTouched()})},standalone:!1,features:[rn([o0]),yt]})}return t})();var i0={provide:ao,useExisting:It(()=>vt),multi:!0};function Ap(t,e){return t==null?`${e}`:(e&&typeof e=="object"&&(e="Object"),`${t}: ${e}`.slice(0,50))}function s0(t){return t.split(":")[0]}var vt=(()=>{class t extends Qi{value;_optionMap=new Map;_idCounter=0;set compareWith(n){this._compareWith=n}_compareWith=Object.is;writeValue(n){this.value=n;let r=this._getOptionId(n),o=Ap(r,n);this.setProperty("value",o)}registerOnChange(n){this.onChange=r=>{this.value=this._getOptionValue(r),n(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(n){for(let r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r),n))return r;return null}_getOptionValue(n){let r=s0(n);return this._optionMap.has(r)?this._optionMap.get(r):n}static \u0275fac=(()=>{let n;return function(o){return(n||(n=dn(t)))(o||t)}})();static \u0275dir=Ke({type:t,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(r,o){r&1&&w("change",function(s){return o.onChange(s.target.value)})("blur",function(){return o.onTouched()})},inputs:{compareWith:"compareWith"},standalone:!1,features:[rn([i0]),yt]})}return t})(),_t=(()=>{class t{_element;_renderer;_select;id;constructor(n,r,o){this._element=n,this._renderer=r,this._select=o,this._select&&(this.id=this._select._registerOption())}set ngValue(n){this._select!=null&&(this._select._optionMap.set(this.id,n),this._setElementValue(Ap(this.id,n)),this._select.writeValue(this._select.value))}set value(n){this._setElementValue(n),this._select&&this._select.writeValue(this._select.value)}_setElementValue(n){this._renderer.setProperty(this._element.nativeElement,"value",n)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static \u0275fac=function(r){return new(r||t)(ce(gt),ce(sr),ce(vt,9))};static \u0275dir=Ke({type:t,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"},standalone:!1})}return t})(),a0={provide:ao,useExisting:It(()=>Op),multi:!0};function Cp(t,e){return t==null?`${e}`:(typeof e=="string"&&(e=`'${e}'`),e&&typeof e=="object"&&(e="Object"),`${t}: ${e}`.slice(0,50))}function l0(t){return t.split(":")[0]}var Op=(()=>{class t extends Qi{value;_optionMap=new Map;_idCounter=0;set compareWith(n){this._compareWith=n}_compareWith=Object.is;writeValue(n){this.value=n;let r;if(Array.isArray(n)){let o=n.map(i=>this._getOptionId(i));r=(i,s)=>{i._setSelected(o.indexOf(s.toString())>-1)}}else r=(o,i)=>{o._setSelected(!1)};this._optionMap.forEach(r)}registerOnChange(n){this.onChange=r=>{let o=[],i=r.selectedOptions;if(i!==void 0){let s=i;for(let a=0;a<s.length;a++){let l=s[a],c=this._getOptionValue(l.value);o.push(c)}}else{let s=r.options;for(let a=0;a<s.length;a++){let l=s[a];if(l.selected){let c=this._getOptionValue(l.value);o.push(c)}}}this.value=o,n(o)}}_registerOption(n){let r=(this._idCounter++).toString();return this._optionMap.set(r,n),r}_getOptionId(n){for(let r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r)._value,n))return r;return null}_getOptionValue(n){let r=l0(n);return this._optionMap.has(r)?this._optionMap.get(r)._value:n}static \u0275fac=(()=>{let n;return function(o){return(n||(n=dn(t)))(o||t)}})();static \u0275dir=Ke({type:t,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(r,o){r&1&&w("change",function(s){return o.onChange(s.target)})("blur",function(){return o.onTouched()})},inputs:{compareWith:"compareWith"},standalone:!1,features:[rn([a0]),yt]})}return t})(),Ct=(()=>{class t{_element;_renderer;_select;id;_value;constructor(n,r,o){this._element=n,this._renderer=r,this._select=o,this._select&&(this.id=this._select._registerOption(this))}set ngValue(n){this._select!=null&&(this._value=n,this._setElementValue(Cp(this.id,n)),this._select.writeValue(this._select.value))}set value(n){this._select?(this._value=n,this._setElementValue(Cp(this.id,n)),this._select.writeValue(this._select.value)):this._setElementValue(n)}_setElementValue(n){this._renderer.setProperty(this._element.nativeElement,"value",n)}_setSelected(n){this._renderer.setProperty(this._element.nativeElement,"selected",n)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static \u0275fac=function(r){return new(r||t)(ce(gt),ce(sr),ce(Op,9))};static \u0275dir=Ke({type:t,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"},standalone:!1})}return t})();function c0(t){return typeof t=="number"?t:parseInt(t,10)}function Pp(t){return typeof t=="number"?t:parseFloat(t)}var uc=(()=>{class t{_validator=fp;_onChange;_enabled;ngOnChanges(n){if(this.inputName in n){let r=this.normalizeInput(n[this.inputName].currentValue);this._enabled=this.enabled(r),this._validator=this._enabled?this.createValidator(r):fp,this._onChange&&this._onChange()}}validate(n){return this._validator(n)}registerOnValidatorChange(n){this._onChange=n}enabled(n){return n!=null}static \u0275fac=function(r){return new(r||t)};static \u0275dir=Ke({type:t,features:[Qe]})}return t})(),u0={provide:Ki,useExisting:It(()=>co),multi:!0},co=(()=>{class t extends uc{max;inputName="max";normalizeInput=n=>Pp(n);createValidator=n=>kC(n);static \u0275fac=(()=>{let n;return function(o){return(n||(n=dn(t)))(o||t)}})();static \u0275dir=Ke({type:t,selectors:[["input","type","number","max","","formControlName",""],["input","type","number","max","","formControl",""],["input","type","number","max","","ngModel",""]],hostVars:1,hostBindings:function(r,o){r&2&&Zr("max",o._enabled?o.max:null)},inputs:{max:"max"},standalone:!1,features:[rn([u0]),yt]})}return t})(),d0={provide:Ki,useExisting:It(()=>uo),multi:!0},uo=(()=>{class t extends uc{min;inputName="min";normalizeInput=n=>Pp(n);createValidator=n=>PC(n);static \u0275fac=(()=>{let n;return function(o){return(n||(n=dn(t)))(o||t)}})();static \u0275dir=Ke({type:t,selectors:[["input","type","number","min","","formControlName",""],["input","type","number","min","","formControl",""],["input","type","number","min","","ngModel",""]],hostVars:1,hostBindings:function(r,o){r&2&&Zr("min",o._enabled?o.min:null)},inputs:{min:"min"},standalone:!1,features:[rn([d0]),yt]})}return t})();var f0={provide:Ki,useExisting:It(()=>dc),multi:!0},dc=(()=>{class t extends uc{maxlength;inputName="maxlength";normalizeInput=n=>c0(n);createValidator=n=>RC(n);static \u0275fac=(()=>{let n;return function(o){return(n||(n=dn(t)))(o||t)}})();static \u0275dir=Ke({type:t,selectors:[["","maxlength","","formControlName",""],["","maxlength","","formControl",""],["","maxlength","","ngModel",""]],hostVars:1,hostBindings:function(r,o){r&2&&Zr("maxlength",o._enabled?o.maxlength:null)},inputs:{maxlength:"maxlength"},standalone:!1,features:[rn([f0]),yt]})}return t})();var p0=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275mod=ar({type:t});static \u0275inj=er({})}return t})();var Oe=(()=>{class t{static withConfig(n){return{ngModule:t,providers:[{provide:Tp,useValue:n.callSetDisabledState??cc}]}}static \u0275fac=function(r){return new(r||t)};static \u0275mod=ar({type:t});static \u0275inj=er({imports:[p0]})}return t})();function gn(t,e){for(let n of t.modifiers)if(h0(e,n.samples))return n.value;return t.value}function h0(t,e){let n=e.split(",");for(let r of n){let o=r.trim();if(o.includes("-")){let[i,s]=o.split("-").map(Number);if(t>=i&&t<=s)return!0}else if(t===Number(o))return!0}return!1}function kp(t){let e=t.toLowerCase().trim();return e==="source name"?"source_name":e.startsWith("characteristics[")?"characteristics":e.startsWith("comment[")?"comment":e.startsWith("factor value[")||e.startsWith("factorvalue[")?"factor_value":"special"}var jp=Xp(Rp());function Fp(t=1){return{columns:[],sampleCount:t,pools:[],metadata:{loadedAt:new Date,modifiedAt:new Date}}}function hc(t){let e=[];for(let n=1;n<=t.sampleCount;n++){let r=[];for(let o of t.columns){let i=o.value;for(let s of o.modifiers)if(g0(n,s.samples)){i=s.value;break}r.push(i)}e.push(r)}return e}function g0(t,e){let n=e.split(",");for(let r of n){let o=r.trim();if(o.includes("-")){let[i,s]=o.split("-").map(Number);if(t>=i&&t<=s)return!0}else if(t===Number(o))return!0}return!1}var m0=[{name:"source name",type:"source_name",description:"Unique sample identifier",category:"Core Sample Metadata",isRequired:!0},{name:"characteristics[organism]",type:"characteristics",description:"Organism of the sample",category:"Characteristics",isRequired:!0,ontologies:["ncbitaxon"],examples:["Homo sapiens","Mus musculus"]},{name:"characteristics[disease]",type:"characteristics",description:"Disease under study",category:"Characteristics",isRequired:!0,ontologies:["efo","mondo","doid"],examples:["normal","breast cancer"]},{name:"characteristics[organism part]",type:"characteristics",description:"Part of organism anatomy",category:"Characteristics",isRequired:!0,ontologies:["uberon","bto"],examples:["liver","brain","blood"]},{name:"characteristics[cell type]",type:"characteristics",description:"Cell type",category:"Characteristics",ontologies:["cl","bto"],examples:["T cell","hepatocyte"]},{name:"characteristics[age]",type:"characteristics",description:"Age of the individual",category:"Characteristics",pattern:"^(\\d+Y)?(\\d+M)?(\\d+D)?(-\\d+Y(\\d+M)?(\\d+D)?)?$|^not available$|^not applicable$",examples:["30Y","30Y6M","25Y-35Y"]},{name:"characteristics[sex]",type:"characteristics",description:"Biological sex",category:"Characteristics",ontologies:["pato"],examples:["male","female"]},{name:"characteristics[ancestry category]",type:"characteristics",description:"Ancestry or ethnicity",category:"Characteristics",ontologies:["hancestro"]},{name:"characteristics[cell line]",type:"characteristics",description:"Cell line name",category:"Characteristics",ontologies:["clo","bto"],examples:["HeLa","HEK293"]},{name:"characteristics[enrichment process]",type:"characteristics",description:"Enrichment process applied",category:"Characteristics"},{name:"characteristics[pooled sample]",type:"characteristics",description:"Pooled sample indicator",category:"Characteristics",examples:["not pooled","pooled","SN=sample1,sample2"]},{name:"characteristics[spiked compound]",type:"characteristics",description:"Spiked compound details",category:"Characteristics",examples:["SP=iRT;CT=peptide;QY=1fmol"]},{name:"characteristics[synthetic peptide]",type:"characteristics",description:"Synthetic peptide indicator",category:"Characteristics",examples:["synthetic","not synthetic"]},{name:"characteristics[individual]",type:"characteristics",description:"Patient/individual identifier",category:"Characteristics"},{name:"characteristics[biological replicate]",type:"characteristics",description:"Biological replicate number",category:"Characteristics"},{name:"assay name",type:"special",description:"MS run identifier",category:"Assay Information",isRequired:!0},{name:"technology type",type:"special",description:"Technology used for data generation",category:"Assay Information",isRequired:!0,examples:["proteomic profiling by mass spectrometry"]},{name:"comment[fraction identifier]",type:"comment",description:"Fraction number",category:"Comments",examples:["1","2","3"]},{name:"comment[label]",type:"comment",description:"Label applied to sample",category:"Comments",isRequired:!0,ontologies:["ms","pride"],examples:["label free sample","TMT126","iTRAQ4plex-114"]},{name:"comment[data file]",type:"comment",description:"Raw data file name",category:"Comments",isRequired:!0,examples:["sample1.raw","sample1.mzML"]},{name:"comment[instrument]",type:"comment",description:"Mass spectrometer model",category:"Comments",isRequired:!0,ontologies:["ms"],examples:["Orbitrap Fusion Lumos","Q Exactive HF"]},{name:"comment[technical replicate]",type:"comment",description:"Technical replicate number",category:"Comments",examples:["1","2"]},{name:"comment[modification parameters]",type:"comment",description:"Protein modifications",category:"Modifications & Enzymes",isRequired:!0,ontologies:["unimod"],examples:["NT=Oxidation;MT=Variable;TA=M;AC=UNIMOD:35","NT=Carbamidomethyl;TA=C;MT=fixed;AC=UNIMOD:4"]},{name:"comment[cleavage agent details]",type:"comment",description:"Digestion enzyme information",category:"Modifications & Enzymes",isRequired:!0,ontologies:["ms"],examples:["NT=Trypsin;AC=MS:1001251","NT=Trypsin/P;AC=MS:1001313"]},{name:"comment[fragment mass tolerance]",type:"comment",description:"Fragment ion mass tolerance",category:"Mass Tolerances",pattern:"^\\d+(\\.\\d+)?\\s*(ppm|Da)$|^not available$|^not applicable$",examples:["20 ppm","0.02 Da"]},{name:"comment[precursor mass tolerance]",type:"comment",description:"Precursor ion mass tolerance",category:"Mass Tolerances",pattern:"^\\d+(\\.\\d+)?\\s*(ppm|Da)$|^not available$|^not applicable$",examples:["10 ppm","20 ppm"]},{name:"comment[collision energy]",type:"comment",description:"Collision energy used",category:"Technical Parameters",pattern:"^\\d+(\\.\\d+)?%? (NCE|eV)(;\\d+(\\.\\d+)?%? (NCE|eV))*$|^not available$",examples:["30 NCE","30% NCE","27 eV","25 NCE;27 NCE;30 NCE"]},{name:"comment[dissociation method]",type:"comment",description:"Fragmentation method",category:"Technical Parameters",ontologies:["ms","pride"],examples:["HCD","CID","ETD","EThcD"]},{name:"comment[proteomics data acquisition method]",type:"comment",description:"DDA, DIA, etc.",category:"Technical Parameters",ontologies:["ms"],examples:["Data-dependent acquisition","Data-independent acquisition"]},{name:"comment[scan window lower limit]",type:"comment",description:"Lower m/z limit of DIA scan window",category:"Technical Parameters",pattern:"^\\d+(\\.\\d+)?$",examples:["400","350.5"]},{name:"comment[scan window upper limit]",type:"comment",description:"Upper m/z limit of DIA scan window",category:"Technical Parameters",pattern:"^\\d+(\\.\\d+)?$",examples:["1200","1000.5"]},{name:"comment[isolation window width]",type:"comment",description:"Width of the isolation window in m/z units",category:"Technical Parameters",pattern:"^\\d+(\\.\\d+)?$",examples:["25","8","4"]},{name:"comment[MS2 mass analyzer]",type:"comment",description:"Mass analyzer used for MS2 acquisition",category:"Technical Parameters",ontologies:["ms"],examples:["orbitrap","ion trap","TOF"]},{name:"comment[depletion]",type:"comment",description:"Depletion method applied",category:"Sample Preparation"},{name:"comment[reduction reagent]",type:"comment",description:"Reduction reagent used",category:"Sample Preparation",examples:["DTT","TCEP"]},{name:"comment[alkylation reagent]",type:"comment",description:"Alkylation reagent used",category:"Sample Preparation",examples:["IAA","IAM","Chloroacetamide"]},{name:"comment[fractionation method]",type:"comment",description:"Fractionation method",category:"Sample Preparation",ontologies:["pride"],examples:["High-pH reversed-phase chromatography","SCX"]},{name:"comment[file uri]",type:"comment",description:"Public URI of the file",category:"File & Project Information",examples:["ftp://ftp.pride.ebi.ac.uk/pride/..."]},{name:"comment[proteomexchange accession number]",type:"comment",description:"ProteomeXchange accession",category:"File & Project Information",pattern:"^PXD\\d{6}$",examples:["PXD000001"]}];function Ji(t){return m0.find(e=>e.name.toLowerCase()===t.toLowerCase())}function Vp(t){return Ji(t)?.isRequired===!0}function Lp(t){return Ji(t)?.ontologies||[]}function hr(t){if(t.length===0)return"";let e=[...t].sort((i,s)=>i-s),n=[],r=e[0],o=e[0];for(let i=1;i<=e.length;i++)i<e.length&&e[i]===o+1?o=e[i]:(r===o?n.push(String(r)):o-r===1?(n.push(String(r)),n.push(String(o))):n.push(`${r}-${o}`),i<e.length&&(r=e[i],o=e[i]));return n.join(",")}function es(t){if(!t||t.trim()==="")return[];let e=[],n=t.split(",");for(let r of n){let o=r.trim();if(o.includes("-")){let[i,s]=o.split("-"),a=parseInt(i,10),l=parseInt(s,10);if(!isNaN(a)&&!isNaN(l))for(let c=a;c<=l;c++)e.push(c)}else{let i=parseInt(o,10);isNaN(i)||e.push(i)}}return[...new Set(e)].sort((r,o)=>r-o)}var y0={detectPools:!0,trimValues:!0,normalizeColumnNames:!0,delimiter:"	"},fo=class{parseFromContent(e,n={}){let r=O(O({},y0),n),o=performance.now(),i=[];try{let s=jp.default.parse(e,{delimiter:r.delimiter,header:!1,skipEmptyLines:!0,transformHeader:void 0});if(s.errors.length>0){let C=s.errors.filter(p=>p.type==="Quotes"||p.type==="FieldMismatch");if(C.length>0)return{success:!1,error:`Parse error: ${C[0].message}`,warnings:i,stats:{rowCount:0,columnCount:0,poolCount:0,parseTimeMs:0}};for(let p of s.errors)i.push(`Row ${p.row}: ${p.message}`)}let a=s.data;if(a.length===0)return{success:!1,error:"Empty file",warnings:i,stats:{rowCount:0,columnCount:0,poolCount:0,parseTimeMs:0}};let l=a[0],c=a.slice(1),u=this.buildTable(l,c,r,i),h=performance.now()-o;return{success:!0,table:u,warnings:i,stats:{rowCount:u.sampleCount,columnCount:u.columns.length,poolCount:u.pools.length,parseTimeMs:h}}}catch(s){return{success:!1,error:`Parse error: ${s instanceof Error?s.message:String(s)}`,warnings:i,stats:{rowCount:0,columnCount:0,poolCount:0,parseTimeMs:0}}}}parseFromUrl(r){return j(this,arguments,function*(e,n={}){try{let o=yield fetch(e);if(!o.ok)return{success:!1,error:`Failed to fetch: ${o.status} ${o.statusText}`,warnings:[],stats:{rowCount:0,columnCount:0,poolCount:0,parseTimeMs:0}};let i=yield o.text(),s=this.parseFromContent(i,n);return s.success&&s.table&&(s.table.metadata=re(O({},s.table.metadata),{sourceUrl:e})),s}catch(o){return{success:!1,error:`Fetch error: ${o instanceof Error?o.message:String(o)}`,warnings:[],stats:{rowCount:0,columnCount:0,poolCount:0,parseTimeMs:0}}}})}parseFromFile(r){return j(this,arguments,function*(e,n={}){return new Promise(o=>{let i=new FileReader;i.onload=s=>{let a=s.target?.result,l=this.parseFromContent(a,n);l.success&&l.table&&(l.table.metadata=re(O({},l.table.metadata),{filename:e.name})),o(l)},i.onerror=()=>{o({success:!1,error:`File read error: ${i.error?.message||"Unknown error"}`,warnings:[],stats:{rowCount:0,columnCount:0,poolCount:0,parseTimeMs:0}})},i.readAsText(e)})})}buildTable(e,n,r,o){let i=Fp(n.length),s=new Map;return e.forEach((a,l)=>{let c=r.normalizeColumnNames?a.toLowerCase().trim():a.trim(),u=(s.get(c)||0)+1;s.set(c,u),u>1&&o.push(`Duplicate column name: "${c}" (occurrence ${u})`);let h=this.createColumn(c,l,n,r);i.columns.push(h)}),r.detectPools&&(i.pools=this.detectPools(i.columns,n,o)),i.metadata=re(O({},i.metadata),{loadedAt:new Date,modifiedAt:new Date}),i}createColumn(e,n,r,o){let i=new Map,s=!1,a=!1;r.forEach((p,b)=>{let I=p[n]||"";o.trimValues&&(I=I.trim());let U=I.toLowerCase();if(U==="not applicable"&&(s=!0),U==="not available"&&(a=!0),I==="")return;let ne=b+1;i.has(I)||i.set(I,[]),i.get(I).push(ne)});let l="",c=0;for(let[p,b]of i)b.length>c&&(c=b.length,l=p);let u=[];for(let[p,b]of i)p!==l&&u.push({samples:hr(b),value:p});let h=kp(e),C=Ji(e);return{name:e,type:h,value:l,modifiers:u,columnPosition:n,isRequired:Vp(e),ontologyType:C?.ontologies?.[0],ontologyOptions:Lp(e),notApplicable:s,notAvailable:a}}detectPools(e,n,r){let o=[],i=e.findIndex(c=>c.name.includes("pooled sample"));if(i===-1)return o;let s=e.findIndex(c=>c.name==="source name"),a=[],l=[];n.forEach((c,u)=>{let h=c[i]?.trim()||"";h.startsWith("SN=")?a.push({rowIndex:u,row:c,value:h}):h.toLowerCase()==="pooled"&&l.push(u+1)});for(let c of a){let u=c.value.substring(3).split(",").map(b=>b.trim()).filter(b=>b),h=s!==-1?c.row[s]?.trim()||`Pool ${o.length+1}`:`Pool ${o.length+1}`,C=[],p=[];s!==-1&&n.forEach((b,I)=>{let U=b[s]?.trim()||"";if(u.includes(U)){let ne=b[i]?.trim().toLowerCase()||"";ne==="not pooled"||ne===""||ne==="independent"?p.push(I+1):ne.startsWith("sn=")||C.push(I+1)}}),o.push({poolName:h,pooledOnlySamples:C,pooledAndIndependentSamples:p,isReference:!0,sdrfValue:c.value})}if(a.length===0&&l.length>0){let c=[];if(s!==-1)for(let h of l){let p=n[h-1][s]?.trim()||"";p&&c.push(p)}let u=c.length>0?`SN=${c.join(",")}`:"";o.push({poolName:"Pool 1",pooledOnlySamples:l,pooledAndIndependentSamples:[],isReference:!1,sdrfValue:u})}return o}},aI=new fo;function Bp(){return{isValid:!0,errors:[],warnings:[],info:[],summary:{errorCount:0,warningCount:0,infoCount:0,columnsValidated:0,samplesValidated:0,ontologyValidated:!1},timestamp:new Date}}function mn(t,e,n){return O({type:"error",code:t,message:e},n)}function qt(t,e,n){return O({type:"warning",code:t,message:e},n)}var v0={baseUrl:"https://www.ebi.ac.uk/ols4/api",defaultRows:10,cacheTtlMs:5*60*1e3,timeoutMs:1e4,enableCache:!0},On=class{config;cache=new Map;constructor(e={}){this.config=O(O({},v0),e)}search(e){return j(this,null,function*(){let n=e.query?.trim()||"";if(n.length<2)return{suggestions:[],totalCount:0,hasMore:!1,query:n,ontologies:e.ontology||[]};let r=this.getCacheKey(e);if(this.config.enableCache){let o=this.getFromCache(r);if(o)return{suggestions:o,totalCount:o.length,hasMore:o.length>=(e.rows||this.config.defaultRows),query:n,ontologies:e.ontology||[]}}try{let o=this.buildSearchUrl(e),i=yield this.fetchWithTimeout(o);if(!i.ok)throw new Error(`OLS API error: ${i.status} ${i.statusText}`);let s=yield i.json(),a=this.mapOlsResponse(s,e);return this.config.enableCache&&this.addToCache(r,a),{suggestions:a,totalCount:s.response?.numFound||a.length,hasMore:(s.response?.numFound||0)>a.length,query:n,ontologies:e.ontology||[]}}catch(o){return console.error("OLS search error:",o),{suggestions:[],totalCount:0,hasMore:!1,query:n,ontologies:e.ontology||[]}}})}searchOrganism(e,n){return j(this,null,function*(){return(yield this.search({query:e,ontology:["ncbitaxon"],rows:n||15})).suggestions})}searchDisease(e,n){return j(this,null,function*(){return(yield this.search({query:e,ontology:["efo","mondo","doid"],rows:n||15})).suggestions})}searchCellType(e,n){return j(this,null,function*(){return(yield this.search({query:e,ontology:["cl","bto"],rows:n||15})).suggestions})}searchTissue(e,n){return j(this,null,function*(){return(yield this.search({query:e,ontology:["uberon","bto"],rows:n||15})).suggestions})}searchInstrument(e,n){return j(this,null,function*(){return(yield this.search({query:e,ontology:["ms"],rows:n||15})).suggestions})}searchPride(e,n){return j(this,null,function*(){return(yield this.search({query:e,ontology:["pride"],rows:n||15})).suggestions})}validateTerm(e,n){return j(this,null,function*(){return!e||e.trim()===""?!1:(yield this.search({query:e,ontology:n,exact:!0,rows:1})).suggestions.length>0})}getTermByIri(e){return j(this,null,function*(){try{let n=encodeURIComponent(encodeURIComponent(e)),r=`${this.config.baseUrl}/terms/${n}`,o=yield this.fetchWithTimeout(r);if(!o.ok)return null;let i=yield o.json();return{id:i.obo_id||i.short_form||"",label:i.label||"",iri:i.iri||e,ontologyPrefix:i.ontology_prefix||"",description:i.description?.[0]||"",synonyms:i.synonyms||[]}}catch{return null}})}clearCache(){this.cache.clear()}getCacheStats(){let e=0;for(let n of this.cache.values())e+=JSON.stringify(n.value).length;return{size:e,entries:this.cache.size}}buildSearchUrl(e){let n=new URLSearchParams;if(n.set("q",e.query),n.set("rows",String(e.rows||this.config.defaultRows)),e.ontology&&e.ontology.length>0)for(let r of e.ontology)n.append("ontology",r.toLowerCase());return e.exact&&n.set("exact","true"),e.type&&n.set("type",e.type),n.set("fieldList","id,iri,short_form,obo_id,label,description,ontology_prefix,synonym"),n.set("queryFields","label,synonym,short_form,obo_id"),n.set("highlight","true"),`${this.config.baseUrl}/select?${n.toString()}`}mapOlsResponse(e,n){return(e.response?.docs||[]).map(o=>({id:o.obo_id||o.short_form||o.id||"",label:o.label||"",iri:o.iri||"",ontologyPrefix:o.ontology_prefix||"",description:o.description?.[0]||"",synonyms:o.synonym||[],isExactMatch:n.exact||o.label?.toLowerCase()===n.query.toLowerCase()}))}getCacheKey(e){return JSON.stringify({query:e.query.toLowerCase(),ontology:e.ontology?.sort()||[],exact:e.exact||!1,rows:e.rows||this.config.defaultRows,type:e.type})}getFromCache(e){let n=this.cache.get(e);return n?Date.now()-n.timestamp>this.config.cacheTtlMs?(this.cache.delete(e),null):n.value:null}addToCache(e,n){if(this.cache.set(e,{value:n,timestamp:Date.now()}),this.cache.size>1e3){let r=this.cache.keys().next().value;r&&this.cache.delete(r)}}fetchWithTimeout(e){return j(this,null,function*(){let n=new AbortController,r=setTimeout(()=>n.abort(),this.config.timeoutMs);try{return yield fetch(e,{signal:n.signal,headers:{Accept:"application/json"}})}finally{clearTimeout(r)}})}},fI=new On;var gr={collisionEnergy:/^\d+(\.\d+)?%? (NCE|eV)(;\d+(\.\d+)?%? (NCE|eV))*$|^not available$/,age:/^(\d+Y)?(\d+M)?(\d+D)?(-(\d+Y)?(\d+M)?(\d+D)?)?$|^not available$|^not applicable$/,massTolerance:/^\d+(\.\d+)?\s*(ppm|Da)$|^not available$|^not applicable$/,scanWindowLimit:/^\d+(\.\d+)?$|^not available$|^not applicable$/,pxdAccession:/^PXD\d{6}$/},Hp=["source name","characteristics[organism]","characteristics[disease]","characteristics[organism part]","assay name","technology type","comment[label]","comment[data file]","comment[instrument]","comment[modification parameters]","comment[cleavage agent details]"],_0={"characteristics[organism]":["ncbitaxon"],"characteristics[disease]":["efo","mondo","doid"],"characteristics[cell type]":["cl","bto"],"characteristics[organism part]":["uberon","bto"],"characteristics[cell line]":["clo","bto"],"comment[instrument]":["ms"],"comment[dissociation method]":["ms","pride"],"comment[fractionation method]":["pride"]},po=class{olsService;constructor(e){this.olsService=e||new On}validate(r){return j(this,arguments,function*(e,n={}){let o=Bp();o.options=n;let i=[],s=[],a=this.validateRequiredColumns(e);i.push(...a);for(let u of e.columns){if(n.skipColumns?.includes(u.name))continue;let h=this.validateColumnFormat(u,e.sampleCount);i.push(...h.filter(C=>C.type==="error")),s.push(...h.filter(C=>C.type==="warning"))}if(n.validateOntology!==!1){let u=yield this.validateOntologyTerms(e,n);s.push(...u)}let l=this.validatePools(e);i.push(...l.filter(u=>u.type==="error")),s.push(...l.filter(u=>u.type==="warning"));let c=this.validateStructure(e);return i.push(...c.filter(u=>u.type==="error")),s.push(...c.filter(u=>u.type==="warning")),o.errors=i,o.warnings=s,o.isValid=i.length===0,o.timestamp=new Date,o.summary={errorCount:i.length,warningCount:s.length,infoCount:0,columnsValidated:e.columns.length,samplesValidated:e.sampleCount,ontologyValidated:n.validateOntology!==!1},n.strictMode&&s.length>0&&(o.isValid=!1),o})}validateRequiredColumns(e){let n=[],r=new Set(e.columns.map(o=>o.name.toLowerCase()));for(let o of Hp)r.has(o.toLowerCase())||n.push(mn("MISSING_REQUIRED_COLUMN",`Required column '${o}' is missing`,{column:o}));return n}validateColumnFormat(e,n){let r=[],o=e.name.toLowerCase(),i=this.getUniqueValuesToValidate(e);if(o.includes("collision energy"))for(let s of i)s&&!gr.collisionEnergy.test(s)&&r.push(mn("INVALID_COLLISION_ENERGY",`Invalid collision energy format: '${s}'. Expected: {value} {unit} (e.g., '30 NCE', '25% NCE;27% NCE')`,{column:e.name,value:s}));else if(o==="characteristics[age]")for(let s of i)s&&!gr.age.test(s)&&r.push(qt("INVALID_AGE_FORMAT",`Non-standard age format: '${s}'. Expected: XY[XM][XD] (e.g., '30Y', '30Y6M', '25Y-35Y')`,{column:e.name,value:s}));else if(o.includes("mass tolerance")||o.includes("precursor mass tolerance")||o.includes("fragment mass tolerance"))for(let s of i)s&&!gr.massTolerance.test(s)&&r.push(mn("INVALID_MASS_TOLERANCE",`Invalid mass tolerance format: '${s}'. Expected: {value} {unit} (e.g., '10 ppm', '0.02 Da')`,{column:e.name,value:s}));else if(o.includes("scan window lower limit")||o.includes("scan window upper limit")||o.includes("isolation window width"))for(let s of i)s&&!gr.scanWindowLimit.test(s)&&r.push(qt("INVALID_PATTERN",`Invalid numeric format: '${s}'. Expected: numeric value`,{column:e.name,value:s}));else if(o==="comment[modification parameters]"){for(let s of i)if(s&&s!=="not available"){let a=this.validateModificationFormat(s,e.name);r.push(...a)}}else if(o==="comment[cleavage agent details]"){for(let s of i)if(s&&s!=="not available"){let a=this.validateCleavageFormat(s,e.name);r.push(...a)}}else if(o==="comment[proteomexchange accession number]")for(let s of i)s&&!gr.pxdAccession.test(s)&&r.push(qt("INVALID_PATTERN",`Invalid ProteomeXchange accession: '${s}'. Expected format: PXD000000`,{column:e.name,value:s}));return e.isRequired&&!e.value&&e.modifiers.length===0&&r.push(mn("EMPTY_REQUIRED_VALUE",`Required column '${e.name}' has no values`,{column:e.name})),r}validateModificationFormat(e,n){let r=[],o=e.split(";"),i=[];for(let s of o){let a=s.split("=");a.length>=2&&i.push(a[0].trim())}return i.includes("NT")||r.push(qt("INVALID_MODIFICATION_FORMAT",`Modification missing NT (Name of Term): '${e}'`,{column:n,value:e,suggestion:"Add NT=<modification name>"})),i.includes("TA")||r.push(qt("INVALID_MODIFICATION_FORMAT",`Modification missing TA (Target Amino acid): '${e}'`,{column:n,value:e,suggestion:"Add TA=<amino acid>"})),r}validateCleavageFormat(e,n){let r=[],o=e.split(";"),i=[];for(let s of o){let a=s.split("=");a.length>=2&&i.push(a[0].trim())}return i.includes("NT")||r.push(qt("INVALID_CLEAVAGE_FORMAT",`Cleavage agent missing NT (Name of Term): '${e}'`,{column:n,value:e,suggestion:"Add NT=<enzyme name>"})),r}validateOntologyTerms(e,n){return j(this,null,function*(){let r=[],o=new Set;for(let i of e.columns){let s=_0[i.name.toLowerCase()];if(!s)continue;let a=this.getUniqueValuesToValidate(i);for(let l of a){if(!l)continue;let c=l.toLowerCase();if(c==="not applicable"||c==="not available")continue;let u=`${i.name}:${l}`;if(!o.has(u)){o.add(u);try{(yield this.olsService.validateTerm(l,s))||r.push(qt("ONTOLOGY_TERM_NOT_FOUND",`Term '${l}' not found in ${s.join("/")} ontologies`,{column:i.name,value:l}))}catch{}}}}return r})}validatePools(e){let n=[];for(let r of e.pools){let o=[...r.pooledOnlySamples,...r.pooledAndIndependentSamples];for(let i of o)(i<1||i>e.sampleCount)&&n.push(mn("POOL_SAMPLE_NOT_FOUND",`Pool '${r.poolName}' references non-existent sample ${i}`,{value:r.poolName}));o.length===0&&n.push(qt("INVALID_POOL_REFERENCE",`Pool '${r.poolName}' has no samples`,{value:r.poolName}))}return n}validateStructure(e){let n=[],r=new Map;for(let o of e.columns){let i=o.name.toLowerCase(),s=(r.get(i)||0)+1;r.set(i,s),s>1&&!i.includes("modification parameters")&&n.push(qt("DUPLICATE_COLUMN_NAME",`Duplicate column name: '${o.name}' (occurrence ${s})`,{column:o.name}))}return e.columns.length===0&&n.push(mn("UNKNOWN_ERROR","Table has no columns",{})),e.sampleCount===0&&n.push(mn("UNKNOWN_ERROR","Table has no samples",{})),n}getUniqueValuesToValidate(e){let n=new Set;e.value&&n.add(e.value);for(let r of e.modifiers)r.value&&n.add(r.value);return Array.from(n)}validatePattern(e,n){return n.test(e)}getValidationPatterns(){return O({},gr)}getRequiredColumns(){return[...Hp]}},CI=new po;var $p={includePools:!0,lineEnding:"unix",includeBom:!1},ho=class{exportToTsv(e,n={}){let r=O(O({},$p),n),o=[],i=r.lineEnding==="windows"?`\r
`:`
`,s=e.columns.map(c=>c.name);o.push(s.join("	"));let a=hc(e);for(let c of a)o.push(c.join("	"));if(r.includePools&&e.pools.length>0){for(let c of e.pools)if(c.sdrfValue){let u=this.createPoolRow(e,c);o.push(u.join("	"))}}let l=o.join(i);return r.includeBom&&(l="\uFEFF"+l),l}exportToTsvBlob(e,n={}){let r=this.exportToTsv(e,n);return new Blob([r],{type:"text/tab-separated-values;charset=utf-8"})}downloadTsv(e,n="sdrf.tsv",r={}){let o=this.exportToTsvBlob(e,r);this.downloadBlob(o,n)}exportToExcel(r){return j(this,arguments,function*(e,n={}){let o=yield this.loadXlsx(),i=O(O({},$p),n),s=o.utils.book_new(),a=e.columns.map(b=>b.name),l=hc(e),c=[a,...l],u=o.utils.aoa_to_sheet(c);o.utils.book_append_sheet(s,u,"main");let h=[["id","column","name","type","hidden"],...e.columns.map((b,I)=>[I,I,b.name,b.type,b.hidden||!1])],C=o.utils.aoa_to_sheet(h);if(o.utils.book_append_sheet(s,C,"id_metadata_column_map"),i.includePools&&e.pools.length>0){let b=[["pool_name","pooled_only_samples","pooled_and_independent_samples","is_reference"],...e.pools.map(U=>[U.poolName,JSON.stringify(U.pooledOnlySamples),JSON.stringify(U.pooledAndIndependentSamples),U.isReference])],I=o.utils.aoa_to_sheet(b);o.utils.book_append_sheet(s,I,"pool_object_map")}let p=o.write(s,{bookType:"xlsx",type:"array"});return new Blob([p],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"})})}downloadExcel(o){return j(this,arguments,function*(e,n="sdrf.xlsx",r={}){let i=yield this.exportToExcel(e,r);this.downloadBlob(i,n)})}createPoolRow(e,n){let r=[];for(let o of e.columns){let i=o.name.toLowerCase();if(i==="source name")r.push(n.poolName);else if(i.includes("pooled sample"))r.push(n.sdrfValue);else{let s=n.metadata?.find(a=>a.name.toLowerCase()===i);r.push(s?.value||"")}}return r}downloadBlob(e,n){let r=URL.createObjectURL(e),o=document.createElement("a");o.href=r,o.download=n,document.body.appendChild(o),o.click(),document.body.removeChild(o),URL.revokeObjectURL(r)}loadXlsx(){return j(this,null,function*(){return yield import("./chunk-O7F555VW.js")})}},MI=new ho;function Up(t,e,n){if(n===t.value){t.modifiers=t.modifiers.map(o=>{let s=es(o.samples).filter(a=>a!==e);return s.length===0?null:re(O({},o),{samples:hr(s)})}).filter(o=>o!==null);return}let r=t.modifiers.find(o=>o.value===n);if(r){let o=es(r.samples);o.includes(e)||(o.push(e),r.samples=hr(o))}else t.modifiers.push({samples:String(e),value:n});for(let o of t.modifiers)if(o.value!==n){let s=es(o.samples).filter(a=>a!==e);if(s.length===0){let a=t.modifiers.indexOf(o);t.modifiers.splice(a,1)}else o.samples=hr(s)}}var C0={age:/^characteristics\[age\]$/i,modification:/^comment\[modification parameters\]$/i,cleavage:/^comment\[cleavage agent details\]$/i,spiked_compound:/^characteristics\[spiked compound\]$/i,pooled_sample:/^characteristics\[pooled sample\]$/i,synthetic_peptide:/^characteristics\[synthetic peptide\]$/i},zp=["NT","AC","CF","MT","PP","TA","MM","TS"],Gp=["NT","AC","CS"],Wp=["SP","CT","QY","PS","AC","CN","CV","CS","CF"],b0=["not pooled","pooled"],qp=["synthetic","not synthetic"],At=class{detectSpecialSyntax(e,n){let r=e.toLowerCase(),o=n?.toLowerCase()||"";for(let[i,s]of Object.entries(C0))if(s.test(r)||s.test(o))return i;return null}parseValue(e,n){if(!n||n.trim()==="")return null;try{switch(e){case"age":return this.parseAgeFormat(n);case"modification":return this.parseKeyValuePairs(n,zp);case"cleavage":return this.parseKeyValuePairs(n,Gp);case"spiked_compound":return this.parseKeyValuePairs(n,Wp);case"pooled_sample":return this.parsePooledSample(n);case"synthetic_peptide":return{value:n.toLowerCase().trim()};default:throw new Error(`Unknown syntax type: ${e}`)}}catch(r){return console.error(`Error parsing ${e} value:`,r),null}}formatValue(e,n){if(!n)return"";try{switch(e){case"age":return this.formatAgeFormat(n);case"modification":case"cleavage":case"spiked_compound":return this.formatKeyValuePairs(n);case"pooled_sample":return this.formatPooledSample(n);case"synthetic_peptide":return n.value||"";default:throw new Error(`Unknown syntax type: ${e}`)}}catch(r){return console.error(`Error formatting ${e} value:`,r),""}}validateValue(e,n){let r={isValid:!0,errors:[],warnings:[]};if(!n)return r.isValid=!1,r.errors.push("Value is required"),r;try{switch(e){case"age":return this.validateAgeFormat(n);case"modification":return this.validateModificationParameters(n);case"cleavage":return this.validateCleavageAgentDetails(n);case"spiked_compound":return this.validateSpikedCompound(n);case"pooled_sample":return this.validatePooledSample(n);case"synthetic_peptide":return this.validateSyntheticPeptide(n);default:r.isValid=!1,r.errors.push(`Unknown syntax type: ${e}`)}}catch(o){r.isValid=!1,r.errors.push(`Validation error: ${o}`)}return r}parseAgeFormat(e){let n=e.trim();if(n.includes("-")&&!n.startsWith("-")){let r=n.split("-");if(r.length===2)return{isRange:!0,rangeStart:this.parseSingleAge(r[0].trim()),rangeEnd:this.parseSingleAge(r[1].trim())}}return this.parseSingleAge(n)}parseSingleAge(e){let n={},r=e.match(/(\d+)Y/i),o=e.match(/(\d+)M/i),i=e.match(/(\d+)D/i);return r&&(n.years=parseInt(r[1],10)),o&&(n.months=parseInt(o[1],10)),i&&(n.days=parseInt(i[1],10)),n}formatAgeFormat(e){return e.isRange&&e.rangeStart&&e.rangeEnd?`${this.formatSingleAge(e.rangeStart)}-${this.formatSingleAge(e.rangeEnd)}`:this.formatSingleAge(e)}formatSingleAge(e){let n="";return e.years!==void 0&&e.years>0&&(n+=`${e.years}Y`),e.months!==void 0&&e.months>0&&(n+=`${e.months}M`),e.days!==void 0&&e.days>0&&(n+=`${e.days}D`),n}validateAgeFormat(e){let n={isValid:!0,errors:[],warnings:[]};if(e.isRange){if(!e.rangeStart||!e.rangeEnd)return n.isValid=!1,n.errors.push("Range format requires both start and end values"),n;let r=this.validateSingleAge(e.rangeStart),o=this.validateSingleAge(e.rangeEnd);r.isValid||(n.isValid=!1,n.errors.push(...r.errors.map(i=>`Range start: ${i}`))),o.isValid||(n.isValid=!1,n.errors.push(...o.errors.map(i=>`Range end: ${i}`)))}else{let r=this.validateSingleAge(e);r.isValid||(n.isValid=!1,n.errors.push(...r.errors))}return n}validateSingleAge(e){let n={isValid:!0,errors:[]};return e.years===void 0&&e.months===void 0&&e.days===void 0&&(n.isValid=!1,n.errors.push("At least one age component (years, months, or days) is required")),e.years!==void 0&&(e.years<0||e.years>200)&&(n.isValid=!1,n.errors.push("Years must be between 0 and 200")),e.months!==void 0&&(e.months<0||e.months>11)&&(n.isValid=!1,n.errors.push("Months must be between 0 and 11")),e.days!==void 0&&(e.days<0||e.days>31)&&(n.isValid=!1,n.errors.push("Days must be between 0 and 31")),n}parseKeyValuePairs(e,n){let r={},o=e.split(";").map(i=>i.trim()).filter(i=>i);for(let i of o){let[s,...a]=i.split("="),l=s?.trim(),c=a.join("=").trim();l&&n.includes(l)&&(r[l]=c)}return r}formatKeyValuePairs(e){let n=[];for(let[r,o]of Object.entries(e))o!=null&&o!==""&&n.push(`${r}=${o}`);return n.join(";")}validateModificationParameters(e){let n={isValid:!0,errors:[],warnings:[]};return Object.values(e).some(o=>o!==void 0&&o!=="")||(n.isValid=!1,n.errors.push("At least one modification parameter is required")),e.NT||n.warnings?.push("NT (Name of Term) is recommended"),e.TA||n.warnings?.push("TA (Target Amino acid) is recommended"),e.PP&&!/^\d+$/.test(e.PP)&&(["Anywhere","Protein N-term","Protein C-term","Any N-term","Any C-term"].some(i=>i.toLowerCase()===e.PP?.toLowerCase())||n.warnings?.push("PP (position) should be a number or standard position term")),e.MM&&!/^-?\d+(\.\d+)?$/.test(e.MM)&&(n.errors.push("MM (monoisotopic mass) must be a valid number"),n.isValid=!1),n}validateCleavageAgentDetails(e){let n={isValid:!0,errors:[],warnings:[]};return Object.values(e).some(o=>o!==void 0&&o!=="")||(n.isValid=!1,n.errors.push("At least one cleavage agent detail is required")),e.NT||n.warnings?.push("NT (Name of Term) is recommended"),n}validateSpikedCompound(e){let n={isValid:!0,errors:[],warnings:[]};return Object.values(e).some(o=>o!==void 0&&o!=="")||(n.isValid=!1,n.errors.push("At least one spiked compound parameter is required")),e.QY&&!/^\d+(\.\d+)?\s*(mg|g|kg|g|ng|pg|M|mM|M|nM|pM|fmol|pmol|nmol)?$/i.test(e.QY)&&n.warnings?.push("QY (quantity) format may not be standard - consider using standard units"),n}parsePooledSample(e){let n=e.trim(),r=n.toLowerCase();if(r==="not pooled"||r==="pooled")return{value:r};if(n.startsWith("SN=")){let o=n.substring(3).split(",").map(i=>i.trim()).filter(i=>i);return{value:n,sourceNames:o}}return{value:n}}formatPooledSample(e){return e.sourceNames&&e.sourceNames.length>0?`SN=${e.sourceNames.join(",")}`:e.value}validatePooledSample(e){let n={isValid:!0,errors:[],warnings:[]},r=e.value.toLowerCase();return r!=="not pooled"&&r!=="pooled"&&!e.value.startsWith("SN=")&&n.warnings?.push('Pooled sample should be "not pooled", "pooled", or use SN= format'),e.value.startsWith("SN=")&&(!e.sourceNames||e.sourceNames.length===0)&&(n.isValid=!1,n.errors.push("SN= format requires at least one source name")),n}validateSyntheticPeptide(e){let n={isValid:!0,errors:[],warnings:[]};return qp.includes(e.value.toLowerCase())||n.warnings?.push('Synthetic peptide should be "synthetic" or "not synthetic"'),n}getPooledSampleValues(){return[...b0]}getSyntheticPeptideValues(){return[...qp]}getModificationKeys(){return[...zp]}getCleavageKeys(){return[...Gp]}getSpikedCompoundKeys(){return[...Wp]}},RI=new At;function w0(t,e){if(t&1){let n=F();f(0,"div",3)(1,"div",8)(2,"label"),m(3,"From:"),d(),f(4,"div",9)(5,"input",10),w("ngModelChange",function(o){E(n);let i=_();return M(i.updateStartYears(o))}),d(),f(6,"span"),m(7,"Y"),d(),f(8,"input",11),w("ngModelChange",function(o){E(n);let i=_();return M(i.updateStartMonths(o))}),d(),f(9,"span"),m(10,"M"),d(),f(11,"input",12),w("ngModelChange",function(o){E(n);let i=_();return M(i.updateStartDays(o))}),d(),f(12,"span"),m(13,"D"),d()()(),f(14,"div",8)(15,"label"),m(16,"To:"),d(),f(17,"div",9)(18,"input",10),w("ngModelChange",function(o){E(n);let i=_();return M(i.updateEndYears(o))}),d(),f(19,"span"),m(20,"Y"),d(),f(21,"input",11),w("ngModelChange",function(o){E(n);let i=_();return M(i.updateEndMonths(o))}),d(),f(22,"span"),m(23,"M"),d(),f(24,"input",12),w("ngModelChange",function(o){E(n);let i=_();return M(i.updateEndDays(o))}),d(),f(25,"span"),m(26,"D"),d()()()()}if(t&2){let n=_();g(5),N("ngModel",n.startYears()),g(3),N("ngModel",n.startMonths()),g(3),N("ngModel",n.startDays()),g(7),N("ngModel",n.endYears()),g(3),N("ngModel",n.endMonths()),g(3),N("ngModel",n.endDays())}}function D0(t,e){if(t&1){let n=F();f(0,"div",4)(1,"div",9)(2,"input",13),w("ngModelChange",function(o){E(n);let i=_();return M(i.updateYears(o))}),d(),f(3,"span"),m(4,"Y"),d(),f(5,"input",14),w("ngModelChange",function(o){E(n);let i=_();return M(i.updateMonths(o))}),d(),f(6,"span"),m(7,"M"),d(),f(8,"input",15),w("ngModelChange",function(o){E(n);let i=_();return M(i.updateDays(o))}),d(),f(9,"span"),m(10,"D"),d()()()}if(t&2){let n=_();g(2),N("ngModel",n.years()),g(3),N("ngModel",n.months()),g(3),N("ngModel",n.days())}}function E0(t,e){if(t&1&&(f(0,"span",16),m(1),d()),t&2){let n=e.$implicit;g(),X(n)}}function M0(t,e){if(t&1&&(f(0,"div",7),he(1,E0,2,1,"span",16,Nt),d()),t&2){let n=_();g(),ge(n.validationErrors())}}var ts=class t{value="";valueChange=new G;syntaxService=new At;years=x(null);months=x(null);days=x(null);isRange=x(!1);startYears=x(null);startMonths=x(null);startDays=x(null);endYears=x(null);endMonths=x(null);endDays=x(null);validationErrors=x([]);formattedValue=ve(()=>{if(this.isRange()){let e=this.formatSingleAge(this.startYears(),this.startMonths(),this.startDays()),n=this.formatSingleAge(this.endYears(),this.endMonths(),this.endDays());return e&&n?`${e}-${n}`:""}else return this.formatSingleAge(this.years(),this.months(),this.days())});ngOnInit(){this.parseValue()}ngOnChanges(e){e.value&&!e.value.firstChange&&this.parseValue()}parseValue(){if(!this.value){this.resetFields();return}let e=this.syntaxService.parseValue("age",this.value);if(!e){this.resetFields();return}e.isRange&&e.rangeStart&&e.rangeEnd?(this.isRange.set(!0),this.startYears.set(e.rangeStart.years??null),this.startMonths.set(e.rangeStart.months??null),this.startDays.set(e.rangeStart.days??null),this.endYears.set(e.rangeEnd.years??null),this.endMonths.set(e.rangeEnd.months??null),this.endDays.set(e.rangeEnd.days??null)):(this.isRange.set(!1),this.years.set(e.years??null),this.months.set(e.months??null),this.days.set(e.days??null))}resetFields(){this.years.set(null),this.months.set(null),this.days.set(null),this.startYears.set(null),this.startMonths.set(null),this.startDays.set(null),this.endYears.set(null),this.endMonths.set(null),this.endDays.set(null)}toggleRange(){this.isRange.set(!this.isRange()),this.emitValue()}updateYears(e){this.years.set(e),this.emitValue()}updateMonths(e){this.months.set(e),this.emitValue()}updateDays(e){this.days.set(e),this.emitValue()}updateStartYears(e){this.startYears.set(e),this.emitValue()}updateStartMonths(e){this.startMonths.set(e),this.emitValue()}updateStartDays(e){this.startDays.set(e),this.emitValue()}updateEndYears(e){this.endYears.set(e),this.emitValue()}updateEndMonths(e){this.endMonths.set(e),this.emitValue()}updateEndDays(e){this.endDays.set(e),this.emitValue()}formatSingleAge(e,n,r){let o="";return e!==null&&e>0&&(o+=`${e}Y`),n!==null&&n>0&&(o+=`${n}M`),r!==null&&r>0&&(o+=`${r}D`),o}emitValue(){let e=this.formattedValue();this.validate(e),this.valueChange.emit(e)}validate(e){if(!e){this.validationErrors.set([]);return}let n=this.syntaxService.parseValue("age",e);if(n){let r=this.syntaxService.validateValue("age",n);this.validationErrors.set(r.errors)}else this.validationErrors.set(["Invalid age format"])}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=Te({type:t,selectors:[["sdrf-age-input"]],inputs:{value:"value"},outputs:{valueChange:"valueChange"},features:[Qe],decls:13,vars:4,consts:[[1,"age-input-container"],[1,"age-mode-toggle"],["type","checkbox",3,"change","checked"],[1,"age-range"],[1,"age-single"],[1,"age-preview"],[1,"label"],[1,"validation-errors"],[1,"age-group"],[1,"age-fields"],["type","number","min","0","max","200","placeholder","Y",1,"age-field",3,"ngModelChange","ngModel"],["type","number","min","0","max","11","placeholder","M",1,"age-field",3,"ngModelChange","ngModel"],["type","number","min","0","max","31","placeholder","D",1,"age-field",3,"ngModelChange","ngModel"],["type","number","min","0","max","200","placeholder","Years",1,"age-field",3,"ngModelChange","ngModel"],["type","number","min","0","max","11","placeholder","Months",1,"age-field",3,"ngModelChange","ngModel"],["type","number","min","0","max","31","placeholder","Days",1,"age-field",3,"ngModelChange","ngModel"],[1,"error"]],template:function(n,r){n&1&&(f(0,"div",0)(1,"div",1)(2,"label")(3,"input",2),w("change",function(){return r.toggleRange()}),d(),m(4," Age Range "),d()(),k(5,w0,27,6,"div",3)(6,D0,11,3,"div",4),f(7,"div",5)(8,"span",6),m(9,"Output:"),d(),f(10,"code"),m(11),d()(),k(12,M0,3,0,"div",7),d()),n&2&&(g(3),N("checked",r.isRange()),g(2),P(r.isRange()?5:6),g(6),X(r.formattedValue()||"(empty)"),g(),P(r.validationErrors().length>0?12:-1))},dependencies:[Ne,Oe,Me,lo,Ae,uo,co,xe],styles:[".age-input-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:12px;padding:12px;border:1px solid #ddd;border-radius:4px;background:#fafafa}.age-mode-toggle[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:flex;align-items:center;gap:6px;font-size:13px;cursor:pointer}.age-range[_ngcontent-%COMP%], .age-single[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:8px}.age-group[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px}.age-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{min-width:40px;font-size:13px;font-weight:500}.age-fields[_ngcontent-%COMP%]{display:flex;align-items:center;gap:4px}.age-field[_ngcontent-%COMP%]{width:60px;padding:6px 8px;border:1px solid #ccc;border-radius:4px;font-size:13px;text-align:center}.age-field[_ngcontent-%COMP%]:focus{outline:none;border-color:#2196f3;box-shadow:0 0 0 2px #2196f333}.age-fields[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:12px;color:#666;min-width:12px}.age-preview[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;padding:8px;background:#fff;border:1px solid #e0e0e0;border-radius:4px}.age-preview[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{font-size:12px;color:#666}.age-preview[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]{font-family:monospace;font-size:13px;color:#333}.validation-errors[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:4px}.validation-errors[_ngcontent-%COMP%]   .error[_ngcontent-%COMP%]{font-size:12px;color:#d32f2f}"]})};var x0=[{accession:"UNIMOD:4",name:"Carbamidomethyl",deltaMonoMass:57.021464,deltaComposition:"H3C2NO",sites:["C"],positions:["Anywhere"],specifications:[{site:"C",position:"Anywhere",classification:"Chemical derivatization",hidden:!1}]},{accession:"UNIMOD:35",name:"Oxidation",deltaMonoMass:15.994915,deltaComposition:"O",sites:["M","W","H","C","P","F","Y"],positions:["Anywhere"],specifications:[{site:"M",position:"Anywhere",classification:"Post-translational",hidden:!1},{site:"W",position:"Anywhere",classification:"Post-translational",hidden:!1},{site:"H",position:"Anywhere",classification:"Post-translational",hidden:!0}]},{accession:"UNIMOD:1",name:"Acetyl",deltaMonoMass:42.010565,deltaComposition:"H2C2O",sites:["K","N-term"],positions:["Protein N-term","Any N-term","Anywhere"],specifications:[{site:"K",position:"Anywhere",classification:"Post-translational",hidden:!1},{site:"N-term",position:"Protein N-term",classification:"Post-translational",hidden:!1}]},{accession:"UNIMOD:21",name:"Phospho",deltaMonoMass:79.966331,deltaComposition:"HO3P",sites:["S","T","Y","H","D"],positions:["Anywhere"],specifications:[{site:"S",position:"Anywhere",classification:"Post-translational",hidden:!1},{site:"T",position:"Anywhere",classification:"Post-translational",hidden:!1},{site:"Y",position:"Anywhere",classification:"Post-translational",hidden:!1}]},{accession:"UNIMOD:7",name:"Deamidated",deltaMonoMass:.984016,deltaComposition:"H-1NO",sites:["N","Q"],positions:["Anywhere"],specifications:[{site:"N",position:"Anywhere",classification:"Post-translational",hidden:!1},{site:"Q",position:"Anywhere",classification:"Post-translational",hidden:!1}]},{accession:"UNIMOD:121",name:"GlyGly",deltaMonoMass:114.042927,deltaComposition:"H6C4N2O2",sites:["K"],positions:["Anywhere"],specifications:[{site:"K",position:"Anywhere",classification:"Post-translational",hidden:!1}]},{accession:"UNIMOD:36",name:"Dimethyl",deltaMonoMass:28.0313,deltaComposition:"H4C2",sites:["K","N-term","R"],positions:["Anywhere","Any N-term"],specifications:[{site:"K",position:"Anywhere",classification:"Chemical derivatization",hidden:!1},{site:"N-term",position:"Any N-term",classification:"Chemical derivatization",hidden:!1}]},{accession:"UNIMOD:34",name:"Methyl",deltaMonoMass:14.01565,deltaComposition:"H2C",sites:["K","R","E","D","C","H","S"],positions:["Anywhere"],specifications:[{site:"K",position:"Anywhere",classification:"Post-translational",hidden:!1},{site:"R",position:"Anywhere",classification:"Post-translational",hidden:!1}]},{accession:"UNIMOD:5",name:"Carbamyl",deltaMonoMass:43.005814,deltaComposition:"HCNO",sites:["K","N-term","R","C","M"],positions:["Anywhere","Any N-term"],specifications:[{site:"K",position:"Anywhere",classification:"Artefact",hidden:!1},{site:"N-term",position:"Any N-term",classification:"Artefact",hidden:!1}]},{accession:"UNIMOD:737",name:"TMT6plex",deltaMonoMass:229.162932,deltaComposition:"H20C12N2O2",sites:["K","N-term"],positions:["Anywhere","Any N-term"],specifications:[{site:"K",position:"Anywhere",classification:"Chemical derivatization",hidden:!1},{site:"N-term",position:"Any N-term",classification:"Chemical derivatization",hidden:!1}]},{accession:"UNIMOD:2016",name:"TMTpro",deltaMonoMass:304.207146,deltaComposition:"H25C15N3O3",sites:["K","N-term"],positions:["Anywhere","Any N-term"],specifications:[{site:"K",position:"Anywhere",classification:"Chemical derivatization",hidden:!1},{site:"N-term",position:"Any N-term",classification:"Chemical derivatization",hidden:!1}]},{accession:"UNIMOD:214",name:"iTRAQ4plex",deltaMonoMass:144.102063,deltaComposition:"H12C4C*3N2O",sites:["K","N-term","Y"],positions:["Anywhere","Any N-term"],specifications:[{site:"K",position:"Anywhere",classification:"Chemical derivatization",hidden:!1},{site:"N-term",position:"Any N-term",classification:"Chemical derivatization",hidden:!1}]},{accession:"UNIMOD:730",name:"Label:13C(6)15N(2)",deltaMonoMass:8.014199,deltaComposition:"C*6N*2C-6N-2",sites:["K"],positions:["Anywhere"],specifications:[{site:"K",position:"Anywhere",classification:"Isotopic label",hidden:!1}]},{accession:"UNIMOD:259",name:"Label:13C(6)15N(4)",deltaMonoMass:10.008269,deltaComposition:"C*6N*4C-6N-4",sites:["R"],positions:["Anywhere"],specifications:[{site:"R",position:"Anywhere",classification:"Isotopic label",hidden:!1}]},{accession:"UNIMOD:188",name:"Label:13C(6)",deltaMonoMass:6.020129,deltaComposition:"C*6C-6",sites:["K","R","L","I"],positions:["Anywhere"],specifications:[{site:"K",position:"Anywhere",classification:"Isotopic label",hidden:!1},{site:"R",position:"Anywhere",classification:"Isotopic label",hidden:!1}]},{accession:"UNIMOD:267",name:"Pyro-carbamidomethyl",deltaMonoMass:39.994915,deltaComposition:"C2H2NO-H2O",sites:["C"],positions:["N-term"],specifications:[{site:"C",position:"Any N-term",classification:"Post-translational",hidden:!1}]},{accession:"UNIMOD:27",name:"Gln->pyro-Glu",deltaMonoMass:-17.026549,deltaComposition:"H-3N-1",sites:["Q"],positions:["N-term"],specifications:[{site:"Q",position:"Any N-term",classification:"Post-translational",hidden:!1}]},{accession:"UNIMOD:28",name:"Glu->pyro-Glu",deltaMonoMass:-18.010565,deltaComposition:"H-2O-1",sites:["E"],positions:["N-term"],specifications:[{site:"E",position:"Any N-term",classification:"Post-translational",hidden:!1}]}],go=class{modifications=new Map;modificationsByName=new Map;loaded=!1;loadPromise=null;loadDatabase(){return j(this,null,function*(){if(!this.loaded)return this.loadPromise?this.loadPromise:(this.loadPromise=this.doLoad(),this.loadPromise)})}doLoad(){return j(this,null,function*(){for(let e of x0)this.modifications.set(e.accession,e),this.modificationsByName.set(e.name.toLowerCase(),e);this.loaded=!0})}searchModifications(e,n=10){return j(this,null,function*(){if(yield this.loadDatabase(),!e||e.trim()==="")return[];let r=e.toLowerCase().trim(),o=[],i=new Set;for(let s of this.modifications.values())if(!i.has(s.accession)&&((s.name.toLowerCase()===r||s.accession.toLowerCase()===r)&&(o.push(s),i.add(s.accession)),o.length>=n))break;if(o.length<n){for(let s of this.modifications.values())if(!i.has(s.accession)&&((s.name.toLowerCase().startsWith(r)||s.accession.toLowerCase().startsWith(r))&&(o.push(s),i.add(s.accession)),o.length>=n))break}if(o.length<n){for(let s of this.modifications.values())if(!i.has(s.accession)&&((s.name.toLowerCase().includes(r)||s.accession.toLowerCase().includes(r))&&(o.push(s),i.add(s.accession)),o.length>=n))break}return o})}getByAccession(e){return j(this,null,function*(){yield this.loadDatabase();let n=e.toUpperCase();return n.startsWith("UNIMOD:")||(n=`UNIMOD:${n}`),this.modifications.get(n)})}getByName(e){return j(this,null,function*(){return yield this.loadDatabase(),this.modificationsByName.get(e.toLowerCase())})}getModificationsForSite(e,n=50){return j(this,null,function*(){yield this.loadDatabase();let r=e.toUpperCase(),o=[];for(let i of this.modifications.values())if(i.sites.includes(r)&&(o.push(i),o.length>=n))break;return o})}getAllModifications(){return j(this,null,function*(){return yield this.loadDatabase(),Array.from(this.modifications.values())})}getCount(){return j(this,null,function*(){return yield this.loadDatabase(),this.modifications.size})}formatForSdrf(e,n,r="Variable"){return[`NT=${e.name}`,`TA=${n}`,`MT=${r}`,`AC=${e.accession}`].join(";")}isValidAccession(e){return j(this,null,function*(){return(yield this.getByAccession(e))!==void 0})}},YI=new go;var S0=(t,e)=>e.accession;function I0(t,e){if(t&1){let n=F();f(0,"div",24),w("click",function(){let o=E(n).$implicit,i=_(2);return M(i.selectSuggestion(o))}),f(1,"span",25),m(2),d(),f(3,"span",26),m(4),d(),f(5,"span",27),m(6),d()()}if(t&2){let n=e.$implicit;g(2),X(n.name),g(2),X(n.accession),g(2),fe("\u0394",n.deltaMonoMass.toFixed(4),"")}}function T0(t,e){if(t&1&&(f(0,"div",4),he(1,I0,7,3,"div",23,S0),d()),t&2){let n=_();g(),ge(n.suggestions())}}function N0(t,e){if(t&1&&(f(0,"div",6),m(1),d()),t&2){let n=_();g(),fe(" Valid sites: ",n.selectedMod().sites.join(", ")," ")}}function A0(t,e){if(t&1&&(f(0,"span",28),m(1),d()),t&2){let n=e.$implicit;g(),X(n)}}function O0(t,e){if(t&1&&(f(0,"div",22),he(1,A0,2,1,"span",28,Nt),d()),t&2){let n=_();g(),ge(n.validationErrors())}}var ns=class t{value="";valueChange=new G;syntaxService=new At;unimodService=new go;nt=x("");ta=x("");mt=x("");ac=x("");pp=x("");cf=x("");mm=x("");suggestions=x([]);selectedMod=x(null);validationErrors=x([]);formattedValue=ve(()=>{let e={};return this.nt()&&(e.NT=this.nt()),this.ta()&&(e.TA=this.ta()),this.mt()&&(e.MT=this.mt()),this.ac()&&(e.AC=this.ac()),this.pp()&&(e.PP=this.pp()),this.cf()&&(e.CF=this.cf()),this.mm()&&(e.MM=this.mm()),this.syntaxService.formatValue("modification",e)});ngOnInit(){this.parseValue()}ngOnChanges(e){e.value&&!e.value.firstChange&&this.parseValue()}parseValue(){if(!this.value){this.resetFields();return}let e=this.syntaxService.parseValue("modification",this.value);e?(this.nt.set(e.NT||""),this.ta.set(e.TA||""),this.mt.set(e.MT||""),this.ac.set(e.AC||""),this.pp.set(e.PP||""),this.cf.set(e.CF||""),this.mm.set(e.MM||""),e.AC&&this.unimodService.getByAccession(e.AC).then(n=>{this.selectedMod.set(n||null)})):this.resetFields()}resetFields(){this.nt.set(""),this.ta.set(""),this.mt.set(""),this.ac.set(""),this.pp.set(""),this.cf.set(""),this.mm.set(""),this.selectedMod.set(null)}updateNt(e){this.nt.set(e),this.emitValue()}updateTa(e){this.ta.set(e.toUpperCase()),this.emitValue()}updateMt(e){this.mt.set(e),this.emitValue()}updateAc(e){this.ac.set(e),this.emitValue()}updatePp(e){this.pp.set(e),this.emitValue()}updateCf(e){this.cf.set(e),this.emitValue()}updateMm(e){this.mm.set(e),this.emitValue()}onNtInput(e){return j(this,null,function*(){let r=e.target.value.trim();if(r.length<2){this.suggestions.set([]);return}let o=yield this.unimodService.searchModifications(r,8);this.suggestions.set(o)})}selectSuggestion(e){this.nt.set(e.name),this.ac.set(e.accession),this.cf.set(e.deltaComposition),this.mm.set(e.deltaMonoMass.toString()),this.selectedMod.set(e),this.suggestions.set([]),e.sites.length===1&&this.ta.set(e.sites[0]),e.positions.length===1&&this.pp.set(e.positions[0]),this.emitValue()}emitValue(){let e=this.formattedValue();this.validate(e),this.valueChange.emit(e)}validate(e){if(!e){this.validationErrors.set([]);return}let n=this.syntaxService.parseValue("modification",e);if(n){let r=this.syntaxService.validateValue("modification",n);this.validationErrors.set([...r.errors,...r.warnings||[]])}else this.validationErrors.set(["Invalid modification format"])}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=Te({type:t,selectors:[["sdrf-modification-input"]],inputs:{value:"value"},outputs:{valueChange:"valueChange"},features:[Qe],decls:58,vars:11,consts:[[1,"modification-input-container"],[1,"field-group"],[1,"autocomplete-wrapper"],["type","text","placeholder","e.g., Oxidation, Carbamidomethyl",1,"field-input",3,"ngModelChange","input","ngModel"],[1,"suggestions-dropdown"],["type","text","placeholder","e.g., M, K, C","maxlength","10",1,"field-input",3,"ngModelChange","ngModel"],[1,"hint"],[1,"field-input",3,"ngModelChange","ngModel"],["value",""],["value","Fixed"],["value","Variable"],["value","Annotated"],["type","text","placeholder","e.g., UNIMOD:35",1,"field-input",3,"ngModelChange","ngModel"],["value","Anywhere"],["value","Protein N-term"],["value","Protein C-term"],["value","Any N-term"],["value","Any C-term"],["type","text","placeholder","e.g., O, H3C2NO",1,"field-input",3,"ngModelChange","ngModel"],["type","text","placeholder","e.g., 15.994915",1,"field-input",3,"ngModelChange","ngModel"],[1,"output-preview"],[1,"label"],[1,"validation-errors"],[1,"suggestion-item"],[1,"suggestion-item",3,"click"],[1,"suggestion-name"],[1,"suggestion-accession"],[1,"suggestion-mass"],[1,"error"]],template:function(n,r){n&1&&(f(0,"div",0)(1,"div",1)(2,"label"),m(3,"Name of Term (NT)*"),d(),f(4,"div",2)(5,"input",3),w("ngModelChange",function(i){return r.updateNt(i)})("input",function(i){return r.onNtInput(i)}),d(),k(6,T0,3,0,"div",4),d()(),f(7,"div",1)(8,"label"),m(9,"Target Amino Acid (TA)*"),d(),f(10,"input",5),w("ngModelChange",function(i){return r.updateTa(i)}),d(),k(11,N0,2,1,"div",6),d(),f(12,"div",1)(13,"label"),m(14,"Modification Type (MT)"),d(),f(15,"select",7),w("ngModelChange",function(i){return r.updateMt(i)}),f(16,"option",8),m(17,"-- Select --"),d(),f(18,"option",9),m(19,"Fixed"),d(),f(20,"option",10),m(21,"Variable"),d(),f(22,"option",11),m(23,"Annotated"),d()()(),f(24,"div",1)(25,"label"),m(26,"Accession (AC)"),d(),f(27,"input",12),w("ngModelChange",function(i){return r.updateAc(i)}),d()(),f(28,"div",1)(29,"label"),m(30,"Position (PP)"),d(),f(31,"select",7),w("ngModelChange",function(i){return r.updatePp(i)}),f(32,"option",8),m(33,"-- Select --"),d(),f(34,"option",13),m(35,"Anywhere"),d(),f(36,"option",14),m(37,"Protein N-term"),d(),f(38,"option",15),m(39,"Protein C-term"),d(),f(40,"option",16),m(41,"Any N-term"),d(),f(42,"option",17),m(43,"Any C-term"),d()()(),f(44,"div",1)(45,"label"),m(46,"Chemical Formula (CF)"),d(),f(47,"input",18),w("ngModelChange",function(i){return r.updateCf(i)}),d()(),f(48,"div",1)(49,"label"),m(50,"Monoisotopic Mass (MM)"),d(),f(51,"input",19),w("ngModelChange",function(i){return r.updateMm(i)}),d()(),f(52,"div",20)(53,"span",21),m(54,"Output:"),d(),f(55,"code"),m(56),d()(),k(57,O0,3,0,"div",22),d()),n&2&&(g(5),N("ngModel",r.nt()),g(),P(r.suggestions().length>0?6:-1),g(4),N("ngModel",r.ta()),g(),P(r.selectedMod()&&r.selectedMod().sites.length>0?11:-1),g(4),N("ngModel",r.mt()),g(12),N("ngModel",r.ac()),g(4),N("ngModel",r.pp()),g(16),N("ngModel",r.cf()),g(4),N("ngModel",r.mm()),g(5),X(r.formattedValue()||"(empty)"),g(),P(r.validationErrors().length>0?57:-1))},dependencies:[Ne,Oe,_t,Ct,Me,vt,Ae,dc,xe],styles:[".modification-input-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:12px;padding:12px;border:1px solid #ddd;border-radius:4px;background:#fafafa}.field-group[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:4px}.field-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-size:12px;font-weight:500;color:#333}.field-input[_ngcontent-%COMP%]{padding:8px;border:1px solid #ccc;border-radius:4px;font-size:13px}.field-input[_ngcontent-%COMP%]:focus{outline:none;border-color:#2196f3;box-shadow:0 0 0 2px #2196f333}select.field-input[_ngcontent-%COMP%]{background:#fff}.autocomplete-wrapper[_ngcontent-%COMP%]{position:relative}.suggestions-dropdown[_ngcontent-%COMP%]{position:absolute;top:100%;left:0;right:0;max-height:200px;overflow-y:auto;background:#fff;border:1px solid #ddd;border-top:none;border-radius:0 0 4px 4px;box-shadow:0 4px 6px #0000001a;z-index:100}.suggestion-item[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;padding:8px 12px;cursor:pointer;border-bottom:1px solid #eee}.suggestion-item[_ngcontent-%COMP%]:hover{background:#f5f5f5}.suggestion-item[_ngcontent-%COMP%]:last-child{border-bottom:none}.suggestion-name[_ngcontent-%COMP%]{font-weight:500;flex:1}.suggestion-accession[_ngcontent-%COMP%]{font-size:11px;color:#666;font-family:monospace}.suggestion-mass[_ngcontent-%COMP%]{font-size:11px;color:#999}.hint[_ngcontent-%COMP%]{font-size:11px;color:#666;margin-top:2px}.output-preview[_ngcontent-%COMP%]{display:flex;align-items:flex-start;gap:8px;padding:8px;background:#fff;border:1px solid #e0e0e0;border-radius:4px;margin-top:8px}.output-preview[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{font-size:12px;color:#666;flex-shrink:0}.output-preview[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]{font-family:monospace;font-size:12px;color:#333;word-break:break-all}.validation-errors[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:4px}.validation-errors[_ngcontent-%COMP%]   .error[_ngcontent-%COMP%]{font-size:12px;color:#d32f2f}"]})};var P0=(t,e)=>e.accession;function k0(t,e){if(t&1&&(f(0,"option",4),m(1),d()),t&2){let n=e.$implicit;N("value",n.accession),g(),X(n.name)}}function R0(t,e){if(t&1&&(f(0,"span",12),m(1),d()),t&2){let n=e.$implicit;g(),X(n)}}function F0(t,e){if(t&1&&(f(0,"div",11),he(1,R0,2,1,"span",12,Nt),d()),t&2){let n=_();g(),ge(n.validationErrors())}}var V0=[{name:"Trypsin",accession:"MS:1001251",site:"[KR]|{P}"},{name:"Trypsin/P",accession:"MS:1001313",site:"[KR]"},{name:"Lys-C",accession:"MS:1001309",site:"K|"},{name:"Lys-N",accession:"MS:1001310",site:"|K"},{name:"Arg-C",accession:"MS:1001303",site:"R|{P}"},{name:"Asp-N",accession:"MS:1001304",site:"|D"},{name:"Chymotrypsin",accession:"MS:1001306",site:"[FYWL]|{P}"},{name:"Glu-C",accession:"MS:1001917",site:"[DE]|{P}"},{name:"PepsinA",accession:"MS:1001311",site:"[FL]|"},{name:"CNBr",accession:"MS:1001307",site:"M|"},{name:"no cleavage",accession:"MS:1001955",site:""},{name:"unspecific cleavage",accession:"MS:1001956",site:""}],rs=class t{value="";valueChange=new G;syntaxService=new At;commonAgents=V0;nt=x("");ac=x("");cs=x("");validationErrors=x([]);formattedValue=ve(()=>{let e={};return this.nt()&&(e.NT=this.nt()),this.ac()&&(e.AC=this.ac()),this.cs()&&(e.CS=this.cs()),this.syntaxService.formatValue("cleavage",e)});ngOnInit(){this.parseValue()}ngOnChanges(e){e.value&&!e.value.firstChange&&this.parseValue()}parseValue(){if(!this.value){this.resetFields();return}let e=this.syntaxService.parseValue("cleavage",this.value);e?(this.nt.set(e.NT||""),this.ac.set(e.AC||""),this.cs.set(e.CS||"")):this.resetFields()}resetFields(){this.nt.set(""),this.ac.set(""),this.cs.set("")}selectPreset(e){let n=e.target,r=n.value;if(!r)return;let o=this.commonAgents.find(i=>i.accession===r);o&&(this.nt.set(o.name),this.ac.set(o.accession),this.cs.set(o.site),this.emitValue()),n.value=""}updateNt(e){this.nt.set(e),this.emitValue()}updateAc(e){this.ac.set(e),this.emitValue()}updateCs(e){this.cs.set(e),this.emitValue()}emitValue(){let e=this.formattedValue();this.validate(e),this.valueChange.emit(e)}validate(e){if(!e){this.validationErrors.set([]);return}let n=this.syntaxService.parseValue("cleavage",e);if(n){let r=this.syntaxService.validateValue("cleavage",n);this.validationErrors.set([...r.errors,...r.warnings||[]])}else this.validationErrors.set(["Invalid cleavage agent format"])}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=Te({type:t,selectors:[["sdrf-cleavage-input"]],inputs:{value:"value"},outputs:{valueChange:"valueChange"},features:[Qe],decls:29,vars:5,consts:[[1,"cleavage-input-container"],[1,"field-group"],[1,"field-input",3,"change"],["value",""],[3,"value"],["type","text","placeholder","e.g., Trypsin",1,"field-input",3,"ngModelChange","ngModel"],["type","text","placeholder","e.g., MS:1001251",1,"field-input",3,"ngModelChange","ngModel"],["type","text","placeholder","e.g., [KR]|{P}",1,"field-input",3,"ngModelChange","ngModel"],[1,"hint"],[1,"output-preview"],[1,"label"],[1,"validation-errors"],[1,"error"]],template:function(n,r){n&1&&(f(0,"div",0)(1,"div",1)(2,"label"),m(3,"Quick Select"),d(),f(4,"select",2),w("change",function(i){return r.selectPreset(i)}),f(5,"option",3),m(6,"-- Select common enzyme --"),d(),he(7,k0,2,2,"option",4,P0),d()(),f(9,"div",1)(10,"label"),m(11,"Name of Term (NT)*"),d(),f(12,"input",5),w("ngModelChange",function(i){return r.updateNt(i)}),d()(),f(13,"div",1)(14,"label"),m(15,"Accession (AC)"),d(),f(16,"input",6),w("ngModelChange",function(i){return r.updateAc(i)}),d()(),f(17,"div",1)(18,"label"),m(19,"Cleavage Site Regex (CS)"),d(),f(20,"input",7),w("ngModelChange",function(i){return r.updateCs(i)}),d(),f(21,"div",8),m(22," Format: [allowed]|{not allowed} \u2014 e.g., [KR]|{P} means cleave after K or R, not followed by P "),d()(),f(23,"div",9)(24,"span",10),m(25,"Output:"),d(),f(26,"code"),m(27),d()(),k(28,F0,3,0,"div",11),d()),n&2&&(g(7),ge(r.commonAgents),g(5),N("ngModel",r.nt()),g(4),N("ngModel",r.ac()),g(4),N("ngModel",r.cs()),g(7),X(r.formattedValue()||"(empty)"),g(),P(r.validationErrors().length>0?28:-1))},dependencies:[Ne,Oe,_t,Ct,Me,Ae,xe],styles:[".cleavage-input-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:12px;padding:12px;border:1px solid #ddd;border-radius:4px;background:#fafafa}.field-group[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:4px}.field-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-size:12px;font-weight:500;color:#333}.field-input[_ngcontent-%COMP%]{padding:8px;border:1px solid #ccc;border-radius:4px;font-size:13px}.field-input[_ngcontent-%COMP%]:focus{outline:none;border-color:#2196f3;box-shadow:0 0 0 2px #2196f333}select.field-input[_ngcontent-%COMP%]{background:#fff}.hint[_ngcontent-%COMP%]{font-size:11px;color:#666;margin-top:2px}.output-preview[_ngcontent-%COMP%]{display:flex;align-items:flex-start;gap:8px;padding:8px;background:#fff;border:1px solid #e0e0e0;border-radius:4px;margin-top:8px}.output-preview[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{font-size:12px;color:#666;flex-shrink:0}.output-preview[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]{font-family:monospace;font-size:12px;color:#333;word-break:break-all}.validation-errors[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:4px}.validation-errors[_ngcontent-%COMP%]   .error[_ngcontent-%COMP%]{font-size:12px;color:#d32f2f}"]})};var L0=(t,e)=>e.iri;function j0(t,e){t&1&&Ut(0,"span",3)}function B0(t,e){if(t&1&&(f(0,"div",11),m(1),Li(2,"slice"),d()),t&2){let n=_().$implicit;g(),fn(" ",qf(2,2,n.description,0,100),"",n.description.length>100?"...":""," ")}}function H0(t,e){if(t&1){let n=F();f(0,"div",7),w("mousedown",function(){let o=E(n).$implicit,i=_(2);return M(i.selectSuggestion(o))}),f(1,"div",8)(2,"span",9),m(3),d(),f(4,"span",10),m(5),d()(),k(6,B0,3,6,"div",11),d()}if(t&2){let n=e.$implicit,r=e.$index,o=_(2);pe("selected",o.selectedIndex()===r),g(3),X(n.label),g(2),X(n.id),g(),P(n.description?6:-1)}}function $0(t,e){if(t&1&&(f(0,"div",4),he(1,H0,7,5,"div",6,L0),d()),t&2){let n=_();g(),ge(n.suggestions())}}function U0(t,e){t&1&&(f(0,"div",4)(1,"div",12),m(2,"No results found"),d()())}function z0(t,e){if(t&1){let n=F();f(0,"div",5)(1,"span",13),m(2),d(),f(3,"span",14),m(4),d(),f(5,"button",15),w("click",function(){E(n);let o=_();return M(o.clearSelection())}),m(6,"\xD7"),d()()}if(t&2){let n=_();g(2),X(n.selectedTerm().label),g(2),fe("(",n.selectedTerm().id,")")}}var G0={organism:{ontologies:["ncbitaxon"],searchMethod:"searchOrganism"},disease:{ontologies:["efo","mondo","doid"],searchMethod:"searchDisease"},"cell type":{ontologies:["cl","bto"],searchMethod:"searchCellType"},"cell line":{ontologies:["clo","efo","bto"]},tissue:{ontologies:["uberon","bto"],searchMethod:"searchTissue"},organ:{ontologies:["uberon"]},"developmental stage":{ontologies:["uberon","efo"]},sex:{ontologies:["pato"]},"ancestry category":{ontologies:["hancestro"]},instrument:{ontologies:["ms"],searchMethod:"searchInstrument"},"enrichment process":{ontologies:["sep","obi"]},label:{ontologies:["ms","pride"]},"fraction identifier":{ontologies:["ms"]},"technical replicate":{ontologies:[]},"data file":{ontologies:[]}},os=class t{constructor(e){this.elementRef=e}value="";columnName="";ontologies=[];placeholder="Type to search...";allowFreeText=!0;valueChange=new G;termSelected=new G;olsService=new On;searchTimeout;inputValue=x("");suggestions=x([]);selectedTerm=x(null);showDropdown=x(!1);loading=x(!1);selectedIndex=x(-1);ngOnInit(){this.inputValue.set(this.value)}ngOnChanges(e){e.value&&!e.value.firstChange&&this.inputValue.set(this.value)}onDocumentClick(e){this.elementRef.nativeElement.contains(e.target)||this.showDropdown.set(!1)}onKeyDown(e){if(!this.showDropdown())return;let n=this.suggestions();switch(e.key){case"ArrowDown":e.preventDefault(),this.selectedIndex.set(Math.min(this.selectedIndex()+1,n.length-1));break;case"ArrowUp":e.preventDefault(),this.selectedIndex.set(Math.max(this.selectedIndex()-1,-1));break;case"Enter":e.preventDefault(),this.selectedIndex()>=0&&n[this.selectedIndex()]?this.selectSuggestion(n[this.selectedIndex()]):this.allowFreeText&&this.emitValue();break;case"Escape":this.showDropdown.set(!1);break}}onInputChange(e){this.inputValue.set(e),this.selectedTerm.set(null),this.selectedIndex.set(-1),clearTimeout(this.searchTimeout),e.length>=2?(this.loading.set(!0),this.searchTimeout=setTimeout(()=>{this.search(e)},300)):(this.suggestions.set([]),this.loading.set(!1)),this.allowFreeText&&this.valueChange.emit(e)}onFocus(){(this.suggestions().length>0||this.inputValue().length>=2)&&this.showDropdown.set(!0)}onBlur(){setTimeout(()=>{this.allowFreeText&&this.emitValue()},200)}selectSuggestion(e){this.inputValue.set(e.label),this.selectedTerm.set(e),this.showDropdown.set(!1),this.suggestions.set([]),this.valueChange.emit(e.label),this.termSelected.emit(e)}clearSelection(){this.inputValue.set(""),this.selectedTerm.set(null),this.valueChange.emit(""),this.termSelected.emit(null)}search(e){return j(this,null,function*(){let n=this.getOntologyConfig();try{let r;if(n.searchMethod){let o=n.searchMethod;r=yield this.olsService[o](e,10)}else n.ontologies.length>0?r=(yield this.olsService.search({query:e,ontology:n.ontologies,rows:10})).suggestions:r=(yield this.olsService.search({query:e,rows:10})).suggestions;this.suggestions.set(r),this.showDropdown.set(!0)}catch(r){console.error("Ontology search error:",r),this.suggestions.set([])}finally{this.loading.set(!1)}})}getOntologyConfig(){if(this.ontologies.length>0)return{ontologies:this.ontologies};let e=this.columnName.toLowerCase().match(/\[(.*?)\]/),n=e?e[1]:this.columnName.toLowerCase();return G0[n]||{ontologies:[]}}emitValue(){this.valueChange.emit(this.inputValue())}static \u0275fac=function(n){return new(n||t)(ce(gt))};static \u0275cmp=Te({type:t,selectors:[["sdrf-ontology-input"]],hostBindings:function(n,r){n&1&&w("click",function(i){return r.onDocumentClick(i)},!1,Yd)("keydown",function(i){return r.onKeyDown(i)})},inputs:{value:"value",columnName:"columnName",ontologies:"ontologies",placeholder:"placeholder",allowFreeText:"allowFreeText"},outputs:{valueChange:"valueChange",termSelected:"termSelected"},features:[Qe],decls:7,vars:6,consts:[[1,"ontology-input-container"],[1,"input-wrapper"],["type","text",1,"field-input",3,"ngModelChange","focus","blur","ngModel","placeholder"],[1,"loading-indicator"],[1,"suggestions-dropdown"],[1,"selected-term"],[1,"suggestion-item",3,"selected"],[1,"suggestion-item",3,"mousedown"],[1,"suggestion-main"],[1,"suggestion-label"],[1,"suggestion-id"],[1,"suggestion-description"],[1,"no-results"],[1,"term-label"],[1,"term-id"],[1,"clear-btn",3,"click"]],template:function(n,r){n&1&&(f(0,"div",0)(1,"div",1)(2,"input",2),w("ngModelChange",function(i){return r.onInputChange(i)})("focus",function(){return r.onFocus()})("blur",function(){return r.onBlur()}),d(),k(3,j0,1,0,"span",3),d(),k(4,$0,3,0,"div",4)(5,U0,3,0,"div",4)(6,z0,7,2,"div",5),d()),n&2&&(g(2),N("ngModel",r.inputValue())("placeholder",r.placeholder),g(),P(r.loading()?3:-1),g(),P(r.showDropdown()&&r.suggestions().length>0?4:-1),g(),P(r.showDropdown()&&!r.loading()&&r.suggestions().length===0&&r.inputValue().length>=2?5:-1),g(),P(r.selectedTerm()?6:-1))},dependencies:[Ne,Zl,Oe,Me,Ae,xe],styles:[".ontology-input-container[_ngcontent-%COMP%]{position:relative;width:100%}.input-wrapper[_ngcontent-%COMP%]{position:relative;display:flex;align-items:center}.field-input[_ngcontent-%COMP%]{width:100%;padding:8px;border:1px solid #ccc;border-radius:4px;font-size:13px}.field-input[_ngcontent-%COMP%]:focus{outline:none;border-color:#2196f3;box-shadow:0 0 0 2px #2196f333}.loading-indicator[_ngcontent-%COMP%]{position:absolute;right:8px;width:16px;height:16px;border:2px solid #ddd;border-top-color:#2196f3;border-radius:50%;animation:_ngcontent-%COMP%_spin .8s linear infinite}@keyframes _ngcontent-%COMP%_spin{to{transform:rotate(360deg)}}.suggestions-dropdown[_ngcontent-%COMP%]{position:absolute;top:100%;left:0;right:0;max-height:250px;overflow-y:auto;background:#fff;border:1px solid #ddd;border-top:none;border-radius:0 0 4px 4px;box-shadow:0 4px 8px #00000026;z-index:100}.suggestion-item[_ngcontent-%COMP%]{padding:8px 12px;cursor:pointer;border-bottom:1px solid #eee}.suggestion-item[_ngcontent-%COMP%]:hover, .suggestion-item.selected[_ngcontent-%COMP%]{background:#f0f7ff}.suggestion-item[_ngcontent-%COMP%]:last-child{border-bottom:none}.suggestion-main[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px}.suggestion-label[_ngcontent-%COMP%]{font-weight:500;flex:1}.suggestion-id[_ngcontent-%COMP%]{font-size:11px;color:#666;font-family:monospace;background:#f0f0f0;padding:2px 4px;border-radius:2px}.suggestion-description[_ngcontent-%COMP%]{font-size:11px;color:#666;margin-top:4px;line-height:1.3}.no-results[_ngcontent-%COMP%]{padding:12px;text-align:center;color:#666;font-size:13px}.selected-term[_ngcontent-%COMP%]{display:flex;align-items:center;gap:6px;margin-top:6px;padding:6px 8px;background:#e3f2fd;border-radius:4px;font-size:12px}.term-label[_ngcontent-%COMP%]{font-weight:500}.term-id[_ngcontent-%COMP%]{color:#666;font-family:monospace}.clear-btn[_ngcontent-%COMP%]{margin-left:auto;background:none;border:none;font-size:16px;cursor:pointer;color:#666;padding:0 4px}.clear-btn[_ngcontent-%COMP%]:hover{color:#d32f2f}"]})};var W0=["textInput"];function q0(t,e){if(t&1){let n=F();f(0,"button",20),w("click",function(){E(n);let o=_();return M(o.toggleExpand())}),m(1),d()}if(t&2){let n=_();g(),fe(" ",n.isExpanded()?"Collapse":"Expand"," ")}}function Z0(t,e){if(t&1){let n=F();f(0,"sdrf-age-input",21),w("valueChange",function(o){E(n);let i=_();return M(i.onValueChange(o))}),d()}if(t&2){let n=_();N("value",n.value)}}function Y0(t,e){if(t&1){let n=F();f(0,"sdrf-modification-input",21),w("valueChange",function(o){E(n);let i=_();return M(i.onValueChange(o))}),d()}if(t&2){let n=_();N("value",n.value)}}function Q0(t,e){if(t&1){let n=F();f(0,"sdrf-cleavage-input",21),w("valueChange",function(o){E(n);let i=_();return M(i.onValueChange(o))}),d()}if(t&2){let n=_();N("value",n.value)}}function K0(t,e){if(t&1){let n=F();f(0,"sdrf-ontology-input",22),w("valueChange",function(o){E(n);let i=_();return M(i.onValueChange(o))}),d()}if(t&2){let n=_();N("value",n.value)("columnName",(n.column==null?null:n.column.name)||"")("placeholder","Search "+n.getColumnTypeLabel()+"...")}}function X0(t,e){if(t&1&&(f(0,"option",6),m(1),d()),t&2){let n=e.$implicit;N("value",n),g(),X(n)}}function J0(t,e){if(t&1){let n=F();f(0,"select",23),w("ngModelChange",function(o){E(n);let i=_();return M(i.onValueChange(o))}),f(1,"option",24),m(2,"-- Select --"),d(),he(3,X0,2,2,"option",6,lr),d()}if(t&2){let n=_();N("ngModel",n.value),g(3),ge(n.selectOptions())}}function eb(t,e){if(t&1){let n=F();f(0,"textarea",27,0),w("ngModelChange",function(o){E(n);let i=_(2);return M(i.onValueChange(o))})("keydown.escape",function(){E(n);let o=_(2);return M(o.onCancel())}),d()}if(t&2){let n=_(2);N("ngModel",n.value)}}function tb(t,e){if(t&1){let n=F();f(0,"input",28,0),w("ngModelChange",function(o){E(n);let i=_(2);return M(i.onValueChange(o))})("keydown.enter",function(){E(n);let o=_(2);return M(o.onSave())})("keydown.escape",function(){E(n);let o=_(2);return M(o.onCancel())}),d()}if(t&2){let n=_(2);N("ngModel",n.value)}}function nb(t,e){if(t&1&&k(0,eb,2,1,"textarea",25)(1,tb,2,1,"input",26),t&2){let n=_();P(n.isExpanded()?0:1)}}function rb(t,e){if(t&1){let n=F();f(0,"button",29),w("click",function(){E(n);let o=_();return M(o.onClear())}),m(1,"Clear"),d()}}var Zp={"pooled sample":["not pooled","pooled"],"synthetic peptide":["synthetic","not synthetic"],labeling:["label free sample","SILAC","TMT","iTRAQ"]},ob=["organism","disease","cell type","cell line","tissue","organ","developmental stage","sex","ancestry category","instrument","enrichment process","label"],is=class t{value="";column;rowIndex=1;save=new G;cancel=new G;textInput;syntaxService=new At;isExpanded=x(!1);currentValue=x("");editorMode=ve(()=>{if(!this.column)return"text";let e=this.syntaxService.detectSpecialSyntax(this.column.name,this.column.type);if(e)return this.syntaxTypeToEditorMode(e);let n=this.getColumnTypeFromName(this.column.name);return Zp[n]?"select":ob.includes(n)||this.column.ontologyType?"ontology":"text"});selectOptions=ve(()=>{if(!this.column)return[];let e=this.getColumnTypeFromName(this.column.name);return Zp[e]||[]});ngOnInit(){this.currentValue.set(this.value)}ngOnChanges(e){e.value&&!e.value.firstChange&&this.currentValue.set(this.value)}ngAfterViewInit(){setTimeout(()=>{this.textInput?.nativeElement?.focus(),this.textInput?.nativeElement instanceof HTMLInputElement&&this.textInput.nativeElement.select()},50)}getModeLabel(){switch(this.editorMode()){case"age":return"Age";case"modification":return"Modification";case"cleavage":return"Cleavage";case"ontology":return"Ontology";case"select":return"Select";default:return"Text"}}getColumnTypeLabel(){return this.column?this.getColumnTypeFromName(this.column.name):"term"}canExpand(){return this.editorMode()==="text"}canClear(){return this.value!==""}toggleExpand(){this.isExpanded.set(!this.isExpanded())}onValueChange(e){this.currentValue.set(e),this.value=e}onSave(){this.save.emit(this.currentValue())}onCancel(){this.cancel.emit()}onClear(){this.currentValue.set(""),this.value=""}setSpecialValue(e){this.currentValue.set(e),this.value=e}syntaxTypeToEditorMode(e){switch(e){case"age":return"age";case"modification":return"modification";case"cleavage":return"cleavage";case"pooled_sample":case"synthetic_peptide":return"select";default:return"text"}}getColumnTypeFromName(e){let n=e.toLowerCase().match(/\[(.*?)\]/);return n?n[1]:e.toLowerCase()}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=Te({type:t,selectors:[["sdrf-cell-editor"]],viewQuery:function(n,r){if(n&1&&Ri(W0,5),n&2){let o;Fi(o=Vi())&&(r.textInput=o.first)}},inputs:{value:"value",column:"column",rowIndex:"rowIndex"},outputs:{save:"save",cancel:"cancel"},features:[Qe],decls:30,vars:16,consts:[["textInput",""],[1,"cell-editor-container"],[1,"editor-header"],[1,"mode-badge"],[1,"expand-btn"],[1,"editor-content"],[3,"value"],[3,"value","columnName","placeholder"],[1,"select-input",3,"ngModel"],[1,"editor-actions"],[1,"btn","btn-primary",3,"click"],[1,"btn","btn-secondary",3,"click"],[1,"btn","btn-link"],[1,"reserved-options"],[1,"reserved-label"],[1,"reserved-btns"],["title","Value is not available - data was not collected or cannot be determined",1,"reserved-btn","not-available",3,"click"],["title","Value is not applicable - does not apply to this sample type",1,"reserved-btn","not-applicable",3,"click"],["title","Value is anonymized - hidden for privacy/ethical reasons",1,"reserved-btn","anonymized",3,"click"],["title","Value is pooled - sample is a pool of multiple sources",1,"reserved-btn","pooled",3,"click"],[1,"expand-btn",3,"click"],[3,"valueChange","value"],[3,"valueChange","value","columnName","placeholder"],[1,"select-input",3,"ngModelChange","ngModel"],["value",""],["rows","4",1,"text-input","textarea",3,"ngModel"],["type","text",1,"text-input",3,"ngModel"],["rows","4",1,"text-input","textarea",3,"ngModelChange","keydown.escape","ngModel"],["type","text",1,"text-input",3,"ngModelChange","keydown.enter","keydown.escape","ngModel"],[1,"btn","btn-link",3,"click"]],template:function(n,r){if(n&1&&(f(0,"div",1)(1,"div",2)(2,"span",3),m(3),d(),k(4,q0,2,1,"button",4),d(),f(5,"div",5),k(6,Z0,1,1,"sdrf-age-input",6)(7,Y0,1,1,"sdrf-modification-input",6)(8,Q0,1,1,"sdrf-cleavage-input",6)(9,K0,1,3,"sdrf-ontology-input",7)(10,J0,5,1,"select",8)(11,nb,2,1),d(),f(12,"div",9)(13,"button",10),w("click",function(){return r.onSave()}),m(14,"Save"),d(),f(15,"button",11),w("click",function(){return r.onCancel()}),m(16,"Cancel"),d(),k(17,rb,2,0,"button",12),d(),f(18,"div",13)(19,"span",14),m(20,"Reserved values:"),d(),f(21,"div",15)(22,"button",16),w("click",function(){return r.setSpecialValue("not available")}),m(23," not available "),d(),f(24,"button",17),w("click",function(){return r.setSpecialValue("not applicable")}),m(25," not applicable "),d(),f(26,"button",18),w("click",function(){return r.setSpecialValue("anonymized")}),m(27," anonymized "),d(),f(28,"button",19),w("click",function(){return r.setSpecialValue("pooled")}),m(29," pooled "),d()()()()),n&2){let o;pe("expanded",r.isExpanded()),g(2),ki(r.editorMode()),g(),fe(" ",r.getModeLabel()," "),g(),P(r.canExpand()?4:-1),g(2),P((o=r.editorMode())==="age"?6:o==="modification"?7:o==="cleavage"?8:o==="ontology"?9:o==="select"?10:11),g(11),P(r.canClear()?17:-1),g(5),pe("active",r.value.toLowerCase()==="not available"),g(2),pe("active",r.value.toLowerCase()==="not applicable"),g(2),pe("active",r.value.toLowerCase()==="anonymized"),g(2),pe("active",r.value.toLowerCase()==="pooled")}},dependencies:[Ne,Oe,_t,Ct,Me,vt,Ae,xe,ts,ns,rs,os],styles:[".cell-editor-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:8px;padding:12px;background:#fff;border:1px solid #ddd;border-radius:6px;box-shadow:0 4px 12px #00000026;min-width:280px;max-width:400px}.cell-editor-container.expanded[_ngcontent-%COMP%]{min-width:350px;max-width:500px}.editor-header[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;padding-bottom:8px;border-bottom:1px solid #eee}.mode-badge[_ngcontent-%COMP%]{font-size:11px;font-weight:500;padding:2px 8px;border-radius:12px;background:#e0e0e0;color:#333}.mode-badge.age[_ngcontent-%COMP%]{background:#e3f2fd;color:#1565c0}.mode-badge.modification[_ngcontent-%COMP%]{background:#f3e5f5;color:#7b1fa2}.mode-badge.cleavage[_ngcontent-%COMP%]{background:#fff3e0;color:#ef6c00}.mode-badge.ontology[_ngcontent-%COMP%]{background:#e8f5e9;color:#2e7d32}.mode-badge.select[_ngcontent-%COMP%]{background:#fce4ec;color:#c2185b}.expand-btn[_ngcontent-%COMP%]{font-size:11px;padding:2px 8px;background:none;border:1px solid #ccc;border-radius:4px;cursor:pointer;color:#666}.expand-btn[_ngcontent-%COMP%]:hover{background:#f5f5f5}.editor-content[_ngcontent-%COMP%]{min-height:40px}.text-input[_ngcontent-%COMP%]{width:100%;padding:8px;border:1px solid #ccc;border-radius:4px;font-size:13px;font-family:inherit}.text-input[_ngcontent-%COMP%]:focus{outline:none;border-color:#2196f3;box-shadow:0 0 0 2px #2196f333}.text-input.textarea[_ngcontent-%COMP%]{resize:vertical;min-height:80px}.select-input[_ngcontent-%COMP%]{width:100%;padding:8px;border:1px solid #ccc;border-radius:4px;font-size:13px;background:#fff}.select-input[_ngcontent-%COMP%]:focus{outline:none;border-color:#2196f3;box-shadow:0 0 0 2px #2196f333}.editor-actions[_ngcontent-%COMP%]{display:flex;gap:8px;padding-top:8px;border-top:1px solid #eee}.btn[_ngcontent-%COMP%]{padding:6px 12px;border-radius:4px;font-size:12px;cursor:pointer;border:none}.btn-primary[_ngcontent-%COMP%]{background:#2196f3;color:#fff}.btn-primary[_ngcontent-%COMP%]:hover{background:#1976d2}.btn-secondary[_ngcontent-%COMP%]{background:#e0e0e0;color:#333}.btn-secondary[_ngcontent-%COMP%]:hover{background:#d0d0d0}.btn-link[_ngcontent-%COMP%]{background:none;color:#666;padding:6px 8px}.btn-link[_ngcontent-%COMP%]:hover{color:#d32f2f;text-decoration:underline}.reserved-options[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:6px;padding-top:10px;border-top:1px dashed #ddd;margin-top:4px}.reserved-label[_ngcontent-%COMP%]{font-size:10px;text-transform:uppercase;letter-spacing:.5px;color:#888}.reserved-btns[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:6px}.reserved-btn[_ngcontent-%COMP%]{padding:4px 8px;font-size:11px;font-style:italic;background:#f8f8f8;border:1px solid #e0e0e0;border-radius:4px;cursor:pointer;color:#888;transition:all .15s ease}.reserved-btn[_ngcontent-%COMP%]:hover{background:#f0f0f0;border-color:#ccc}.reserved-btn.not-available[_ngcontent-%COMP%], .reserved-btn.not-applicable[_ngcontent-%COMP%]{color:#888}.reserved-btn.not-available[_ngcontent-%COMP%]:hover, .reserved-btn.not-applicable[_ngcontent-%COMP%]:hover{background:#9e9e9e26}.reserved-btn.not-available.active[_ngcontent-%COMP%], .reserved-btn.not-applicable.active[_ngcontent-%COMP%]{background:#9e9e9e33;border-color:#9e9e9e;color:#666}.reserved-btn.anonymized[_ngcontent-%COMP%]{color:#9c27b0}.reserved-btn.anonymized[_ngcontent-%COMP%]:hover{background:#9c27b01a}.reserved-btn.anonymized.active[_ngcontent-%COMP%]{background:#9c27b026;border-color:#9c27b0;color:#7b1fa2}.reserved-btn.pooled[_ngcontent-%COMP%]{color:#1976d2}.reserved-btn.pooled[_ngcontent-%COMP%]:hover{background:#2196f31a}.reserved-btn.pooled.active[_ngcontent-%COMP%]{background:#2196f326;border-color:#2196f3;color:#1565c0}"]})};var ib=(t,e)=>e.columnPosition,sb=(t,e)=>e.value;function ab(t,e){if(t&1&&(f(0,"option",5),m(1),d()),t&2){let n=e.$implicit,r=e.$index;N("value",r),g(),X(n.name)}}function lb(t,e){if(t&1){let n=F();f(0,"div",21)(1,"input",22),it("ngModelChange",function(o){E(n);let i=_(3);return at(i.editNewValue,o)||(i.editNewValue=o),M(o)}),w("keydown.enter",function(){E(n);let o=_().$implicit,i=_(2);return M(i.applyEdit(o))})("keydown.escape",function(){E(n);let o=_(3);return M(o.cancelEdit())}),d(),f(2,"button",23),w("click",function(){E(n);let o=_().$implicit,i=_(2);return M(i.applyEdit(o))}),m(3," Apply "),d(),f(4,"button",24),w("click",function(){E(n);let o=_(3);return M(o.cancelEdit())}),m(5," Cancel "),d()()}if(t&2){let n=_(3);g(),ot("ngModel",n.editNewValue)}}function cb(t,e){if(t&1){let n=F();f(0,"button",25),w("click",function(o){E(n);let i=_().$implicit;return _(2).selectValue(i),M(o.stopPropagation())}),m(1," \u2611 "),d(),f(2,"button",26),w("click",function(o){E(n);let i=_().$implicit;return _(2).startEdit(i),M(o.stopPropagation())}),m(3," \u270E "),d()}}function ub(t,e){if(t&1){let n=F();f(0,"div",13)(1,"div",14),w("click",function(){let o=E(n).$implicit,i=_(2);return M(i.onValueClick(o))}),f(2,"div",15),Ut(3,"div",16),d(),f(4,"span",17),m(5),d(),f(6,"span",18),m(7),f(8,"span",19),m(9),Li(10,"number"),d()()(),f(11,"div",20),k(12,lb,6,1,"div",21)(13,cb,4,0),d()()}if(t&2){let n=e.$implicit,r=_(2);pe("selected",r.isValueSelected(n.value))("editing",r.editingValue()===n.value),g(3),nn("width",n.percentage,"%"),g(),N("title",n.value||"(empty)"),g(),fe(" ",n.value||"(empty)"," "),g(2),fe(" ",n.count," "),g(2),fe("(",Wf(10,11,n.percentage,"1.1-1"),"%)"),g(3),P(r.editingValue()===n.value?12:13)}}function db(t,e){if(t&1){let n=F();f(0,"div",6)(1,"div",7)(2,"span",8)(3,"strong"),m(4),d(),m(5," unique values "),d(),f(6,"span",8)(7,"strong"),m(8),d(),m(9," total samples "),d()(),f(10,"div",9),he(11,ub,14,14,"div",10,sb),d(),f(13,"div",11)(14,"button",12),w("click",function(){E(n);let o=_();return M(o.selectEmpty())}),m(15," Select Empty "),d(),f(16,"button",12),w("click",function(){E(n);let o=_();return M(o.selectAll())}),m(17," Select All "),d()()()}if(t&2){let n=_();g(4),X(n.uniqueValues().length),g(4),X((n.table==null?null:n.table.sampleCount)||0),g(3),ge(n.uniqueValues())}}var ss=class t{table=null;selectedSamples=new Set;close=new G;selectByValue=new G;bulkEdit=new G;selectSamples=new G;selectedColumnIndex=x(0);editingValue=x(null);editNewValue="";selectedColumn=ve(()=>this.table&&this.table.columns[this.selectedColumnIndex()]||null);uniqueValues=ve(()=>{let e=this.selectedColumn();if(!e||!this.table)return[];let n=new Map;for(let o=1;o<=this.table.sampleCount;o++){let i=gn(e,o);n.has(i)||n.set(i,[]),n.get(i).push(o)}let r=[];for(let[o,i]of n)r.push({value:o,count:i.length,percentage:i.length/this.table.sampleCount*100,sampleIndices:i});return r.sort((o,i)=>i.count-o.count),r});onColumnChange(e){this.selectedColumnIndex.set(Number(e)),this.cancelEdit()}isValueSelected(e){let n=this.uniqueValues().find(r=>r.value===e);return n?n.sampleIndices.every(r=>this.selectedSamples.has(r)):!1}onValueClick(e){this.selectValue(e)}selectValue(e){this.selectByValue.emit({columnIndex:this.selectedColumnIndex(),value:e.value,sampleIndices:e.sampleIndices})}startEdit(e){this.editingValue.set(e.value),this.editNewValue=e.value}cancelEdit(){this.editingValue.set(null),this.editNewValue=""}applyEdit(e){this.editNewValue!==e.value&&this.bulkEdit.emit({columnIndex:this.selectedColumnIndex(),oldValue:e.value,newValue:this.editNewValue,sampleIndices:e.sampleIndices}),this.cancelEdit()}selectEmpty(){let e=this.uniqueValues().find(n=>n.value==="");e&&this.selectSamples.emit(e.sampleIndices)}selectAll(){if(!this.table)return;let e=Array.from({length:this.table.sampleCount},(n,r)=>r+1);this.selectSamples.emit(e)}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=Te({type:t,selectors:[["sdrf-column-stats"]],inputs:{table:"table",selectedSamples:"selectedSamples"},outputs:{close:"close",selectByValue:"selectByValue",bulkEdit:"bulkEdit",selectSamples:"selectSamples"},decls:13,vars:2,consts:[[1,"column-stats-panel"],[1,"panel-header"],[1,"close-btn",3,"click"],[1,"column-selector"],[3,"ngModelChange","ngModel"],[3,"value"],[1,"stats-content"],[1,"stats-summary"],[1,"summary-item"],[1,"value-list"],[1,"value-item",3,"selected","editing"],[1,"quick-actions"],[1,"btn","btn-sm",3,"click"],[1,"value-item"],[1,"value-main",3,"click"],[1,"value-bar"],[1,"value-bar-fill"],[1,"value-text",3,"title"],[1,"value-count"],[1,"value-percentage"],[1,"value-actions"],[1,"edit-inline"],["type","text","placeholder","New value...",1,"edit-input",3,"ngModelChange","keydown.enter","keydown.escape","ngModel"],[1,"btn-sm","btn-primary",3,"click"],[1,"btn-sm",3,"click"],["title","Select all samples with this value",1,"btn-icon",3,"click"],["title","Edit all samples with this value",1,"btn-icon",3,"click"]],template:function(n,r){n&1&&(f(0,"div",0)(1,"div",1)(2,"h3"),m(3,"Column Statistics"),d(),f(4,"button",2),w("click",function(){return r.close.emit()}),m(5,"\xD7"),d()(),f(6,"div",3)(7,"label"),m(8,"Select Column:"),d(),f(9,"select",4),w("ngModelChange",function(i){return r.onColumnChange(i)}),he(10,ab,2,2,"option",5,ib),d()(),k(12,db,18,2,"div",6),d()),n&2&&(g(9),N("ngModel",r.selectedColumnIndex()),g(),ge(r.table==null?null:r.table.columns),g(2),P(r.selectedColumn()?12:-1))},dependencies:[Ne,ql,Oe,_t,Ct,Me,vt,Ae,xe],styles:[".column-stats-panel[_ngcontent-%COMP%]{display:flex;flex-direction:column;height:100%;background:#f8f9fa;border-left:1px solid #ddd;width:320px;font-size:13px}.panel-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:12px 16px;background:#fff;border-bottom:1px solid #ddd}.panel-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0;font-size:14px;font-weight:600}.close-btn[_ngcontent-%COMP%]{background:none;border:none;font-size:20px;cursor:pointer;color:#666;padding:0 4px}.close-btn[_ngcontent-%COMP%]:hover{color:#333}.column-selector[_ngcontent-%COMP%]{padding:12px 16px;background:#fff;border-bottom:1px solid #eee}.column-selector[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;margin-bottom:6px;font-weight:500;color:#555}.column-selector[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{width:100%;padding:8px;border:1px solid #ccc;border-radius:4px;font-size:13px;background:#fff}.stats-content[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column;overflow:hidden}.stats-summary[_ngcontent-%COMP%]{display:flex;gap:16px;padding:12px 16px;background:#fff;border-bottom:1px solid #eee}.summary-item[_ngcontent-%COMP%]{font-size:12px;color:#666}.summary-item[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{color:#333}.value-list[_ngcontent-%COMP%]{flex:1;overflow-y:auto;padding:8px 0}.value-item[_ngcontent-%COMP%]{padding:8px 16px;border-bottom:1px solid #eee;transition:background .15s}.value-item[_ngcontent-%COMP%]:hover{background:#fff}.value-item.selected[_ngcontent-%COMP%]{background:#e3f2fd}.value-item.editing[_ngcontent-%COMP%]{background:#fff3e0}.value-main[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;cursor:pointer}.value-bar[_ngcontent-%COMP%]{width:40px;height:6px;background:#e0e0e0;border-radius:3px;overflow:hidden;flex-shrink:0}.value-bar-fill[_ngcontent-%COMP%]{height:100%;background:#2196f3;border-radius:3px;transition:width .3s}.value-text[_ngcontent-%COMP%]{flex:1;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;min-width:0}.value-count[_ngcontent-%COMP%]{font-weight:500;color:#333;flex-shrink:0}.value-percentage[_ngcontent-%COMP%]{font-weight:400;color:#999;font-size:11px}.value-actions[_ngcontent-%COMP%]{display:flex;gap:4px;margin-top:6px}.btn-icon[_ngcontent-%COMP%]{background:none;border:1px solid #ddd;border-radius:4px;padding:4px 8px;cursor:pointer;font-size:12px}.btn-icon[_ngcontent-%COMP%]:hover{background:#f0f0f0;border-color:#ccc}.edit-inline[_ngcontent-%COMP%]{display:flex;gap:4px;flex:1}.edit-input[_ngcontent-%COMP%]{flex:1;padding:4px 8px;border:1px solid #2196f3;border-radius:4px;font-size:12px}.btn-sm[_ngcontent-%COMP%]{padding:4px 8px;font-size:11px;border:1px solid #ccc;border-radius:4px;background:#fff;cursor:pointer}.btn-sm[_ngcontent-%COMP%]:hover{background:#f5f5f5}.btn-sm.btn-primary[_ngcontent-%COMP%]{background:#2196f3;color:#fff;border-color:#2196f3}.btn-sm.btn-primary[_ngcontent-%COMP%]:hover{background:#1976d2}.quick-actions[_ngcontent-%COMP%]{display:flex;gap:8px;padding:12px 16px;background:#fff;border-top:1px solid #ddd}.quick-actions[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{flex:1}"]})};var fb=(t,e)=>e.columnPosition;function pb(t,e){if(t&1&&(f(0,"option",8),m(1),d()),t&2){let n=e.$implicit,r=e.$index;N("value",r),g(),X(n.name)}}function hb(t,e){if(t&1){let n=F();f(0,"input",12),it("ngModelChange",function(o){E(n);let i=_();return at(i.newValue,o)||(i.newValue=o),M(o)}),w("keydown.enter",function(){E(n);let o=_();return M(o.applyBulkEdit())}),d(),f(1,"button",13),w("click",function(){E(n);let o=_();return M(o.applyBulkEdit())}),m(2," Apply to Selected "),d()}if(t&2){let n=_();ot("ngModel",n.newValue),g(),N("disabled",!n.newValue)}}function gb(t,e){if(t&1){let n=F();f(0,"div",11)(1,"div",14)(2,"p"),m(3),d(),f(4,"div",15)(5,"button",16),w("click",function(){E(n);let o=_();return M(o.confirmAction())}),m(6," Confirm "),d(),f(7,"button",17),w("click",function(){E(n);let o=_();return M(o.cancelConfirm())}),m(8," Cancel "),d()()()()}if(t&2){let n=_();g(3),X(n.confirmMessage())}}var as=class t{table=null;selectedCount=0;selectedSamples=new Set;clearSelection=new G;bulkEdit=new G;copyFromFirst=new G;selectedColumnIndex=-1;newValue="";showConfirm=x(!1);confirmMessage=x("");pendingAction=null;applyBulkEdit(){if(this.selectedColumnIndex<0||!this.newValue)return;let e=Array.from(this.selectedSamples);this.confirmMessage.set(`Apply "${this.newValue}" to ${e.length} samples in column "${this.table?.columns[this.selectedColumnIndex]?.name}"?`),this.pendingAction=()=>{this.bulkEdit.emit({columnIndex:this.selectedColumnIndex,newValue:this.newValue,sampleIndices:e}),this.newValue=""},this.showConfirm.set(!0)}copyFirstValue(){this.selectedColumnIndex<0||(this.confirmMessage.set(`Copy value from first selected sample to all ${this.selectedSamples.size} selected samples?`),this.pendingAction=()=>{this.copyFromFirst.emit(this.selectedColumnIndex)},this.showConfirm.set(!0))}clearValues(){if(this.selectedColumnIndex<0)return;let e=Array.from(this.selectedSamples);this.confirmMessage.set(`Clear values for ${e.length} samples in column "${this.table?.columns[this.selectedColumnIndex]?.name}"?`),this.pendingAction=()=>{this.bulkEdit.emit({columnIndex:this.selectedColumnIndex,newValue:"",sampleIndices:e})},this.showConfirm.set(!0)}confirmAction(){this.pendingAction&&this.pendingAction(),this.cancelConfirm()}cancelConfirm(){this.showConfirm.set(!1),this.pendingAction=null}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=Te({type:t,selectors:[["sdrf-bulk-toolbar"]],inputs:{table:"table",selectedCount:"selectedCount",selectedSamples:"selectedSamples"},outputs:{clearSelection:"clearSelection",bulkEdit:"bulkEdit",copyFromFirst:"copyFromFirst"},decls:22,vars:6,consts:[[1,"bulk-toolbar"],[1,"toolbar-info"],[1,"selection-count"],[1,"btn-link",3,"click"],[1,"toolbar-actions"],[1,"action-group"],[1,"column-select",3,"ngModelChange","ngModel"],["value","-1"],[3,"value"],[1,"btn","btn-secondary",3,"click"],[1,"btn","btn-danger",3,"click"],[1,"confirm-overlay"],["type","text","placeholder","Enter new value...",1,"value-input",3,"ngModelChange","keydown.enter","ngModel"],[1,"btn","btn-primary",3,"click","disabled"],[1,"confirm-dialog"],[1,"confirm-actions"],[1,"btn","btn-primary",3,"click"],[1,"btn",3,"click"]],template:function(n,r){n&1&&(f(0,"div",0)(1,"div",1)(2,"span",2)(3,"strong"),m(4),d(),m(5," samples selected "),d(),f(6,"button",3),w("click",function(){return r.clearSelection.emit()}),m(7," Clear selection "),d()(),f(8,"div",4)(9,"div",5)(10,"select",6),it("ngModelChange",function(i){return at(r.selectedColumnIndex,i)||(r.selectedColumnIndex=i),i}),f(11,"option",7),m(12,"Select column..."),d(),he(13,pb,2,2,"option",8,fb),d(),k(15,hb,3,2),d(),f(16,"div",5)(17,"button",9),w("click",function(){return r.copyFirstValue()}),m(18," Copy from First "),d(),f(19,"button",10),w("click",function(){return r.clearValues()}),m(20," Clear Values "),d()()(),k(21,gb,9,1,"div",11),d()),n&2&&(pe("visible",r.selectedCount>0),g(4),X(r.selectedCount),g(6),ot("ngModel",r.selectedColumnIndex),g(3),ge(r.table==null?null:r.table.columns),g(2),P(r.selectedColumnIndex>=0?15:-1),g(6),P(r.showConfirm()?21:-1))},dependencies:[Ne,Oe,_t,Ct,Me,vt,Ae,xe],styles:[".bulk-toolbar[_ngcontent-%COMP%]{display:none;background:linear-gradient(135deg,#1a237e,#283593);color:#fff;padding:12px 16px;gap:16px;align-items:center;flex-wrap:wrap;position:relative}.bulk-toolbar.visible[_ngcontent-%COMP%]{display:flex}.toolbar-info[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px}.selection-count[_ngcontent-%COMP%]{font-size:14px}.selection-count[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{font-size:18px}.btn-link[_ngcontent-%COMP%]{background:none;border:none;color:#fffc;cursor:pointer;font-size:12px;text-decoration:underline}.btn-link[_ngcontent-%COMP%]:hover{color:#fff}.toolbar-actions[_ngcontent-%COMP%]{display:flex;gap:16px;flex:1;flex-wrap:wrap}.action-group[_ngcontent-%COMP%]{display:flex;gap:8px;align-items:center}.column-select[_ngcontent-%COMP%]{padding:8px 12px;border:1px solid rgba(255,255,255,.3);border-radius:4px;background:#ffffff1a;color:#fff;font-size:13px;min-width:180px}.column-select[_ngcontent-%COMP%]   option[_ngcontent-%COMP%]{background:#1a237e;color:#fff}.value-input[_ngcontent-%COMP%]{padding:8px 12px;border:1px solid rgba(255,255,255,.3);border-radius:4px;background:#fffffff2;font-size:13px;min-width:200px}.value-input[_ngcontent-%COMP%]:focus{outline:none;border-color:#fff}.btn[_ngcontent-%COMP%]{padding:8px 16px;border:none;border-radius:4px;font-size:13px;cursor:pointer;transition:all .2s}.btn-primary[_ngcontent-%COMP%]{background:#4caf50;color:#fff}.btn-primary[_ngcontent-%COMP%]:hover:not(:disabled){background:#43a047}.btn-primary[_ngcontent-%COMP%]:disabled{background:#fff3;cursor:not-allowed}.btn-secondary[_ngcontent-%COMP%]{background:#fff3;color:#fff;border:1px solid rgba(255,255,255,.3)}.btn-secondary[_ngcontent-%COMP%]:hover{background:#ffffff4d}.btn-danger[_ngcontent-%COMP%]{background:#f44336;color:#fff}.btn-danger[_ngcontent-%COMP%]:hover{background:#e53935}.confirm-overlay[_ngcontent-%COMP%]{position:absolute;inset:0;background:#00000080;display:flex;align-items:center;justify-content:center;z-index:10}.confirm-dialog[_ngcontent-%COMP%]{background:#fff;color:#333;padding:20px;border-radius:8px;box-shadow:0 4px 20px #0000004d;max-width:400px}.confirm-dialog[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0 0 16px}.confirm-actions[_ngcontent-%COMP%]{display:flex;gap:8px;justify-content:flex-end}.confirm-actions[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{color:#333;background:#e0e0e0}.confirm-actions[_ngcontent-%COMP%]   .btn-primary[_ngcontent-%COMP%]{background:#2196f3;color:#fff}"]})};var mb=(t,e)=>e.columnPosition;function yb(t,e){if(t&1&&(f(0,"option",4),m(1),d()),t&2){let n=e.$implicit,r=e.$index;N("value",r),g(),X(n.name)}}function vb(t,e){if(t&1){let n=F();f(0,"div",18),w("mousedown",function(){let o=E(n).$implicit,i=_(3);return M(i.selectSuggestion(o))}),m(1),d()}if(t&2){let n=e.$implicit;g(),fe(" ",n," ")}}function _b(t,e){if(t&1&&(f(0,"div",16),he(1,vb,2,1,"div",17,lr),d()),t&2){let n=_(2);g(),ge(n.valueSuggestions().slice(0,10))}}function Cb(t,e){if(t&1){let n=F();f(0,"div",12)(1,"input",15),it("ngModelChange",function(o){E(n);let i=_();return at(i.newFilterValue,o)||(i.newFilterValue=o),M(o)}),w("focus",function(){E(n);let o=_();return M(o.showSuggestions=!0)})("blur",function(){E(n);let o=_();return M(o.onInputBlur())})("keydown.enter",function(){E(n);let o=_();return M(o.addFilter())}),d(),k(2,_b,3,0,"div",16),d()}if(t&2){let n=_();g(),ot("ngModel",n.newFilterValue),g(),P(n.showSuggestions&&n.valueSuggestions().length>0?2:-1)}}function bb(t,e){if(t&1&&(f(0,"span",24),m(1),d()),t&2){let n=_().$implicit;g(),fe('"',n.value,'"')}}function wb(t,e){if(t&1){let n=F();f(0,"span",19)(1,"span",22),m(2),d(),f(3,"span",23),m(4),d(),k(5,bb,2,1,"span",24),f(6,"button",25),w("click",function(){let o=E(n).$index,i=_(2);return M(i.removeFilter(o))}),m(7,"\xD7"),d()()}if(t&2){let n=e.$implicit,r=_(2);g(2),X(n.columnName),g(2),X(r.getOperatorLabel(n.operator)),g(),P(n.value?5:-1)}}function Db(t,e){if(t&1){let n=F();f(0,"div",14),he(1,wb,8,3,"span",19,Nt),f(3,"button",20),w("click",function(){E(n);let o=_();return M(o.clearFilters())}),m(4,"Clear all"),d(),f(5,"span",21),m(6),d()()}if(t&2){let n=_();g(),ge(n.filters()),g(5),fn(" ",n.filterResult().matchingIndices.length," of ",n.filterResult().totalCount," samples ")}}var ls=class t{table=null;filterChange=new G;newFilterColumn=-1;newFilterOperator="equals";newFilterValue="";showSuggestions=!1;filters=x([]);filterResult=ve(()=>{if(!this.table)return{matchingIndices:[],totalCount:0};let e=this.filters();if(e.length===0)return{matchingIndices:Array.from({length:this.table.sampleCount},(o,i)=>i+1),totalCount:this.table.sampleCount};let n=[];for(let r=1;r<=this.table.sampleCount;r++)this.rowMatchesAllFilters(r,e)&&n.push(r);return{matchingIndices:n,totalCount:this.table.sampleCount}});valueSuggestions=ve(()=>{if(!this.table||this.newFilterColumn<0)return[];let e=this.table.columns[this.newFilterColumn];if(!e)return[];let n=new Set;for(let r=1;r<=this.table.sampleCount;r++){let o=gn(e,r);o&&o.toLowerCase().includes(this.newFilterValue.toLowerCase())&&n.add(o)}return Array.from(n).sort()});canAddFilter(){return this.newFilterColumn<0?!1:this.newFilterOperator==="is_empty"||this.newFilterOperator==="is_not_empty"?!0:this.newFilterValue.trim().length>0}addFilter(){if(!this.canAddFilter()||!this.table)return;let e=this.table.columns[this.newFilterColumn],n={columnIndex:this.newFilterColumn,columnName:e.name,operator:this.newFilterOperator,value:this.newFilterValue.trim()};this.filters.set([...this.filters(),n]),this.emitFilterChange(),this.newFilterValue=""}removeFilter(e){let n=this.filters();this.filters.set([...n.slice(0,e),...n.slice(e+1)]),this.emitFilterChange()}clearFilters(){this.filters.set([]),this.emitFilterChange()}selectSuggestion(e){this.newFilterValue=e,this.showSuggestions=!1}onInputBlur(){setTimeout(()=>{this.showSuggestions=!1},200)}getOperatorLabel(e){switch(e){case"equals":return"=";case"contains":return"contains";case"starts_with":return"starts with";case"ends_with":return"ends with";case"is_empty":return"is empty";case"is_not_empty":return"is not empty"}}rowMatchesAllFilters(e,n){if(!this.table)return!1;for(let r of n){let o=this.table.columns[r.columnIndex];if(!o)continue;let i=gn(o,e);if(!this.matchesFilter(i,r))return!1}return!0}matchesFilter(e,n){let r=e.toLowerCase(),o=n.value.toLowerCase();switch(n.operator){case"equals":return r===o;case"contains":return r.includes(o);case"starts_with":return r.startsWith(o);case"ends_with":return r.endsWith(o);case"is_empty":return e.trim()==="";case"is_not_empty":return e.trim()!==""}}emitFilterChange(){this.filterChange.emit(this.filterResult())}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=Te({type:t,selectors:[["sdrf-filter-bar"]],inputs:{table:"table"},outputs:{filterChange:"filterChange"},decls:24,vars:7,consts:[[1,"filter-bar"],[1,"filter-controls"],[1,"filter-select",3,"ngModelChange","ngModel"],["value","-1"],[3,"value"],[1,"filter-select","operator",3,"ngModelChange","ngModel"],["value","equals"],["value","contains"],["value","starts_with"],["value","ends_with"],["value","is_empty"],["value","is_not_empty"],[1,"value-input-wrapper"],[1,"btn","btn-primary",3,"click","disabled"],[1,"active-filters"],["type","text","placeholder","Value...",1,"filter-input",3,"ngModelChange","focus","blur","keydown.enter","ngModel"],[1,"suggestions"],[1,"suggestion-item"],[1,"suggestion-item",3,"mousedown"],[1,"filter-chip"],[1,"btn-link",3,"click"],[1,"filter-result"],[1,"filter-column"],[1,"filter-operator"],[1,"filter-value"],[1,"remove-btn",3,"click"]],template:function(n,r){n&1&&(f(0,"div",0)(1,"div",1)(2,"select",2),it("ngModelChange",function(i){return at(r.newFilterColumn,i)||(r.newFilterColumn=i),i}),f(3,"option",3),m(4,"Select column..."),d(),he(5,yb,2,2,"option",4,mb),d(),f(7,"select",5),it("ngModelChange",function(i){return at(r.newFilterOperator,i)||(r.newFilterOperator=i),i}),f(8,"option",6),m(9,"equals"),d(),f(10,"option",7),m(11,"contains"),d(),f(12,"option",8),m(13,"starts with"),d(),f(14,"option",9),m(15,"ends with"),d(),f(16,"option",10),m(17,"is empty"),d(),f(18,"option",11),m(19,"is not empty"),d()(),k(20,Cb,3,2,"div",12),f(21,"button",13),w("click",function(){return r.addFilter()}),m(22," Add Filter "),d()(),k(23,Db,7,2,"div",14),d()),n&2&&(pe("has-filters",r.filters().length>0),g(2),ot("ngModel",r.newFilterColumn),g(3),ge(r.table==null?null:r.table.columns),g(2),ot("ngModel",r.newFilterOperator),g(13),P(r.newFilterOperator!=="is_empty"&&r.newFilterOperator!=="is_not_empty"?20:-1),g(),N("disabled",!r.canAddFilter()),g(2),P(r.filters().length>0?23:-1))},dependencies:[Ne,Oe,_t,Ct,Me,vt,Ae,xe],styles:[".filter-bar[_ngcontent-%COMP%]{padding:8px 16px;background:#f8f9fa;border-bottom:1px solid #ddd}.filter-bar.has-filters[_ngcontent-%COMP%]{background:#e3f2fd}.filter-controls[_ngcontent-%COMP%]{display:flex;gap:8px;align-items:center;flex-wrap:wrap}.filter-select[_ngcontent-%COMP%]{padding:6px 10px;border:1px solid #ccc;border-radius:4px;font-size:13px;background:#fff}.filter-select.operator[_ngcontent-%COMP%]{min-width:120px}.value-input-wrapper[_ngcontent-%COMP%]{position:relative;flex:1;min-width:150px;max-width:250px}.filter-input[_ngcontent-%COMP%]{width:100%;padding:6px 10px;border:1px solid #ccc;border-radius:4px;font-size:13px}.filter-input[_ngcontent-%COMP%]:focus{outline:none;border-color:#2196f3}.suggestions[_ngcontent-%COMP%]{position:absolute;top:100%;left:0;right:0;background:#fff;border:1px solid #ddd;border-top:none;border-radius:0 0 4px 4px;max-height:200px;overflow-y:auto;z-index:100;box-shadow:0 4px 6px #0000001a}.suggestion-item[_ngcontent-%COMP%]{padding:8px 10px;cursor:pointer;font-size:13px}.suggestion-item[_ngcontent-%COMP%]:hover{background:#f5f5f5}.btn[_ngcontent-%COMP%]{padding:6px 12px;border:none;border-radius:4px;font-size:13px;cursor:pointer}.btn-primary[_ngcontent-%COMP%]{background:#2196f3;color:#fff}.btn-primary[_ngcontent-%COMP%]:hover:not(:disabled){background:#1976d2}.btn-primary[_ngcontent-%COMP%]:disabled{background:#ccc;cursor:not-allowed}.btn-link[_ngcontent-%COMP%]{background:none;border:none;color:#1976d2;cursor:pointer;font-size:12px;text-decoration:underline}.active-filters[_ngcontent-%COMP%]{display:flex;gap:8px;align-items:center;margin-top:8px;flex-wrap:wrap}.filter-chip[_ngcontent-%COMP%]{display:inline-flex;align-items:center;gap:4px;padding:4px 8px;background:#fff;border:1px solid #2196f3;border-radius:16px;font-size:12px}.filter-column[_ngcontent-%COMP%]{font-weight:500;color:#1976d2}.filter-operator[_ngcontent-%COMP%]{color:#666}.filter-value[_ngcontent-%COMP%]{color:#333}.remove-btn[_ngcontent-%COMP%]{background:none;border:none;color:#999;cursor:pointer;padding:0 2px;font-size:14px;line-height:1}.remove-btn[_ngcontent-%COMP%]:hover{color:#d32f2f}.filter-result[_ngcontent-%COMP%]{margin-left:auto;font-size:12px;color:#666;font-weight:500}"]})};var Eb=["scrollContainer"],Qp=(t,e)=>e.columnPosition;function Mb(t,e){if(t&1){let n=F();f(0,"button",14),w("click",function(){E(n);let o=_();return M(o.exportTsv())}),m(1," Export TSV "),d(),f(2,"button",14),w("click",function(){E(n);let o=_();return M(o.validate())}),m(3," Validate "),d(),Ut(4,"span",15),f(5,"button",16),w("click",function(){E(n);let o=_();return M(o.toggleFilterBar())}),m(6," Filter "),d(),f(7,"button",17),w("click",function(){E(n);let o=_();return M(o.toggleStatsPanel())}),m(8," Stats "),d()}if(t&2){let n=_();g(5),pe("btn-active",n.showFilterBar()),g(2),pe("btn-active",n.showStatsPanel())}}function xb(t,e){if(t&1&&m(0),t&2){let n=_(2);fn(" (showing ",n.visibleRange().start,"-",n.visibleRange().end,") ")}}function Sb(t,e){if(t&1&&(f(0,"div",18)(1,"span",19),m(2,"Source"),d(),f(3,"span",20),m(4,"Assay"),d(),f(5,"span",21),m(6,"Characteristics"),d(),f(7,"span",22),m(8,"Factor Values"),d(),f(9,"span",23),m(10,"Comments"),d()(),f(11,"span",24),m(12),k(13,xb,1,2),d()),t&2){let n=_();g(12),fn(" ",n.table().columns.length," columns, ",n.table().sampleCount," samples "),g(),P(n.visibleRange()?13:-1)}}function Ib(t,e){if(t&1&&(f(0,"div",8),Ut(1,"div",25),f(2,"span"),m(3),d()()),t&2){let n=_();g(3),X(n.loadingMessage())}}function Tb(t,e){if(t&1){let n=F();f(0,"div",9)(1,"span"),m(2),d(),f(3,"button",26),w("click",function(){E(n);let o=_();return M(o.clearError())}),m(4,"\xD7"),d()()}if(t&2){let n=_();g(2),X(n.error())}}function Nb(t,e){if(t&1){let n=F();f(0,"sdrf-filter-bar",27),w("filterChange",function(o){E(n);let i=_();return M(i.onFilterChange(o))}),d()}if(t&2){let n=_();N("table",n.table())}}function Ab(t,e){t&1&&(f(0,"span",48),m(1,"*"),d())}function Ob(t,e){if(t&1&&(f(0,"span",49),m(1),d()),t&2){let n=_(3);g(),X(n.sortDirection()==="asc"?"\u25B2":"\u25BC")}}function Pb(t,e){if(t&1){let n=F();f(0,"th",45),w("click",function(o){let i=E(n).$implicit,s=_(2);return M(s.onHeaderClick(i.columnPosition,o))}),Ut(1,"span",46),f(2,"span",47),m(3),d(),k(4,Ab,2,0,"span",48)(5,Ob,2,1,"span",49),d()}if(t&2){let n,r=e.$implicit,o=_(2);ki("col-type-"+o.getColumnTypeClass(r.name)),pe("required",r.isRequired)("selected",((n=o.selectedCell())==null?null:n.col)===r.columnPosition)("sorted",o.sortColumn()===r.columnPosition),g(3),X(r.name),g(),P(r.isRequired?4:-1),g(),P(o.sortColumn()===r.columnPosition?5:-1)}}function kb(t,e){if(t&1){let n=F();f(0,"td",53),w("click",function(){let o=E(n).$implicit,i=_().$implicit,s=_(2);return M(s.selectCell(i,o.columnPosition))})("dblclick",function(){let o=E(n).$implicit,i=_().$implicit,s=_(2);return M(s.startEditing(i,o.columnPosition))})("contextmenu",function(o){let i=E(n).$implicit,s=_().$implicit,a=_(2);return M(a.onCellContextMenu(o,s,i.columnPosition))}),f(1,"span",54),m(2),d()()}if(t&2){let n=e.$implicit,r=_().$implicit,o=_(2);pe("selected",o.isSelected(r,n.columnPosition))("has-error",o.hasCellError(r,n.columnPosition)),g(),pe("reserved-value",o.isReservedValue(o.getCellValue(r,n.columnPosition)))("reserved-not-available",o.isReservedValueType(o.getCellValue(r,n.columnPosition),"not available"))("reserved-not-applicable",o.isReservedValueType(o.getCellValue(r,n.columnPosition),"not applicable"))("reserved-anonymized",o.isReservedValueType(o.getCellValue(r,n.columnPosition),"anonymized"))("reserved-pooled",o.isReservedValueType(o.getCellValue(r,n.columnPosition),"pooled")),g(),fe(" ",o.getCellValue(r,n.columnPosition)," ")}}function Rb(t,e){if(t&1){let n=F();f(0,"tr")(1,"td",31)(2,"input",50),w("change",function(o){let i=E(n).$implicit,s=_(2);return M(s.toggleRowSelection(i,o))})("click",function(o){return E(n),M(o.stopPropagation())}),d()(),f(3,"td",51),w("click",function(o){let i=E(n).$implicit,s=_(2);return M(s.onRowHeaderClick(i,o))}),m(4),d(),he(5,kb,3,15,"td",52,Qp),d()}if(t&2){let n,r=e.$implicit,o=_(2);nn("height",o.ROW_HEIGHT,"px"),pe("selected",((n=o.selectedCell())==null?null:n.row)===r)("row-selected",o.isRowSelected(r)),g(2),N("checked",o.isRowSelected(r)),g(2),fe(" ",r," "),g(),ge(o.table().columns)}}function Fb(t,e){if(t&1){let n=F();f(0,"div",55)(1,"sdrf-cell-editor",56),w("save",function(o){E(n);let i=_(2);return M(i.onCellEditorSave(o))})("cancel",function(){E(n);let o=_(2);return M(o.cancelEditing())}),d()()}if(t&2){let n=_(2);nn("top",n.editorPosition().top,"px")("left",n.editorPosition().left,"px"),g(),N("value",n.getCellValue(n.editingCell().row,n.editingCell().col))("column",n.editingColumn())("rowIndex",n.editingCell().row)}}function Vb(t,e){if(t&1){let n=F();f(0,"sdrf-column-stats",57),w("close",function(){E(n);let o=_(2);return M(o.toggleStatsPanel())})("selectByValue",function(o){E(n);let i=_(2);return M(i.onSelectByValue(o))})("bulkEdit",function(o){E(n);let i=_(2);return M(i.onStatsPanelBulkEdit(o))})("selectSamples",function(o){E(n);let i=_(2);return M(i.onSelectSamples(o))}),d()}if(t&2){let n=_(2);N("table",n.table())("selectedSamples",n.selectedSamples())}}function Lb(t,e){t&1&&m(0," \u2713 Validation Passed ")}function jb(t,e){t&1&&m(0," \u2717 Validation Failed ")}function Bb(t,e){if(t&1&&(f(0,"strong"),m(1),d()),t&2){let n=_().$implicit;g(),fe("",n.column,":")}}function Hb(t,e){if(t&1&&(f(0,"li",62),k(1,Bb,2,1,"strong"),m(2),d()),t&2){let n=e.$implicit;g(),P(n.column?1:-1),g(),fe(" ",n.message," ")}}function $b(t,e){if(t&1&&(f(0,"li",63),m(1),d()),t&2){let n=_(4);g(),fe("... and ",n.validationResult().errors.length-20," more errors")}}function Ub(t,e){if(t&1&&(f(0,"div",60)(1,"h4"),m(2),d(),f(3,"ul"),he(4,Hb,3,2,"li",62,Nt),k(6,$b,2,1,"li",63),d()()),t&2){let n=_(3);g(2),fe("Errors (",n.validationResult().errors.length,")"),g(2),ge(n.validationResult().errors.slice(0,20)),g(2),P(n.validationResult().errors.length>20?6:-1)}}function zb(t,e){if(t&1&&(f(0,"strong"),m(1),d()),t&2){let n=_().$implicit;g(),fe("",n.column,":")}}function Gb(t,e){if(t&1&&(f(0,"li",64),k(1,zb,2,1,"strong"),m(2),d()),t&2){let n=e.$implicit;g(),P(n.column?1:-1),g(),fe(" ",n.message," ")}}function Wb(t,e){if(t&1&&(f(0,"li",63),m(1),d()),t&2){let n=_(4);g(),fe("... and ",n.validationResult().warnings.length-10," more warnings")}}function qb(t,e){if(t&1&&(f(0,"div",61)(1,"h4"),m(2),d(),f(3,"ul"),he(4,Gb,3,2,"li",64,Nt),k(6,Wb,2,1,"li",63),d()()),t&2){let n=_(3);g(2),fe("Warnings (",n.validationResult().warnings.length,")"),g(2),ge(n.validationResult().warnings.slice(0,10)),g(2),P(n.validationResult().warnings.length>10?6:-1)}}function Zb(t,e){if(t&1){let n=F();f(0,"div",58)(1,"div",59)(2,"h3"),k(3,Lb,1,0)(4,jb,1,0),d(),f(5,"button",26),w("click",function(){E(n);let o=_(2);return M(o.clearValidation())}),m(6,"\xD7"),d()(),k(7,Ub,7,2,"div",60)(8,qb,7,2,"div",61),d()}if(t&2){let n=_(2);pe("has-errors",!n.validationResult().isValid),g(3),P(n.validationResult().isValid?3:4),g(4),P(n.validationResult().errors.length>0?7:-1),g(),P(n.validationResult().warnings.length>0?8:-1)}}function Yb(t,e){if(t&1){let n=F();f(0,"div",65)(1,"button",45),w("click",function(){E(n);let o=_(2);return M(o.selectAllWithSameValue())}),m(2," Select all with same value "),d(),f(3,"button",45),w("click",function(){E(n);let o=_(2);return M(o.selectAllInColumn())}),m(4," Select all in this column "),d(),Ut(5,"hr"),f(6,"button",45),w("click",function(){E(n);let o=_(2);return M(o.editSelectedCells())}),m(7," Edit selected cells "),d(),f(8,"button",45),w("click",function(){E(n);let o=_(2);return M(o.clearSelectedCells())}),m(9," Clear selected cells "),d(),f(10,"button",45),w("click",function(){E(n);let o=_(2);return M(o.closeContextMenu())}),m(11," Cancel "),d()()}if(t&2){let n=_(2);nn("top",n.contextMenu().y,"px")("left",n.contextMenu().x,"px")}}function Qb(t,e){if(t&1){let n=F();f(0,"div",12)(1,"div",28)(2,"div",29,1),w("scroll",function(o){E(n);let i=_();return M(i.onScroll(o))}),f(4,"table",30)(5,"thead")(6,"tr")(7,"th",31)(8,"input",32),w("change",function(){E(n);let o=_();return M(o.toggleSelectAllVisible())}),d()(),f(9,"th",33),m(10,"#"),d(),he(11,Pb,6,11,"th",34,Qp),d()()(),f(13,"div",35)(14,"table",36)(15,"tbody"),he(16,Rb,7,8,"tr",37,lr),d()()(),k(18,Fb,2,7,"div",38),d(),k(19,Vb,1,2,"sdrf-column-stats",39),d(),f(20,"div",40)(21,"label"),m(22," Go to row: "),f(23,"input",41),it("ngModelChange",function(o){E(n);let i=_();return at(i.jumpToRowInput,o)||(i.jumpToRowInput=o),M(o)}),w("keydown.enter",function(){E(n);let o=_();return M(o.jumpToRow())}),d()(),f(24,"button",42),w("click",function(){E(n);let o=_();return M(o.jumpToRow())}),m(25,"Go"),d()(),k(26,Zb,9,5,"div",43)(27,Yb,12,4,"div",44),d()}if(t&2){let n=_();g(),pe("with-sidebar",n.showStatsPanel()),g(7),N("checked",n.isAllVisibleSelected())("indeterminate",n.isSomeVisibleSelected()),g(3),ge(n.table().columns),g(2),nn("height",n.totalHeight(),"px"),g(),nn("transform","translateY("+n.tableOffset()+"px)"),g(2),ge(n.visibleRows()),g(2),P(n.editingCell()&&n.editingColumn()?18:-1),g(),P(n.showStatsPanel()?19:-1),g(4),N("max",n.table().sampleCount),ot("ngModel",n.jumpToRowInput),g(3),P(n.validationResult()?26:-1),g(),P(n.contextMenu()?27:-1)}}function Kb(t,e){t&1&&(f(0,"div",13)(1,"p"),m(2,"No SDRF file loaded"),d(),f(3,"p",66),m(4,"Import a file or provide a URL to get started"),d()())}var Pn=32,Yp=10,cs=class t{constructor(e){this.ngZone=e}ROW_HEIGHT=Pn;url;content;readonly=!1;tableChange=new G;validationComplete=new G;scrollContainer;table=x(null);loading=x(!1);loadingMessage=x("Loading...");error=x(null);selectedCell=x(null);editingCell=x(null);editingColumn=x(null);editorPosition=x({top:0,left:0});validationResult=x(null);scrollTop=x(0);containerHeight=x(500);jumpToRowInput=1;selectedSamples=x(new Set);showStatsPanel=x(!1);contextMenu=x(null);lastSelectedRow=null;showFilterBar=x(!1);filteredIndices=x([]);sortColumn=x(-1);sortDirection=x("asc");sortedIndices=x([]);totalHeight=ve(()=>{let e=this.table();return e?(this.filteredIndices().length>0?this.filteredIndices().length:e.sampleCount)*Pn+Pn+100:0});tableOffset=ve(()=>{let e=this.visibleRange();return e?(e.start-1)*Pn:0});visibleRange=ve(()=>{let e=this.table();if(!e)return null;let n=this.scrollTop(),r=this.containerHeight(),o=Math.max(1,Math.floor(n/Pn)-Yp),i=Math.ceil(r/Pn)+Yp*2,s=Math.min(e.sampleCount,o+i);return{start:o,end:s}});effectiveRows=ve(()=>{let e=this.table();if(!e)return[];let n=this.filteredIndices().length>0?[...this.filteredIndices()]:Array.from({length:e.sampleCount},(o,i)=>i+1),r=this.sortedIndices();if(r.length>0){let o=new Set(n);n=r.filter(i=>o.has(i))}return n});visibleRows=ve(()=>{let e=this.visibleRange();if(!e)return[];let n=this.effectiveRows(),r=[];for(let o=e.start-1;o<e.end&&o<n.length;o++)n[o]&&r.push(n[o]);return r});parser=new fo;validator=new po;exporter=new ho;resizeObserver;ngOnInit(){this.url?this.loadFromUrl(this.url):this.content&&this.loadFromContent(this.content)}ngAfterViewInit(){this.scrollContainer&&(this.updateContainerHeight(),this.resizeObserver=new ResizeObserver(()=>{this.ngZone.run(()=>{this.updateContainerHeight()})}),this.resizeObserver.observe(this.scrollContainer.nativeElement))}ngOnChanges(e){e.url&&!e.url.firstChange&&this.url&&this.loadFromUrl(this.url),e.content&&!e.content.firstChange&&this.content&&this.loadFromContent(this.content)}ngOnDestroy(){this.resizeObserver?.disconnect()}loadFromUrl(e){return j(this,null,function*(){this.loading.set(!0),this.loadingMessage.set("Fetching file..."),this.error.set(null);try{let n=yield this.parser.parseFromUrl(e);this.handleParseResult(n)}catch(n){this.error.set(`Failed to load: ${n instanceof Error?n.message:String(n)}`)}finally{this.loading.set(!1)}})}loadFromContent(e){return j(this,null,function*(){this.loading.set(!0),this.loadingMessage.set("Parsing file..."),this.error.set(null);try{yield new Promise(r=>setTimeout(r,10));let n=this.parser.parseFromContent(e);this.handleParseResult(n)}catch(n){this.error.set(`Failed to parse: ${n instanceof Error?n.message:String(n)}`)}finally{this.loading.set(!1)}})}getTable(){return this.table()}validate(){return j(this,null,function*(){let e=this.table();if(!e)return null;this.loading.set(!0),this.loadingMessage.set("Validating...");try{yield new Promise(r=>setTimeout(r,10));let n=yield this.validator.validate(e);return this.validationResult.set(n),this.validationComplete.emit(n),n}finally{this.loading.set(!1)}})}exportTsv(){let e=this.table();if(!e)return;let n=e.metadata?.filename?.replace(/\.[^.]+$/,".tsv")||"sdrf.tsv";this.exporter.downloadTsv(e,n)}exportExcel(){return j(this,null,function*(){let e=this.table();if(!e)return;let n=e.metadata?.filename?.replace(/\.[^.]+$/,".xlsx")||"sdrf.xlsx";yield this.exporter.downloadExcel(e,n)})}onFileSelected(e){let n=e.target,r=n.files?.[0];r&&(this.loading.set(!0),this.loadingMessage.set(`Parsing ${r.name}...`),this.error.set(null),this.parser.parseFromFile(r).then(o=>{this.handleParseResult(o),this.loading.set(!1),n.value=""}))}onScroll(e){let n=e.target;this.scrollTop.set(n.scrollTop)}selectCell(e,n){this.selectedCell.set({row:e,col:n})}selectColumn(e){this.selectedCell.set({row:0,col:e})}startEditing(e,n){if(this.readonly)return;let r=this.table();if(!r||n>=r.columns.length)return;let o=`tr:nth-child(${e-(this.visibleRange()?.start??1)+1}) td:nth-child(${n+2})`,i=this.scrollContainer?.nativeElement.querySelector(o);if(i){let s=this.scrollContainer.nativeElement.getBoundingClientRect(),a=i.getBoundingClientRect(),l=a.bottom-s.top+this.scrollContainer.nativeElement.scrollTop+4,c=a.left-s.left+4,u=s.width-320;c>u&&(c=u),c<0&&(c=0),this.editorPosition.set({top:l,left:c})}else this.editorPosition.set({top:100,left:100});this.editingCell.set({row:e,col:n}),this.editingColumn.set(r.columns[n])}onCellEditorSave(e){let n=this.editingCell();if(!n){this.cancelEditing();return}this.setCellValue(n.row,n.col,e),this.editingCell.set(null),this.editingColumn.set(null)}cancelEditing(){this.editingCell.set(null),this.editingColumn.set(null)}clearError(){this.error.set(null)}clearValidation(){this.validationResult.set(null)}jumpToRow(){let e=this.table();if(!e||!this.scrollContainer)return;let n=Math.max(1,Math.min(this.jumpToRowInput,e.sampleCount)),r=(n-1)*Pn;this.scrollContainer.nativeElement.scrollTop=r,this.scrollTop.set(r),this.selectedCell.set({row:n,col:0})}getCellValue(e,n){let r=this.table();if(!r||n>=r.columns.length)return"";let o=r.columns[n];return gn(o,e)}setCellValue(e,n,r){let o=this.table();if(!o||n>=o.columns.length)return;let i=re(O({},o),{columns:[...o.columns]}),s=re(O({},i.columns[n]),{modifiers:[...i.columns[n].modifiers]});if(r===s.value)s.modifiers=s.modifiers.filter(a=>!a.samples.split(",").map(c=>parseInt(c.trim(),10)).includes(e));else{let a=s.modifiers.find(l=>l.value===r);a?a.samples=`${a.samples},${e}`:s.modifiers.push({samples:String(e),value:r})}i.columns[n]=s,this.table.set(i),this.tableChange.emit(i)}isSelected(e,n){let r=this.selectedCell();return r?.row===e&&r?.col===n}hasCellError(e,n){let r=this.validationResult();if(!r)return!1;let o=this.table();if(!o)return!1;let i=o.columns[n];return r.errors.some(s=>s.column?.toLowerCase()===i.name.toLowerCase()&&(!s.row||s.row===e))}RESERVED_VALUES=["not available","not applicable","anonymized","pooled"];isReservedValue(e){if(!e)return!1;let n=e.toLowerCase().trim();return this.RESERVED_VALUES.includes(n)}isReservedValueType(e,n){return e?e.toLowerCase().trim()===n.toLowerCase():!1}updateContainerHeight(){this.scrollContainer&&this.containerHeight.set(this.scrollContainer.nativeElement.clientHeight)}handleParseResult(e){e.success&&e.table?(this.table.set(e.table),this.tableChange.emit(e.table),this.validationResult.set(null),this.scrollTop.set(0),this.clearSelection(),e.warnings.length>0&&console.warn("Parse warnings:",e.warnings),console.log(`Loaded ${e.table.sampleCount} samples, ${e.table.columns.length} columns in ${e.stats.parseTimeMs.toFixed(0)}ms`)):this.error.set(e.error||"Unknown error")}toggleStatsPanel(){this.showStatsPanel.set(!this.showStatsPanel())}isRowSelected(e){return this.selectedSamples().has(e)}toggleRowSelection(e,n){let r=n.target,o=new Set(this.selectedSamples());r.checked?o.add(e):o.delete(e),this.selectedSamples.set(o),this.lastSelectedRow=e}onRowHeaderClick(e,n){let r=new Set(this.selectedSamples());if(n.shiftKey&&this.lastSelectedRow!==null){let o=Math.min(this.lastSelectedRow,e),i=Math.max(this.lastSelectedRow,e);for(let s=o;s<=i;s++)r.add(s)}else n.ctrlKey||n.metaKey?r.has(e)?r.delete(e):r.add(e):(r.clear(),r.add(e));this.selectedSamples.set(r),this.lastSelectedRow=e}isAllVisibleSelected(){let e=this.visibleRows();return e.length===0?!1:e.every(n=>this.selectedSamples().has(n))}isSomeVisibleSelected(){let e=this.visibleRows(),n=this.selectedSamples(),r=e.some(i=>n.has(i)),o=e.every(i=>n.has(i));return r&&!o}toggleSelectAllVisible(){let e=this.visibleRows(),n=new Set(this.selectedSamples());if(this.isAllVisibleSelected())for(let r of e)n.delete(r);else for(let r of e)n.add(r);this.selectedSamples.set(n)}clearSelection(){this.selectedSamples.set(new Set),this.lastSelectedRow=null}onCellContextMenu(e,n,r){e.preventDefault(),this.contextMenu.set({x:e.clientX,y:e.clientY,row:n,col:r})}closeContextMenu(){this.contextMenu.set(null)}selectAllWithSameValue(){let e=this.contextMenu();if(!e)return;let n=this.getCellValue(e.row,e.col),r=this.table();if(!r)return;let o=new Set(this.selectedSamples());for(let i=1;i<=r.sampleCount;i++)this.getCellValue(i,e.col)===n&&o.add(i);this.selectedSamples.set(o),this.closeContextMenu()}selectAllInColumn(){let e=this.contextMenu(),n=this.table();if(!e||!n)return;let r=new Set;for(let o=1;o<=n.sampleCount;o++)r.add(o);this.selectedSamples.set(r),this.closeContextMenu()}editSelectedCells(){let e=this.contextMenu();e&&this.startEditing(e.row,e.col),this.closeContextMenu()}clearSelectedCells(){let e=this.contextMenu(),n=this.selectedSamples();if(!e||n.size===0){this.closeContextMenu();return}this.bulkSetValue(e.col,"",Array.from(n)),this.closeContextMenu()}onSelectByValue(e){let n=new Set(this.selectedSamples());for(let r of e.sampleIndices)n.add(r);this.selectedSamples.set(n)}onSelectSamples(e){this.selectedSamples.set(new Set(e))}onStatsPanelBulkEdit(e){this.bulkSetValue(e.columnIndex,e.newValue,e.sampleIndices)}onBulkColumnEdit(e){this.bulkSetValue(e.columnIndex,e.newValue,e.sampleIndices)}onCopyFromFirst(e){let n=Array.from(this.selectedSamples()).sort((i,s)=>i-s);if(n.length<2)return;let r=this.getCellValue(n[0],e),o=n.slice(1);this.bulkSetValue(e,r,o)}bulkSetValue(e,n,r){let o=this.table();if(!o||e>=o.columns.length)return;let i=re(O({},o),{columns:[...o.columns]}),s=re(O({},i.columns[e]),{modifiers:[...i.columns[e].modifiers]});for(let a of r)Up(s,a,n);i.columns[e]=s,this.table.set(i),this.tableChange.emit(i),console.log(`Bulk updated ${r.length} samples in column "${s.name}" to "${n}"`)}getColumnTypeClass(e){let n=e.toLowerCase().trim();return n==="source name"?"source":n==="assay name"?"assay":n.startsWith("characteristics[")?"characteristic":n.startsWith("factor value[")||n.startsWith("factorvalue[")?"factor":n.startsWith("comment[")?"comment":n==="technology type"||n==="fraction identifier"||n==="label"?"special":"other"}onHeaderClick(e,n){if(n.ctrlKey||n.metaKey||n.shiftKey){this.selectColumn(e);return}if(this.sortColumn()===e)if(this.sortDirection()==="asc")this.sortDirection.set("desc");else{this.sortColumn.set(-1),this.sortedIndices.set([]);return}else this.sortColumn.set(e),this.sortDirection.set("asc");this.applySorting()}applySorting(){let e=this.table(),n=this.sortColumn();if(!e||n<0){this.sortedIndices.set([]);return}let r=[];for(let i=1;i<=e.sampleCount;i++)r.push([i,this.getCellValue(i,n)]);let o=this.sortDirection()==="asc"?1:-1;r.sort((i,s)=>{let a=i[1].toLowerCase(),l=s[1].toLowerCase(),c=parseFloat(a),u=parseFloat(l);return!isNaN(c)&&!isNaN(u)?(c-u)*o:a.localeCompare(l)*o}),this.sortedIndices.set(r.map(i=>i[0]))}getActualRowIndex(e){let n=this.sortedIndices();return n.length===0?e:n[e-1]||e}toggleFilterBar(){this.showFilterBar.set(!this.showFilterBar())}onFilterChange(e){e.matchingIndices.length===e.totalCount?this.filteredIndices.set([]):this.filteredIndices.set(e.matchingIndices),this.scrollTop.set(0),this.scrollContainer&&(this.scrollContainer.nativeElement.scrollTop=0)}static \u0275fac=function(n){return new(n||t)(ce(Ue))};static \u0275cmp=Te({type:t,selectors:[["sdrf-editor"]],viewQuery:function(n,r){if(n&1&&Ri(Eb,5),n&2){let o;Fi(o=Vi())&&(r.scrollContainer=o.first)}},inputs:{url:"url",content:"content",readonly:"readonly"},outputs:{tableChange:"tableChange",validationComplete:"validationComplete"},features:[Qe],decls:16,vars:11,consts:[["fileInput",""],["scrollContainer",""],[1,"sdrf-editor"],[1,"sdrf-toolbar"],[1,"toolbar-left"],["type","file","accept",".tsv,.txt,.sdrf",2,"display","none",3,"change"],[1,"btn","btn-primary",3,"click"],[1,"toolbar-right"],[1,"loading-overlay"],[1,"error-banner"],[3,"clearSelection","bulkEdit","copyFromFirst","table","selectedCount","selectedSamples"],[3,"table"],[1,"sdrf-content"],[1,"empty-state"],[1,"btn","btn-secondary",3,"click"],[1,"toolbar-divider"],["title","Filter rows",1,"btn",3,"click"],["title","Show column statistics",1,"btn",3,"click"],[1,"column-legend"],[1,"legend-item","source"],[1,"legend-item","assay"],[1,"legend-item","characteristic"],[1,"legend-item","factor"],[1,"legend-item","comment"],[1,"table-info"],[1,"loading-spinner"],[1,"btn-close",3,"click"],[3,"filterChange","table"],[1,"table-row"],[1,"sdrf-table-container",3,"scroll"],[1,"sdrf-table","sdrf-header-table"],[1,"row-header","checkbox-col"],["type","checkbox","title","Select all visible rows",3,"change","checked","indeterminate"],[1,"row-header"],[3,"class","required","selected","sorted"],[1,"scroll-spacer"],[1,"sdrf-table","sdrf-body-table"],[3,"selected","row-selected","height"],[1,"cell-editor-popup",3,"top","left"],[3,"table","selectedSamples"],[1,"jump-to-row"],["type","number","min","1",1,"jump-input",3,"ngModelChange","keydown.enter","max","ngModel"],[1,"btn","btn-small",3,"click"],[1,"validation-panel",3,"has-errors"],[1,"context-menu",3,"top","left"],[3,"click"],[1,"col-type-indicator"],[1,"col-name"],[1,"required-marker"],[1,"sort-indicator"],["type","checkbox",3,"change","click","checked"],[1,"row-header",3,"click"],[3,"selected","has-error"],[3,"click","dblclick","contextmenu"],[1,"cell-value"],[1,"cell-editor-popup"],[3,"save","cancel","value","column","rowIndex"],[3,"close","selectByValue","bulkEdit","selectSamples","table","selectedSamples"],[1,"validation-panel"],[1,"validation-header"],[1,"validation-errors"],[1,"validation-warnings"],[1,"error"],[1,"more"],[1,"warning"],[1,"context-menu"],[1,"hint"]],template:function(n,r){if(n&1){let o=F();f(0,"div",2)(1,"div",3)(2,"div",4)(3,"input",5,0),w("change",function(s){return E(o),M(r.onFileSelected(s))}),d(),f(5,"button",6),w("click",function(){E(o);let s=$f(4);return M(s.click())}),m(6," Import File "),d(),k(7,Mb,9,4),d(),f(8,"div",7),k(9,Sb,14,3),d()(),k(10,Ib,4,1,"div",8)(11,Tb,5,1,"div",9),f(12,"sdrf-bulk-toolbar",10),w("clearSelection",function(){return E(o),M(r.clearSelection())})("bulkEdit",function(s){return E(o),M(r.onBulkColumnEdit(s))})("copyFromFirst",function(s){return E(o),M(r.onCopyFromFirst(s))}),d(),k(13,Nb,1,1,"sdrf-filter-bar",11)(14,Qb,28,14,"div",12)(15,Kb,5,0,"div",13),d()}n&2&&(pe("loading",r.loading()),g(7),P(r.table()?7:-1),g(2),P(r.table()?9:-1),g(),P(r.loading()?10:-1),g(),P(r.error()?11:-1),g(),N("table",r.table())("selectedCount",r.selectedSamples().size)("selectedSamples",r.selectedSamples()),g(),P(r.table()&&r.showFilterBar()?13:-1),g(),P(r.table()?14:!r.loading()&&!r.error()?15:-1))},dependencies:[Ne,Oe,Me,lo,Ae,uo,co,xe,is,ss,as,ls],styles:["[_nghost-%COMP%]{display:block;height:100%;overflow:hidden}.sdrf-editor[_ngcontent-%COMP%]{display:flex;flex-direction:column;height:100%;font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,sans-serif;font-size:14px;overflow:hidden}sdrf-bulk-toolbar[_ngcontent-%COMP%], sdrf-filter-bar[_ngcontent-%COMP%]{display:block;flex-shrink:0}.sdrf-toolbar[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:8px 16px;background:#f5f5f5;border-bottom:1px solid #ddd;gap:8px;flex-shrink:0}.toolbar-left[_ngcontent-%COMP%], .toolbar-right[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px}.btn[_ngcontent-%COMP%]{padding:6px 12px;border:1px solid #ccc;border-radius:4px;background:#fff;cursor:pointer;font-size:13px}.btn[_ngcontent-%COMP%]:hover{background:#f0f0f0}.btn-primary[_ngcontent-%COMP%]{background:#06c;color:#fff;border-color:#06c}.btn-primary[_ngcontent-%COMP%]:hover{background:#05a}.btn-secondary[_ngcontent-%COMP%]{background:#6c757d;color:#fff;border-color:#6c757d}.btn-secondary[_ngcontent-%COMP%]:hover{background:#5a6268}.btn-small[_ngcontent-%COMP%]{padding:4px 8px;font-size:12px}.table-info[_ngcontent-%COMP%]{color:#666;font-size:12px}.column-legend[_ngcontent-%COMP%]{display:flex;gap:8px;margin-right:16px;padding-right:16px;border-right:1px solid #ddd}.legend-item[_ngcontent-%COMP%]{font-size:11px;padding:2px 6px;border-radius:3px;border-left:3px solid}.legend-item.source[_ngcontent-%COMP%]{border-left-color:#4caf50;background:#4caf501a}.legend-item.assay[_ngcontent-%COMP%]{border-left-color:#9c27b0;background:#9c27b01a}.legend-item.characteristic[_ngcontent-%COMP%]{border-left-color:#2196f3;background:#2196f31a}.legend-item.factor[_ngcontent-%COMP%]{border-left-color:#ff9800;background:#ff98001a}.legend-item.comment[_ngcontent-%COMP%]{border-left-color:#9e9e9e;background:#9e9e9e1a}.loading-overlay[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;padding:40px;color:#666;flex:1}.loading-spinner[_ngcontent-%COMP%]{width:32px;height:32px;border:3px solid #f3f3f3;border-top:3px solid #0066cc;border-radius:50%;animation:_ngcontent-%COMP%_spin 1s linear infinite;margin-bottom:12px}@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}.error-banner[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:12px 16px;background:#fee2e2;color:#b91c1c;border-bottom:1px solid #fca5a5;flex-shrink:0}.btn-close[_ngcontent-%COMP%]{background:none;border:none;font-size:20px;cursor:pointer;padding:0 4px}.sdrf-content[_ngcontent-%COMP%], .table-row[_ngcontent-%COMP%]{display:flex;flex-direction:column;flex:1;overflow:hidden;min-height:0}.table-row.with-sidebar[_ngcontent-%COMP%]{flex-direction:row}.table-row.with-sidebar[_ngcontent-%COMP%]   .sdrf-table-container[_ngcontent-%COMP%]{flex:1;min-width:0}.table-row.with-sidebar[_ngcontent-%COMP%]   sdrf-column-stats[_ngcontent-%COMP%]{flex-shrink:0}.sdrf-table-container[_ngcontent-%COMP%]{flex:1;overflow:auto;position:relative;min-height:0}.scroll-spacer[_ngcontent-%COMP%]{position:relative;width:fit-content;min-width:100%}.sdrf-table[_ngcontent-%COMP%]{border-collapse:collapse;font-size:13px;position:relative;table-layout:fixed;width:max-content;min-width:100%}.sdrf-header-table[_ngcontent-%COMP%]{position:sticky;top:0;z-index:20;background:#f8f9fa}.sdrf-body-table[_ngcontent-%COMP%]{will-change:transform}.sdrf-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .sdrf-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{border:1px solid #ddd;padding:6px 8px;text-align:left;white-space:nowrap;min-width:100px;max-width:300px;overflow:hidden;text-overflow:ellipsis;height:32px;box-sizing:border-box}.sdrf-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{background:#f8f9fa;font-weight:600}.sdrf-table[_ngcontent-%COMP%]   th.required[_ngcontent-%COMP%]{background:#fff3cd}.required-marker[_ngcontent-%COMP%]{color:#dc3545;margin-left:2px}.row-header[_ngcontent-%COMP%]{background:#f8f9fa;font-weight:500;text-align:center;width:60px;min-width:60px;max-width:60px;position:sticky;left:0;z-index:5}.sdrf-header-table[_ngcontent-%COMP%]   .row-header[_ngcontent-%COMP%]{z-index:25}.checkbox-col[_ngcontent-%COMP%]{width:32px;min-width:32px;max-width:32px;text-align:center;padding:4px!important}.checkbox-col[_ngcontent-%COMP%]   input[type=checkbox][_ngcontent-%COMP%]{margin:0;cursor:pointer}.sdrf-table[_ngcontent-%COMP%]   td.selected[_ngcontent-%COMP%], .sdrf-table[_ngcontent-%COMP%]   th.selected[_ngcontent-%COMP%]{background:#e3f2fd;outline:2px solid #2196f3;outline-offset:-2px}.sdrf-table[_ngcontent-%COMP%]   td.has-error[_ngcontent-%COMP%]{background:#ffebee}.cell-value[_ngcontent-%COMP%]{display:block;min-height:1em}.cell-value.reserved-value[_ngcontent-%COMP%]{color:#9e9e9e;font-style:italic}.cell-value.reserved-not-available[_ngcontent-%COMP%], .cell-value.reserved-not-applicable[_ngcontent-%COMP%]{color:#757575;font-style:italic;background:#f5f5f5;border-radius:3px;padding:2px 6px;margin:-2px -6px}.cell-value.reserved-anonymized[_ngcontent-%COMP%]{color:#7b1fa2;font-style:italic;background:#f3e5f5;border-radius:3px;padding:2px 6px;margin:-2px -6px}.cell-value.reserved-pooled[_ngcontent-%COMP%]{color:#1565c0;font-style:italic;background:#e3f2fd;border-radius:3px;padding:2px 6px;margin:-2px -6px}.cell-editor-popup[_ngcontent-%COMP%]{position:absolute;z-index:100;animation:_ngcontent-%COMP%_fadeIn .15s ease-out}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0;transform:translateY(-4px)}to{opacity:1;transform:translateY(0)}}.jump-to-row[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;padding:8px 16px;background:#f8f9fa;border-top:1px solid #ddd;flex-shrink:0}.jump-to-row[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;font-size:13px}.jump-input[_ngcontent-%COMP%]{width:80px;padding:4px 8px;border:1px solid #ccc;border-radius:4px;font-size:13px}.validation-panel[_ngcontent-%COMP%]{padding:16px;border-top:1px solid #ddd;background:#f8f9fa;max-height:200px;overflow-y:auto;flex-shrink:0}.validation-panel.has-errors[_ngcontent-%COMP%]{background:#fff5f5}.validation-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:12px}.validation-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0;font-size:14px}.validation-errors[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%], .validation-warnings[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin:0 0 8px;font-size:13px;font-weight:600}.validation-errors[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%], .validation-warnings[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{margin:0;padding-left:20px}.validation-errors[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{color:#b91c1c}.validation-warnings[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{color:#b45309}.validation-errors[_ngcontent-%COMP%]   li.more[_ngcontent-%COMP%], .validation-warnings[_ngcontent-%COMP%]   li.more[_ngcontent-%COMP%]{font-style:italic;opacity:.8}.empty-state[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;padding:60px;color:#666;flex:1}.empty-state[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:4px 0}.empty-state[_ngcontent-%COMP%]   .hint[_ngcontent-%COMP%]{font-size:12px;color:#999}.col-type-indicator[_ngcontent-%COMP%]{position:absolute;left:0;top:0;bottom:0;width:3px}.sdrf-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding-left:10px}.sdrf-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .col-name[_ngcontent-%COMP%]{display:inline}.col-type-source[_ngcontent-%COMP%]   .col-type-indicator[_ngcontent-%COMP%]{background:#4caf50}.col-type-source[_ngcontent-%COMP%]{border-left:3px solid #4caf50}.col-type-assay[_ngcontent-%COMP%]   .col-type-indicator[_ngcontent-%COMP%]{background:#9c27b0}.col-type-assay[_ngcontent-%COMP%]{border-left:3px solid #9c27b0}.col-type-characteristic[_ngcontent-%COMP%]   .col-type-indicator[_ngcontent-%COMP%]{background:#2196f3}.col-type-characteristic[_ngcontent-%COMP%]{border-left:3px solid #2196f3}.col-type-factor[_ngcontent-%COMP%]   .col-type-indicator[_ngcontent-%COMP%]{background:#ff9800}.col-type-factor[_ngcontent-%COMP%]{border-left:3px solid #ff9800}.col-type-comment[_ngcontent-%COMP%]   .col-type-indicator[_ngcontent-%COMP%]{background:#9e9e9e}.col-type-comment[_ngcontent-%COMP%]{border-left:3px solid #9e9e9e}.col-type-special[_ngcontent-%COMP%]   .col-type-indicator[_ngcontent-%COMP%]{background:#607d8b}.col-type-special[_ngcontent-%COMP%]{border-left:3px solid #607d8b}.col-type-other[_ngcontent-%COMP%]   .col-type-indicator[_ngcontent-%COMP%]{background:#bdbdbd}.col-type-other[_ngcontent-%COMP%]{border-left:3px solid #bdbdbd}.sort-indicator[_ngcontent-%COMP%]{margin-left:4px;font-size:10px;color:#1976d2}.sdrf-table[_ngcontent-%COMP%]   th.sorted[_ngcontent-%COMP%]{background:#e3f2fd}.sdrf-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:hover{cursor:pointer;background:#f0f0f0}.toolbar-divider[_ngcontent-%COMP%]{width:1px;height:24px;background:#ddd;margin:0 4px}.btn-active[_ngcontent-%COMP%]{background:#e3f2fd!important;border-color:#2196f3!important;color:#1976d2!important}tr.row-selected[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{background:#e8f5e9!important}tr.row-selected[_ngcontent-%COMP%]   td.row-header[_ngcontent-%COMP%]{background:#c8e6c9!important}.context-menu[_ngcontent-%COMP%]{position:absolute;z-index:200;background:#fff;border:1px solid #ddd;border-radius:6px;box-shadow:0 4px 12px #00000026;padding:4px 0;min-width:200px}.context-menu[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{display:block;width:100%;padding:8px 16px;border:none;background:none;text-align:left;cursor:pointer;font-size:13px}.context-menu[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background:#f5f5f5}.context-menu[_ngcontent-%COMP%]   hr[_ngcontent-%COMP%]{margin:4px 0;border:none;border-top:1px solid #eee}"],changeDetection:0})};var us=class t{sdrfUrl="";activeUrl="";sampleUrl="https://raw.githubusercontent.com/bigbio/proteomics-metadata-standard/master/annotated-projects/PXD000612/sdrf.tsv";ngOnInit(){let n=new URLSearchParams(window.location.search).get("url");n&&(this.sdrfUrl=n,this.activeUrl=n)}loadUrl(){this.sdrfUrl&&(this.activeUrl=this.sdrfUrl)}loadSample(){this.sdrfUrl=this.sampleUrl,this.activeUrl=this.sampleUrl}onTableChange(e){console.log("Table changed:",e)}onValidation(e){console.log("Validation result:",e)}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=Te({type:t,selectors:[["app-root"]],decls:17,vars:2,consts:[[1,"app-container"],[1,"app-header"],[1,"app-main"],[1,"app-controls"],["type","text","placeholder","Enter SDRF URL...",1,"url-input",3,"ngModelChange","ngModel"],[1,"btn","btn-primary",3,"click"],[1,"btn","btn-secondary",3,"click"],[1,"editor-wrapper"],[3,"tableChange","validationComplete","url"]],template:function(n,r){n&1&&(f(0,"div",0)(1,"header",1)(2,"h1"),m(3,"SDRF Editor"),d(),f(4,"p"),m(5,"Standalone SDRF (Sample and Data Relationship Format) editor for proteomics metadata"),d()(),f(6,"main",2)(7,"div",3)(8,"label"),m(9," Load from URL: "),f(10,"input",4),it("ngModelChange",function(i){return at(r.sdrfUrl,i)||(r.sdrfUrl=i),i}),d()(),f(11,"button",5),w("click",function(){return r.loadUrl()}),m(12,"Load"),d(),f(13,"button",6),w("click",function(){return r.loadSample()}),m(14,"Load Sample"),d()(),f(15,"div",7)(16,"sdrf-editor",8),w("tableChange",function(i){return r.onTableChange(i)})("validationComplete",function(i){return r.onValidation(i)}),d()()()()),n&2&&(g(10),ot("ngModel",r.sdrfUrl),g(6),N("url",r.activeUrl))},dependencies:[Oe,Me,Ae,xe,cs],styles:[".app-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;height:100vh}.app-header[_ngcontent-%COMP%]{padding:16px 24px;background:#1a1a2e;color:#fff}.app-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{margin:0 0 4px;font-size:24px}.app-header[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;opacity:.8;font-size:14px}.app-main[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column;overflow:hidden}.app-controls[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px;padding:12px 24px;background:#f5f5f5;border-bottom:1px solid #ddd}.app-controls[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;flex:1}.url-input[_ngcontent-%COMP%]{flex:1;padding:8px 12px;border:1px solid #ccc;border-radius:4px;font-size:14px}.btn[_ngcontent-%COMP%]{padding:8px 16px;border:none;border-radius:4px;font-size:14px;cursor:pointer;transition:background-color .2s}.btn-primary[_ngcontent-%COMP%]{background:#06c;color:#fff}.btn-primary[_ngcontent-%COMP%]:hover{background:#05a}.btn-secondary[_ngcontent-%COMP%]{background:#6c757d;color:#fff}.btn-secondary[_ngcontent-%COMP%]:hover{background:#5a6268}.editor-wrapper[_ngcontent-%COMP%]{flex:1;overflow:hidden}sdrf-editor[_ngcontent-%COMP%]{display:block;height:100%}"]})};oc(us,{providers:[]}).catch(t=>console.error(t));
